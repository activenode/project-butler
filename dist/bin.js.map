{"version":3,"sources":["node_modules/process/browser.js","utils/stdoutToStderrProxy.js","package.json","node_modules/events/events.js","node_modules/path-browserify/index.js","node_modules/util/support/isBufferBrowser.js","node_modules/util/node_modules/inherits/inherits_browser.js","node_modules/util/util.js","node_modules/commander/index.js","node_modules/os-browserify/browser.js","node_modules/os-homedir/index.js","utils/getHomeDirectory.js","config.js","db/ensureStorageExistence.js","io.js","db/dbResultModels.js","db/database.js","db/getDatabaseManager.js","shell/shellset.js","utils/butlerrc.js","shell/shellify.js","cli/addProject.js","cli/removeProject.js","utils/readJson.js","utils/parsePackageJson.js","cli/openProjectOrCallCommand.js","assets/shellscript.string.js","cli/commandless/shellScript.js","node_modules/colors/lib/styles.js","node_modules/colors/lib/system/has-flag.js","node_modules/colors/lib/system/supports-colors.js","node_modules/colors/lib/custom/trap.js","node_modules/colors/lib/custom/zalgo.js","node_modules/colors/lib/maps/america.js","node_modules/colors/lib/maps/zebra.js","node_modules/colors/lib/maps/rainbow.js","node_modules/colors/lib/maps/random.js","node_modules/colors/lib/colors.js","node_modules/colors/safe.js","node_modules/object-assign/index.js","node_modules/assert/node_modules/util/support/isBufferBrowser.js","node_modules/assert/node_modules/inherits/inherits_browser.js","node_modules/assert/node_modules/util/util.js","node_modules/assert/assert.js","node_modules/ansi-colors/symbols.js","node_modules/ansi-colors/index.js","node_modules/enquirer/lib/utils.js","node_modules/enquirer/lib/combos.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/isarray/index.js","node_modules/node-libs-browser/node_modules/buffer/index.js","node_modules/enquirer/lib/keypress.js","node_modules/enquirer/lib/timer.js","node_modules/enquirer/lib/state.js","node_modules/enquirer/lib/styles.js","node_modules/enquirer/lib/symbols.js","node_modules/enquirer/lib/theme.js","node_modules/enquirer/lib/ansi.js","node_modules/enquirer/lib/prompt.js","node_modules/enquirer/lib/roles.js","node_modules/enquirer/lib/types/array.js","node_modules/enquirer/lib/prompts/select.js","node_modules/enquirer/lib/prompts/autocomplete.js","node_modules/enquirer/lib/placeholder.js","node_modules/enquirer/lib/prompts/form.js","node_modules/enquirer/lib/types/auth.js","node_modules/enquirer/lib/prompts/basicauth.js","node_modules/enquirer/lib/types/boolean.js","node_modules/enquirer/lib/prompts/confirm.js","node_modules/enquirer/lib/prompts/editable.js","node_modules/enquirer/lib/types/string.js","node_modules/enquirer/lib/completer.js","node_modules/enquirer/lib/prompts/input.js","node_modules/enquirer/lib/prompts/invisible.js","node_modules/enquirer/lib/prompts/list.js","node_modules/enquirer/lib/prompts/multiselect.js","node_modules/enquirer/lib/types/number.js","node_modules/enquirer/lib/prompts/numeral.js","node_modules/enquirer/lib/prompts/password.js","node_modules/enquirer/lib/prompts/scale.js","node_modules/enquirer/lib/interpolate.js","node_modules/enquirer/lib/prompts/snippet.js","node_modules/enquirer/lib/prompts/sort.js","node_modules/enquirer/lib/prompts/survey.js","node_modules/enquirer/lib/prompts/text.js","node_modules/enquirer/lib/prompts/toggle.js","node_modules/enquirer/lib/prompts/quiz.js","node_modules/enquirer/lib/prompts/index.js","node_modules/enquirer/lib/types/index.js","node_modules/enquirer/index.js","utils/shell.meta.js","cli/commandless/installAliasInShellRc.js","cli/commandless/catchAll.js","bin.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","OUTPUT_MODES","NORMAL","STDOUT_TO_STDERR","StdoutToStderrProxy","stdout","write","stderr","promiseToResolve","Promise","stdoutToStderr","then","resetToDefault","old_stdout_write","exitCode","onExit","R","Reflect","ReflectApply","target","receiver","Function","ReflectOwnKeys","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","ProcessEmitWarning","warning","console","warn","NumberIsNaN","Number","isNaN","value","EventEmitter","init","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","create","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","type","doError","events","error","er","err","message","context","handler","arrayClone","_addListener","prepend","m","existing","newListener","unshift","warned","w","String","emitter","count","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","list","position","originalListener","shift","spliceOne","keys","key","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","index","pop","ret","getOwnPropertyDescriptors","obj","descriptors","getOwnPropertyDescriptor","formatRegExp","format","f","isString","objects","inspect","join","str","replace","x","JSON","stringify","_","isNull","isObject","deprecate","fn","msg","noDeprecation","deprecated","throwDeprecation","traceDeprecation","trace","debugs","debugEnviron","debuglog","isUndefined","toUpperCase","RegExp","test","pid","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","hash","forEach","val","idx","recurseTimes","isFunction","constructor","primitive","formatPrimitive","visibleKeys","isError","indexOf","formatError","isRegExp","toString","isDate","Date","base","braces","isArray","toUTCString","output","formatArray","map","formatProperty","reduceToSingleString","simple","isNumber","l","hasOwnProperty","match","desc","split","line","substr","numLinesEst","reduce","prev","cur","ar","isNullOrUndefined","isSymbol","re","objectToString","d","isPrimitive","isBuffer","require","o","pad","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","log","inherits","origin","add","prop","kCustomPromisifiedSymbol","Symbol","promisify","original","writable","configurable","promiseResolve","promiseReject","promise","resolve","reject","setPrototypeOf","defineProperties","custom","callbackifyOnRejected","reason","cb","newReason","callbackify","callbackified","maybeCb","self","rej","os","homedir","home","HOME","user","LOGNAME","USER","LNAME","USERNAME","platform","USERPROFILE","HOMEDRIVE","HOMEPATH","getuid","osHomedir","exit","directoryNameProjectButler","dbRootDirectory","shellAliasGetterString","shellAliasGetterEvalString","database","dbManagerFilePathAbsolute","shellCommands","fs","ensureStorageExistence","ensureFSExistence","fsPath","syncOnNotExistFunc","path","mkdirSync","bSecondTry","existsSync","syscall","closeSync","openSync","readWriteHelper","filePath","read","res","readFile","buffer","writeFile","close","fd","open","Result","messages","resultData","aliasesArray","AddedResult","text","projectDetails","ErrorResult","childMessages","ExactProjectResult","project","data","absPath","ProjectListResult","listOfProjects","SearchProjectListResult","projectListResult","searchString","filter","sAlias","includes","ProjectProposalResult","CommandWrapper","command","from","json","_logdata","PATH_DELIMITER","EMPTY_STRUCT","projects","quickRef","_settings","_i","errorResult","addError","getKeysFromMap","Map","keyValueArr","matchesInArray","ProjectDatabase","fileHandler","pathSeparator","lastRead","load","setupEmptyMaps","indexToProject","aliasesToIndex","absPathToIndex","uidToIndex","indexToUid","uids","curr","next","done","getProjectDetailsByUID","uidsPrefiltered","all","uid","projectDetailsArray","newDataObj","bForceFileIO","contents","parse","catch","readError","parseData","directoryName","dataStruct","aliases","alias","projectData","sAbsoluteDirectoryPath","absoluteDirectoryIndex","foundMatches","getExactProjectResultByAlias","allFoundMatchesAsIndices","bAllMatchesPointToSame","every","iIndex","fetchAll","has","findNextBestMatch","options","aliasesInUse","excludePath","toLowerCase","mapExistingAliasesWithProjectDirs","aliasObj","result","aliasesToWrite","addWarning","save","saveProjectDetails","bDeleteAll","existingAliases","affectedUidsArr","oSet","Set","hydrateDatabase","io","separator","sep","config","_databaseConnection","databaseFile","BASH_STYLES","none","underline","red","cyan","yellow","bgBlack","bold","white","generateLineBreaks","numLineBreaks","ShellCd","ShellRaw","rawCommand","ShellEcho","mode","prefixString","ShellSet","cmdSet","inpStr","acc","plain","break","num","each","iterFunc","item","build","cmd","readButlerRc","butlerRcConfig","className","__proto__","shellify","resultInstance","objType","shell","shellString","stringBuilder","addRaw","addMessage","aliasesPreprocess","lookupButlerRc","getPath","rcFileExists","addCd","getErrors","__","shellifiedResult","writeToActualStdout","getCWD","cli","db","option","description","action","addProject","removeByDirectory","removeByAliases","readJson","file","jsonFileContents","readFileSync","parsePackageJson","packageJsonPath","jsonObj","packageJson","getScript","scriptName","scripts","tryOpenProjectByAliasOrName","aliasOrName","findBestMatch","openProjectOrCallAction","projectNameOrAction","currentWorkingDirectoryAbsPath","getExactProjectResultByAbsoluteDirectory","projectResult","bCommandCalled","potentialNpmScriptToExecute","flags","shellScript","codes","reset","dim","italic","inverse","hidden","strikethrough","black","green","blue","magenta","gray","grey","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","bgGray","bgGrey","bgBrightRed","bgBrightGreen","bgBrightYellow","bgBrightBlue","bgBrightMagenta","bgBrightCyan","bgBrightWhite","blackBG","redBG","greenBG","yellowBG","blueBG","magentaBG","cyanBG","whiteBG","flag","terminatorPos","prefix","pos","hasFlag","forceColor","FORCE_COLOR","parseInt","translateLevel","level","hasBasic","has256","has16m","supportsColor","stream","isTTY","min","osRelease","release","node","some","sign","CI_NAME","TEAMCITY_VERSION","TERM_PROGRAM_VERSION","TERM_PROGRAM","TERM","getSupportLevel","runTheTrap","trap","a","b","c","g","h","j","k","p","q","r","s","t","u","v","y","z","chars","rand","Math","floor","random","zalgo","soul","up","down","mid","randomNumber","range","isChar","character","bool","heComes","counts","size","letter","exploded","rainbowColors","available","round","themes","util","ansiStyles","defineProps","newLineRegex","enabled","enable","disable","stripColors","strip","styleMap","matchOperatorsRe","escapeStringRegexp","_styles","builder","applyStyle","proto","closeRe","slice","newLinesPresent","nestedStyles","code","setTheme","theme","out","sequencer","maps","america","zebra","rainbow","propIsEnumerable","propertyIsEnumerable","toObject","shouldUseNative","assign","test1","test2","fromCharCode","order2","test3","source","to","symbols","global","isWindows","isLinux","windows","bullet","check","cross","ellipsis","heart","info","middot","minus","plus","question","questionSmall","pointer","pointerSmall","other","ballotCross","questionFull","visible","ansi","regex","wrap","nl","input","stack","define","color","ansiRegex","hasColor","hasAnsi","lastIndex","unstyle","clear","stripColor","called","fns","complements","longest","max","nativeType","isAsyncFn","rest","scrollDown","choices","scrollUp","reorder","sort","swap","choice","width","fallback","columns","getWindowSize","height","rows","wordWrap","indent","newline","spaces","trim","lines","padEnd","padStart","unmute","find","bg","pascal","col","complement","lower","comp","meridiem","date","hours","minutes","ampm","hrs","mixin","merge","ele","mixinEmitter","callback","quit","defineExport","ctrl","left","right","tab","delete","pageup","pagedown","end","cancel","backspace","enter","escape","space","number","return","readline","combos","metaKeyCodeRe","fnKeyRe","keyName","isShiftKey","isCtrlKey","keypress","event","parts","meta","sequence","raw","Buffer","charAt","charCodeAt","exec","segs","Boolean","modifier","listen","onKeypress","stdin","rl","createInterface","terminal","emitKeypressEvents","buf","isRaw","setRawMode","resume","pause","customActions","prompt","timers","interval","timer","start","now","ms","tick","frames","loading","setInterval","render","stop","clearInterval","State","header","footer","hint","cursor","required","cancelled","submitted","status","clone","_color","pending","_loading","loadingChoices","utils","default","_inverse","primary","_complement","success","danger","strong","muted","disabled","dark","_info","em","_em","heading","_heading","_pending","_submitted","_cancelled","typing","_typing","placeholder","_placeholder","highlight","_highlight","upDownDoubleArrow","upDownDoubleArrow2","upDownArrow","asterisk","asterism","bulletWhite","electricArrow","ellipsisLarge","ellipsisSmall","fullBlock","identicalTo","indicator","leftAngle","mark","multiplication","obelus","percent","pilcrow","pilcrow2","pencilUpRight","pencilDownRight","pencilRight","plusMinus","pointRight","rightAngle","section","hexagon","ballot","stars","folder","radio","numbers","isTerm","ESC","BEL","bell","beep","beginning","esc","getPosition","hide","lineEnd","lineStart","restorePosition","savePosition","screen","show","forward","backward","nextLine","repeat","prevLine","move","restore","after","initial","diff","erase","Events","Prompt","scale","term","margin","setOptions","keypressed","actions","dispatch","alert","cursorShow","closed","sections","first","last","promptLine","validating","onSubmit","validate","onCancel","ceil","skipped","skip","onRun","submit","initialize","element","focused","styled","isValue","isValidKey","ignore","ignoreFn","char","roles","checkbox","editable","expandable","spacer","role","ArrayPrompt","cursorHide","maxSelected","Infinity","multiple","delay","autofocus","suggest","_choices","toChoices","ch","selectable","findIndex","isDisabled","parent","items","toChoice","normalized","origVal","isSelected","onChoice","limit","newChoice","addChoice","updateChoice","selected","toggle","actualIdx","numberTimeout","handle","vis","scroll","sorting","_limit","isEnabled","isChoice","names","multi","_initial","focus","SelectPrompt","emptyError","ind","choiceMessage","renderChoice","choicesHeader","help","renderChoices","body","Select","colored","AutoComplete","append","moveCursor","complete","completing","showCursor","blinker","reverse","blink","startsWith","FormPrompt","align","values","_index","choiceSeparator","defaultAuthenticate","factory","authenticate","AuthPrompt","username","password","showPassword","BasicAuthPrompt","BooleanPrompt","cast","isTrue","isFalse","ConfirmPrompt","Form","form","Editable","symbol","StringPrompt","prevCursor","clipboard","prevKeypress","multiline","before","words","insert","unique","lastIndexOf","compact","past","present","completer","Input","history","store","autosave","completion","InvisiblePrompt","ListPrompt","MultiSelect","NumberPrompt","toNumber","float","major","minor","step","PasswordPrompt","LikertScale","widths","messageWidth","linebreak","edgeLength","startNumber","scaleKey","fill","tableized","scaleIndex","renderScaleHeading","scaleLength","spacing","headings","padding","scaleIndicator","renderScale","tableize","renderScaleKey","clean","token","field","tokenize","defaults","fields","template","tabstops","peek","inner","createFn","isValid","isVal","invalid","missing","completed","toFixed","interpolate","SnippetPrompt","getItem","suffix","decrement","increment","Sort","sym","pre","drag","numbered","Survey","createdScales","createScale","scaleIdx","isHyper","ln","sp","dot","TogglePrompt","active","Quiz","correctChoice","selectedAnswer","correctAnswer","correct","assert","Enquirer","answers","register","equal","prompts","questions","ask","enquirer","autofill","plugin","_Prompt","exp","types","shellRcPaths","shellRcSelectAutocomplete","shellPath","install","bWrite","rcFileContents","appendFileSync","projectsArray","longestDirectoryNameLength","longestInt","homeDirRx","Confirm","boolDoDelete","VERSION","getDatabaseManager","setupCommand_addProject","setupCommand_removeProject","setupCommand_openProjectOrCallCommand","cli_returnShellScript","cli_installAliasInShellRc","cli_catchAll","parsedCliArgs","mutualExclusiveCliEvaluators","lastPromise","cliEvaluator","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","id","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","overlay","createErrorOverlay","document","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","deps","cached","cache"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9SA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIC,yBAAyB,GAAGjF,MAAM,CAACiF,yBAAP,IAC9B,SAASA,yBAAT,CAAmCC,GAAnC,EAAwC;AACtC,MAAIf,IAAI,GAAGnE,MAAM,CAACmE,IAAP,CAAYe,GAAZ,CAAX;AACA,MAAIC,WAAW,GAAG,EAAlB;;AACA,OAAK,IAAItI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsH,IAAI,CAAChI,MAAzB,EAAiCU,CAAC,EAAlC,EAAsC;AACpCsI,IAAAA,WAAW,CAAChB,IAAI,CAACtH,CAAD,CAAL,CAAX,GAAuBmD,MAAM,CAACoF,wBAAP,CAAgCF,GAAhC,EAAqCf,IAAI,CAACtH,CAAD,CAAzC,CAAvB;AACD;;AACD,SAAOsI,WAAP;AACD,CARH;;AAUA,IAAIE,YAAY,GAAG,UAAnB;;AACArK,OAAO,CAACsK,MAAR,GAAiB,UAASC,CAAT,EAAY;AAC3B,MAAI,CAACC,QAAQ,CAACD,CAAD,CAAb,EAAkB;AAChB,QAAIE,OAAO,GAAG,EAAd;;AACA,SAAK,IAAI5I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,SAAS,CAACT,MAA9B,EAAsCU,CAAC,EAAvC,EAA2C;AACzC4I,MAAAA,OAAO,CAAC3I,IAAR,CAAa4I,OAAO,CAAC9I,SAAS,CAACC,CAAD,CAAV,CAApB;AACD;;AACD,WAAO4I,OAAO,CAACE,IAAR,CAAa,GAAb,CAAP;AACD;;AAED,MAAI9I,CAAC,GAAG,CAAR;AACA,MAAIH,IAAI,GAAGE,SAAX;AACA,MAAIL,GAAG,GAAGG,IAAI,CAACP,MAAf;AACA,MAAIyJ,GAAG,GAAGxC,MAAM,CAACmC,CAAD,CAAN,CAAUM,OAAV,CAAkBR,YAAlB,EAAgC,UAASS,CAAT,EAAY;AACpD,QAAIA,CAAC,KAAK,IAAV,EAAgB,OAAO,GAAP;AAChB,QAAIjJ,CAAC,IAAIN,GAAT,EAAc,OAAOuJ,CAAP;;AACd,YAAQA,CAAR;AACE,WAAK,IAAL;AAAW,eAAO1C,MAAM,CAAC1G,IAAI,CAACG,CAAC,EAAF,CAAL,CAAb;;AACX,WAAK,IAAL;AAAW,eAAO2D,MAAM,CAAC9D,IAAI,CAACG,CAAC,EAAF,CAAL,CAAb;;AACX,WAAK,IAAL;AACE,YAAI;AACF,iBAAOkJ,IAAI,CAACC,SAAL,CAAetJ,IAAI,CAACG,CAAC,EAAF,CAAnB,CAAP;AACD,SAFD,CAEE,OAAOoJ,CAAP,EAAU;AACV,iBAAO,YAAP;AACD;;AACH;AACE,eAAOH,CAAP;AAVJ;AAYD,GAfS,CAAV;;AAgBA,OAAK,IAAIA,CAAC,GAAGpJ,IAAI,CAACG,CAAD,CAAjB,EAAsBA,CAAC,GAAGN,GAA1B,EAA+BuJ,CAAC,GAAGpJ,IAAI,CAAC,EAAEG,CAAH,CAAvC,EAA8C;AAC5C,QAAIqJ,MAAM,CAACJ,CAAD,CAAN,IAAa,CAACK,QAAQ,CAACL,CAAD,CAA1B,EAA+B;AAC7BF,MAAAA,GAAG,IAAI,MAAME,CAAb;AACD,KAFD,MAEO;AACLF,MAAAA,GAAG,IAAI,MAAMF,OAAO,CAACI,CAAD,CAApB;AACD;AACF;;AACD,SAAOF,GAAP;AACD,CApCD,EAuCA;AACA;AACA;;;AACA5K,OAAO,CAACoL,SAAR,GAAoB,UAASC,EAAT,EAAaC,GAAb,EAAkB;AACpC,MAAI,OAAOxL,OAAP,KAAmB,WAAnB,IAAkCA,OAAO,CAACyL,aAAR,KAA0B,IAAhE,EAAsE;AACpE,WAAOF,EAAP;AACD,GAHmC,CAKpC;;;AACA,MAAI,OAAOvL,OAAP,KAAmB,WAAvB,EAAoC;AAClC,WAAO,YAAW;AAChB,aAAOE,OAAO,CAACoL,SAAR,CAAkBC,EAAlB,EAAsBC,GAAtB,EAA2BpJ,KAA3B,CAAiC,IAAjC,EAAuCN,SAAvC,CAAP;AACD,KAFD;AAGD;;AAED,MAAIsG,MAAM,GAAG,KAAb;;AACA,WAASsD,UAAT,GAAsB;AACpB,QAAI,CAACtD,MAAL,EAAa;AACX,UAAIpI,OAAO,CAAC2L,gBAAZ,EAA8B;AAC5B,cAAM,IAAIrL,KAAJ,CAAUkL,GAAV,CAAN;AACD,OAFD,MAEO,IAAIxL,OAAO,CAAC4L,gBAAZ,EAA8B;AACnCrG,QAAAA,OAAO,CAACsG,KAAR,CAAcL,GAAd;AACD,OAFM,MAEA;AACLjG,QAAAA,OAAO,CAACgC,KAAR,CAAciE,GAAd;AACD;;AACDpD,MAAAA,MAAM,GAAG,IAAT;AACD;;AACD,WAAOmD,EAAE,CAACnJ,KAAH,CAAS,IAAT,EAAeN,SAAf,CAAP;AACD;;AAED,SAAO4J,UAAP;AACD,CA5BD;;AA+BA,IAAII,MAAM,GAAG,EAAb;AACA,IAAIC,YAAJ;;AACA7L,OAAO,CAAC8L,QAAR,GAAmB,UAAStF,GAAT,EAAc;AAC/B,MAAIuF,WAAW,CAACF,YAAD,CAAf,EACEA,YAAY,GAAG,aAA0B,EAAzC;AACFrF,EAAAA,GAAG,GAAGA,GAAG,CAACwF,WAAJ,EAAN;;AACA,MAAI,CAACJ,MAAM,CAACpF,GAAD,CAAX,EAAkB;AAChB,QAAI,IAAIyF,MAAJ,CAAW,QAAQzF,GAAR,GAAc,KAAzB,EAAgC,GAAhC,EAAqC0F,IAArC,CAA0CL,YAA1C,CAAJ,EAA6D;AAC3D,UAAIM,GAAG,GAAGrM,OAAO,CAACqM,GAAlB;;AACAP,MAAAA,MAAM,CAACpF,GAAD,CAAN,GAAc,YAAW;AACvB,YAAI8E,GAAG,GAAGtL,OAAO,CAACsK,MAAR,CAAepI,KAAf,CAAqBlC,OAArB,EAA8B4B,SAA9B,CAAV;AACAyD,QAAAA,OAAO,CAACgC,KAAR,CAAc,WAAd,EAA2Bb,GAA3B,EAAgC2F,GAAhC,EAAqCb,GAArC;AACD,OAHD;AAID,KAND,MAMO;AACLM,MAAAA,MAAM,CAACpF,GAAD,CAAN,GAAc,YAAW,CAAE,CAA3B;AACD;AACF;;AACD,SAAOoF,MAAM,CAACpF,GAAD,CAAb;AACD,CAhBD;AAmBA;;;;;;;;AAOA;;;AACA,SAASkE,OAAT,CAAiBR,GAAjB,EAAsBkC,IAAtB,EAA4B;AAC1B;AACA,MAAIC,GAAG,GAAG;AACRC,IAAAA,IAAI,EAAE,EADE;AAERC,IAAAA,OAAO,EAAEC;AAFD,GAAV,CAF0B,CAM1B;;AACA,MAAI5K,SAAS,CAACT,MAAV,IAAoB,CAAxB,EAA2BkL,GAAG,CAACI,KAAJ,GAAY7K,SAAS,CAAC,CAAD,CAArB;AAC3B,MAAIA,SAAS,CAACT,MAAV,IAAoB,CAAxB,EAA2BkL,GAAG,CAACK,MAAJ,GAAa9K,SAAS,CAAC,CAAD,CAAtB;;AAC3B,MAAI+K,SAAS,CAACP,IAAD,CAAb,EAAqB;AACnB;AACAC,IAAAA,GAAG,CAACO,UAAJ,GAAiBR,IAAjB;AACD,GAHD,MAGO,IAAIA,IAAJ,EAAU;AACf;AACApM,IAAAA,OAAO,CAAC6M,OAAR,CAAgBR,GAAhB,EAAqBD,IAArB;AACD,GAfyB,CAgB1B;;;AACA,MAAIL,WAAW,CAACM,GAAG,CAACO,UAAL,CAAf,EAAiCP,GAAG,CAACO,UAAJ,GAAiB,KAAjB;AACjC,MAAIb,WAAW,CAACM,GAAG,CAACI,KAAL,CAAf,EAA4BJ,GAAG,CAACI,KAAJ,GAAY,CAAZ;AAC5B,MAAIV,WAAW,CAACM,GAAG,CAACK,MAAL,CAAf,EAA6BL,GAAG,CAACK,MAAJ,GAAa,KAAb;AAC7B,MAAIX,WAAW,CAACM,GAAG,CAACS,aAAL,CAAf,EAAoCT,GAAG,CAACS,aAAJ,GAAoB,IAApB;AACpC,MAAIT,GAAG,CAACK,MAAR,EAAgBL,GAAG,CAACE,OAAJ,GAAcQ,gBAAd;AAChB,SAAOC,WAAW,CAACX,GAAD,EAAMnC,GAAN,EAAWmC,GAAG,CAACI,KAAf,CAAlB;AACD;;AACDzM,OAAO,CAAC0K,OAAR,GAAkBA,OAAlB,EAGA;;AACAA,OAAO,CAACgC,MAAR,GAAiB;AACf,UAAS,CAAC,CAAD,EAAI,EAAJ,CADM;AAEf,YAAW,CAAC,CAAD,EAAI,EAAJ,CAFI;AAGf,eAAc,CAAC,CAAD,EAAI,EAAJ,CAHC;AAIf,aAAY,CAAC,CAAD,EAAI,EAAJ,CAJG;AAKf,WAAU,CAAC,EAAD,EAAK,EAAL,CALK;AAMf,UAAS,CAAC,EAAD,EAAK,EAAL,CANM;AAOf,WAAU,CAAC,EAAD,EAAK,EAAL,CAPK;AAQf,UAAS,CAAC,EAAD,EAAK,EAAL,CARM;AASf,UAAS,CAAC,EAAD,EAAK,EAAL,CATM;AAUf,WAAU,CAAC,EAAD,EAAK,EAAL,CAVK;AAWf,aAAY,CAAC,EAAD,EAAK,EAAL,CAXG;AAYf,SAAQ,CAAC,EAAD,EAAK,EAAL,CAZO;AAaf,YAAW,CAAC,EAAD,EAAK,EAAL;AAbI,CAAjB,EAgBA;;AACAhC,OAAO,CAACuC,MAAR,GAAiB;AACf,aAAW,MADI;AAEf,YAAU,QAFK;AAGf,aAAW,QAHI;AAIf,eAAa,MAJE;AAKf,UAAQ,MALO;AAMf,YAAU,OANK;AAOf,UAAQ,SAPO;AAQf;AACA,YAAU;AATK,CAAjB;;AAaA,SAASF,gBAAT,CAA0BnC,GAA1B,EAA+BsC,SAA/B,EAA0C;AACxC,MAAIC,KAAK,GAAGzC,OAAO,CAACuC,MAAR,CAAeC,SAAf,CAAZ;;AAEA,MAAIC,KAAJ,EAAW;AACT,WAAO,YAAYzC,OAAO,CAACgC,MAAR,CAAeS,KAAf,EAAsB,CAAtB,CAAZ,GAAuC,GAAvC,GAA6CvC,GAA7C,GACA,SADA,GACYF,OAAO,CAACgC,MAAR,CAAeS,KAAf,EAAsB,CAAtB,CADZ,GACuC,GAD9C;AAED,GAHD,MAGO;AACL,WAAOvC,GAAP;AACD;AACF;;AAGD,SAAS4B,cAAT,CAAwB5B,GAAxB,EAA6BsC,SAA7B,EAAwC;AACtC,SAAOtC,GAAP;AACD;;AAGD,SAASwC,WAAT,CAAqBpL,KAArB,EAA4B;AAC1B,MAAIqL,IAAI,GAAG,EAAX;AAEArL,EAAAA,KAAK,CAACsL,OAAN,CAAc,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC/BH,IAAAA,IAAI,CAACE,GAAD,CAAJ,GAAY,IAAZ;AACD,GAFD;AAIA,SAAOF,IAAP;AACD;;AAGD,SAASL,WAAT,CAAqBX,GAArB,EAA0B3G,KAA1B,EAAiC+H,YAAjC,EAA+C;AAC7C;AACA;AACA,MAAIpB,GAAG,CAACS,aAAJ,IACApH,KADA,IAEAgI,UAAU,CAAChI,KAAK,CAACgF,OAAP,CAFV,IAGA;AACAhF,EAAAA,KAAK,CAACgF,OAAN,KAAkB1K,OAAO,CAAC0K,OAJ1B,IAKA;AACA,IAAEhF,KAAK,CAACiI,WAAN,IAAqBjI,KAAK,CAACiI,WAAN,CAAkB1L,SAAlB,KAAgCyD,KAAvD,CANJ,EAMmE;AACjE,QAAIsE,GAAG,GAAGtE,KAAK,CAACgF,OAAN,CAAc+C,YAAd,EAA4BpB,GAA5B,CAAV;;AACA,QAAI,CAAC7B,QAAQ,CAACR,GAAD,CAAb,EAAoB;AAClBA,MAAAA,GAAG,GAAGgD,WAAW,CAACX,GAAD,EAAMrC,GAAN,EAAWyD,YAAX,CAAjB;AACD;;AACD,WAAOzD,GAAP;AACD,GAf4C,CAiB7C;;;AACA,MAAI4D,SAAS,GAAGC,eAAe,CAACxB,GAAD,EAAM3G,KAAN,CAA/B;;AACA,MAAIkI,SAAJ,EAAe;AACb,WAAOA,SAAP;AACD,GArB4C,CAuB7C;;;AACA,MAAIzE,IAAI,GAAGnE,MAAM,CAACmE,IAAP,CAAYzD,KAAZ,CAAX;AACA,MAAIoI,WAAW,GAAGV,WAAW,CAACjE,IAAD,CAA7B;;AAEA,MAAIkD,GAAG,CAACO,UAAR,EAAoB;AAClBzD,IAAAA,IAAI,GAAGnE,MAAM,CAACE,mBAAP,CAA2BQ,KAA3B,CAAP;AACD,GA7B4C,CA+B7C;AACA;;;AACA,MAAIqI,OAAO,CAACrI,KAAD,CAAP,KACIyD,IAAI,CAAC6E,OAAL,CAAa,SAAb,KAA2B,CAA3B,IAAgC7E,IAAI,CAAC6E,OAAL,CAAa,aAAb,KAA+B,CADnE,CAAJ,EAC2E;AACzE,WAAOC,WAAW,CAACvI,KAAD,CAAlB;AACD,GApC4C,CAsC7C;;;AACA,MAAIyD,IAAI,CAAChI,MAAL,KAAgB,CAApB,EAAuB;AACrB,QAAIuM,UAAU,CAAChI,KAAD,CAAd,EAAuB;AACrB,UAAIvC,IAAI,GAAGuC,KAAK,CAACvC,IAAN,GAAa,OAAOuC,KAAK,CAACvC,IAA1B,GAAiC,EAA5C;AACA,aAAOkJ,GAAG,CAACE,OAAJ,CAAY,cAAcpJ,IAAd,GAAqB,GAAjC,EAAsC,SAAtC,CAAP;AACD;;AACD,QAAI+K,QAAQ,CAACxI,KAAD,CAAZ,EAAqB;AACnB,aAAO2G,GAAG,CAACE,OAAJ,CAAYN,MAAM,CAAChK,SAAP,CAAiBkM,QAAjB,CAA0BxN,IAA1B,CAA+B+E,KAA/B,CAAZ,EAAmD,QAAnD,CAAP;AACD;;AACD,QAAI0I,MAAM,CAAC1I,KAAD,CAAV,EAAmB;AACjB,aAAO2G,GAAG,CAACE,OAAJ,CAAY8B,IAAI,CAACpM,SAAL,CAAekM,QAAf,CAAwBxN,IAAxB,CAA6B+E,KAA7B,CAAZ,EAAiD,MAAjD,CAAP;AACD;;AACD,QAAIqI,OAAO,CAACrI,KAAD,CAAX,EAAoB;AAClB,aAAOuI,WAAW,CAACvI,KAAD,CAAlB;AACD;AACF;;AAED,MAAI4I,IAAI,GAAG,EAAX;AAAA,MAAetM,KAAK,GAAG,KAAvB;AAAA,MAA8BuM,MAAM,GAAG,CAAC,GAAD,EAAM,GAAN,CAAvC,CAvD6C,CAyD7C;;AACA,MAAIC,OAAO,CAAC9I,KAAD,CAAX,EAAoB;AAClB1D,IAAAA,KAAK,GAAG,IAAR;AACAuM,IAAAA,MAAM,GAAG,CAAC,GAAD,EAAM,GAAN,CAAT;AACD,GA7D4C,CA+D7C;;;AACA,MAAIb,UAAU,CAAChI,KAAD,CAAd,EAAuB;AACrB,QAAIoB,CAAC,GAAGpB,KAAK,CAACvC,IAAN,GAAa,OAAOuC,KAAK,CAACvC,IAA1B,GAAiC,EAAzC;AACAmL,IAAAA,IAAI,GAAG,eAAexH,CAAf,GAAmB,GAA1B;AACD,GAnE4C,CAqE7C;;;AACA,MAAIoH,QAAQ,CAACxI,KAAD,CAAZ,EAAqB;AACnB4I,IAAAA,IAAI,GAAG,MAAMrC,MAAM,CAAChK,SAAP,CAAiBkM,QAAjB,CAA0BxN,IAA1B,CAA+B+E,KAA/B,CAAb;AACD,GAxE4C,CA0E7C;;;AACA,MAAI0I,MAAM,CAAC1I,KAAD,CAAV,EAAmB;AACjB4I,IAAAA,IAAI,GAAG,MAAMD,IAAI,CAACpM,SAAL,CAAewM,WAAf,CAA2B9N,IAA3B,CAAgC+E,KAAhC,CAAb;AACD,GA7E4C,CA+E7C;;;AACA,MAAIqI,OAAO,CAACrI,KAAD,CAAX,EAAoB;AAClB4I,IAAAA,IAAI,GAAG,MAAML,WAAW,CAACvI,KAAD,CAAxB;AACD;;AAED,MAAIyD,IAAI,CAAChI,MAAL,KAAgB,CAAhB,KAAsB,CAACa,KAAD,IAAU0D,KAAK,CAACvE,MAAN,IAAgB,CAAhD,CAAJ,EAAwD;AACtD,WAAOoN,MAAM,CAAC,CAAD,CAAN,GAAYD,IAAZ,GAAmBC,MAAM,CAAC,CAAD,CAAhC;AACD;;AAED,MAAId,YAAY,GAAG,CAAnB,EAAsB;AACpB,QAAIS,QAAQ,CAACxI,KAAD,CAAZ,EAAqB;AACnB,aAAO2G,GAAG,CAACE,OAAJ,CAAYN,MAAM,CAAChK,SAAP,CAAiBkM,QAAjB,CAA0BxN,IAA1B,CAA+B+E,KAA/B,CAAZ,EAAmD,QAAnD,CAAP;AACD,KAFD,MAEO;AACL,aAAO2G,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,CAAP;AACD;AACF;;AAEDF,EAAAA,GAAG,CAACC,IAAJ,CAASxK,IAAT,CAAc4D,KAAd;AAEA,MAAIgJ,MAAJ;;AACA,MAAI1M,KAAJ,EAAW;AACT0M,IAAAA,MAAM,GAAGC,WAAW,CAACtC,GAAD,EAAM3G,KAAN,EAAa+H,YAAb,EAA2BK,WAA3B,EAAwC3E,IAAxC,CAApB;AACD,GAFD,MAEO;AACLuF,IAAAA,MAAM,GAAGvF,IAAI,CAACyF,GAAL,CAAS,UAASxF,GAAT,EAAc;AAC9B,aAAOyF,cAAc,CAACxC,GAAD,EAAM3G,KAAN,EAAa+H,YAAb,EAA2BK,WAA3B,EAAwC1E,GAAxC,EAA6CpH,KAA7C,CAArB;AACD,KAFQ,CAAT;AAGD;;AAEDqK,EAAAA,GAAG,CAACC,IAAJ,CAASvC,GAAT;AAEA,SAAO+E,oBAAoB,CAACJ,MAAD,EAASJ,IAAT,EAAeC,MAAf,CAA3B;AACD;;AAGD,SAASV,eAAT,CAAyBxB,GAAzB,EAA8B3G,KAA9B,EAAqC;AACnC,MAAIqG,WAAW,CAACrG,KAAD,CAAf,EACE,OAAO2G,GAAG,CAACE,OAAJ,CAAY,WAAZ,EAAyB,WAAzB,CAAP;;AACF,MAAI/B,QAAQ,CAAC9E,KAAD,CAAZ,EAAqB;AACnB,QAAIqJ,MAAM,GAAG,OAAOhE,IAAI,CAACC,SAAL,CAAetF,KAAf,EAAsBmF,OAAtB,CAA8B,QAA9B,EAAwC,EAAxC,EACsBA,OADtB,CAC8B,IAD9B,EACoC,KADpC,EAEsBA,OAFtB,CAE8B,MAF9B,EAEsC,GAFtC,CAAP,GAEoD,IAFjE;AAGA,WAAOwB,GAAG,CAACE,OAAJ,CAAYwC,MAAZ,EAAoB,QAApB,CAAP;AACD;;AACD,MAAIC,QAAQ,CAACtJ,KAAD,CAAZ,EACE,OAAO2G,GAAG,CAACE,OAAJ,CAAY,KAAK7G,KAAjB,EAAwB,QAAxB,CAAP;AACF,MAAIiH,SAAS,CAACjH,KAAD,CAAb,EACE,OAAO2G,GAAG,CAACE,OAAJ,CAAY,KAAK7G,KAAjB,EAAwB,SAAxB,CAAP,CAZiC,CAanC;;AACA,MAAIwF,MAAM,CAACxF,KAAD,CAAV,EACE,OAAO2G,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,MAApB,CAAP;AACH;;AAGD,SAAS0B,WAAT,CAAqBvI,KAArB,EAA4B;AAC1B,SAAO,MAAMtF,KAAK,CAAC6B,SAAN,CAAgBkM,QAAhB,CAAyBxN,IAAzB,CAA8B+E,KAA9B,CAAN,GAA6C,GAApD;AACD;;AAGD,SAASiJ,WAAT,CAAqBtC,GAArB,EAA0B3G,KAA1B,EAAiC+H,YAAjC,EAA+CK,WAA/C,EAA4D3E,IAA5D,EAAkE;AAChE,MAAIuF,MAAM,GAAG,EAAb;;AACA,OAAK,IAAI7M,CAAC,GAAG,CAAR,EAAWoN,CAAC,GAAGvJ,KAAK,CAACvE,MAA1B,EAAkCU,CAAC,GAAGoN,CAAtC,EAAyC,EAAEpN,CAA3C,EAA8C;AAC5C,QAAIqN,cAAc,CAACxJ,KAAD,EAAQ0C,MAAM,CAACvG,CAAD,CAAd,CAAlB,EAAsC;AACpC6M,MAAAA,MAAM,CAAC5M,IAAP,CAAY+M,cAAc,CAACxC,GAAD,EAAM3G,KAAN,EAAa+H,YAAb,EAA2BK,WAA3B,EACtB1F,MAAM,CAACvG,CAAD,CADgB,EACX,IADW,CAA1B;AAED,KAHD,MAGO;AACL6M,MAAAA,MAAM,CAAC5M,IAAP,CAAY,EAAZ;AACD;AACF;;AACDqH,EAAAA,IAAI,CAACmE,OAAL,CAAa,UAASlE,GAAT,EAAc;AACzB,QAAI,CAACA,GAAG,CAAC+F,KAAJ,CAAU,OAAV,CAAL,EAAyB;AACvBT,MAAAA,MAAM,CAAC5M,IAAP,CAAY+M,cAAc,CAACxC,GAAD,EAAM3G,KAAN,EAAa+H,YAAb,EAA2BK,WAA3B,EACtB1E,GADsB,EACjB,IADiB,CAA1B;AAED;AACF,GALD;AAMA,SAAOsF,MAAP;AACD;;AAGD,SAASG,cAAT,CAAwBxC,GAAxB,EAA6B3G,KAA7B,EAAoC+H,YAApC,EAAkDK,WAAlD,EAA+D1E,GAA/D,EAAoEpH,KAApE,EAA2E;AACzE,MAAImB,IAAJ,EAAUyH,GAAV,EAAewE,IAAf;AACAA,EAAAA,IAAI,GAAGpK,MAAM,CAACoF,wBAAP,CAAgC1E,KAAhC,EAAuC0D,GAAvC,KAA+C;AAAE1D,IAAAA,KAAK,EAAEA,KAAK,CAAC0D,GAAD;AAAd,GAAtD;;AACA,MAAIgG,IAAI,CAAC7I,GAAT,EAAc;AACZ,QAAI6I,IAAI,CAAC5I,GAAT,EAAc;AACZoE,MAAAA,GAAG,GAAGyB,GAAG,CAACE,OAAJ,CAAY,iBAAZ,EAA+B,SAA/B,CAAN;AACD,KAFD,MAEO;AACL3B,MAAAA,GAAG,GAAGyB,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,CAAN;AACD;AACF,GAND,MAMO;AACL,QAAI6C,IAAI,CAAC5I,GAAT,EAAc;AACZoE,MAAAA,GAAG,GAAGyB,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,SAAxB,CAAN;AACD;AACF;;AACD,MAAI,CAAC2C,cAAc,CAACpB,WAAD,EAAc1E,GAAd,CAAnB,EAAuC;AACrCjG,IAAAA,IAAI,GAAG,MAAMiG,GAAN,GAAY,GAAnB;AACD;;AACD,MAAI,CAACwB,GAAL,EAAU;AACR,QAAIyB,GAAG,CAACC,IAAJ,CAAS0B,OAAT,CAAiBoB,IAAI,CAAC1J,KAAtB,IAA+B,CAAnC,EAAsC;AACpC,UAAIwF,MAAM,CAACuC,YAAD,CAAV,EAA0B;AACxB7C,QAAAA,GAAG,GAAGoC,WAAW,CAACX,GAAD,EAAM+C,IAAI,CAAC1J,KAAX,EAAkB,IAAlB,CAAjB;AACD,OAFD,MAEO;AACLkF,QAAAA,GAAG,GAAGoC,WAAW,CAACX,GAAD,EAAM+C,IAAI,CAAC1J,KAAX,EAAkB+H,YAAY,GAAG,CAAjC,CAAjB;AACD;;AACD,UAAI7C,GAAG,CAACoD,OAAJ,CAAY,IAAZ,IAAoB,CAAC,CAAzB,EAA4B;AAC1B,YAAIhM,KAAJ,EAAW;AACT4I,UAAAA,GAAG,GAAGA,GAAG,CAACyE,KAAJ,CAAU,IAAV,EAAgBT,GAAhB,CAAoB,UAASU,IAAT,EAAe;AACvC,mBAAO,OAAOA,IAAd;AACD,WAFK,EAEH3E,IAFG,CAEE,IAFF,EAEQ4E,MAFR,CAEe,CAFf,CAAN;AAGD,SAJD,MAIO;AACL3E,UAAAA,GAAG,GAAG,OAAOA,GAAG,CAACyE,KAAJ,CAAU,IAAV,EAAgBT,GAAhB,CAAoB,UAASU,IAAT,EAAe;AAC9C,mBAAO,QAAQA,IAAf;AACD,WAFY,EAEV3E,IAFU,CAEL,IAFK,CAAb;AAGD;AACF;AACF,KAjBD,MAiBO;AACLC,MAAAA,GAAG,GAAGyB,GAAG,CAACE,OAAJ,CAAY,YAAZ,EAA0B,SAA1B,CAAN;AACD;AACF;;AACD,MAAIR,WAAW,CAAC5I,IAAD,CAAf,EAAuB;AACrB,QAAInB,KAAK,IAAIoH,GAAG,CAAC+F,KAAJ,CAAU,OAAV,CAAb,EAAiC;AAC/B,aAAOvE,GAAP;AACD;;AACDzH,IAAAA,IAAI,GAAG4H,IAAI,CAACC,SAAL,CAAe,KAAK5B,GAApB,CAAP;;AACA,QAAIjG,IAAI,CAACgM,KAAL,CAAW,8BAAX,CAAJ,EAAgD;AAC9ChM,MAAAA,IAAI,GAAGA,IAAI,CAACoM,MAAL,CAAY,CAAZ,EAAepM,IAAI,CAAChC,MAAL,GAAc,CAA7B,CAAP;AACAgC,MAAAA,IAAI,GAAGkJ,GAAG,CAACE,OAAJ,CAAYpJ,IAAZ,EAAkB,MAAlB,CAAP;AACD,KAHD,MAGO;AACLA,MAAAA,IAAI,GAAGA,IAAI,CAAC0H,OAAL,CAAa,IAAb,EAAmB,KAAnB,EACKA,OADL,CACa,MADb,EACqB,GADrB,EAEKA,OAFL,CAEa,UAFb,EAEyB,GAFzB,CAAP;AAGA1H,MAAAA,IAAI,GAAGkJ,GAAG,CAACE,OAAJ,CAAYpJ,IAAZ,EAAkB,QAAlB,CAAP;AACD;AACF;;AAED,SAAOA,IAAI,GAAG,IAAP,GAAcyH,GAArB;AACD;;AAGD,SAASkE,oBAAT,CAA8BJ,MAA9B,EAAsCJ,IAAtC,EAA4CC,MAA5C,EAAoD;AAClD,MAAIiB,WAAW,GAAG,CAAlB;AACA,MAAIrO,MAAM,GAAGuN,MAAM,CAACe,MAAP,CAAc,UAASC,IAAT,EAAeC,GAAf,EAAoB;AAC7CH,IAAAA,WAAW;AACX,QAAIG,GAAG,CAAC3B,OAAJ,CAAY,IAAZ,KAAqB,CAAzB,EAA4BwB,WAAW;AACvC,WAAOE,IAAI,GAAGC,GAAG,CAAC9E,OAAJ,CAAY,iBAAZ,EAA+B,EAA/B,EAAmC1J,MAA1C,GAAmD,CAA1D;AACD,GAJY,EAIV,CAJU,CAAb;;AAMA,MAAIA,MAAM,GAAG,EAAb,EAAiB;AACf,WAAOoN,MAAM,CAAC,CAAD,CAAN,IACCD,IAAI,KAAK,EAAT,GAAc,EAAd,GAAmBA,IAAI,GAAG,KAD3B,IAEA,GAFA,GAGAI,MAAM,CAAC/D,IAAP,CAAY,OAAZ,CAHA,GAIA,GAJA,GAKA4D,MAAM,CAAC,CAAD,CALb;AAMD;;AAED,SAAOA,MAAM,CAAC,CAAD,CAAN,GAAYD,IAAZ,GAAmB,GAAnB,GAAyBI,MAAM,CAAC/D,IAAP,CAAY,IAAZ,CAAzB,GAA6C,GAA7C,GAAmD4D,MAAM,CAAC,CAAD,CAAhE;AACD,EAGD;AACA;;;AACA,SAASC,OAAT,CAAiBoB,EAAjB,EAAqB;AACnB,SAAOjO,KAAK,CAAC6M,OAAN,CAAcoB,EAAd,CAAP;AACD;;AACD5P,OAAO,CAACwO,OAAR,GAAkBA,OAAlB;;AAEA,SAAS7B,SAAT,CAAmBlG,GAAnB,EAAwB;AACtB,SAAO,OAAOA,GAAP,KAAe,SAAtB;AACD;;AACDzG,OAAO,CAAC2M,SAAR,GAAoBA,SAApB;;AAEA,SAASzB,MAAT,CAAgBzE,GAAhB,EAAqB;AACnB,SAAOA,GAAG,KAAK,IAAf;AACD;;AACDzG,OAAO,CAACkL,MAAR,GAAiBA,MAAjB;;AAEA,SAAS2E,iBAAT,CAA2BpJ,GAA3B,EAAgC;AAC9B,SAAOA,GAAG,IAAI,IAAd;AACD;;AACDzG,OAAO,CAAC6P,iBAAR,GAA4BA,iBAA5B;;AAEA,SAASb,QAAT,CAAkBvI,GAAlB,EAAuB;AACrB,SAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AACDzG,OAAO,CAACgP,QAAR,GAAmBA,QAAnB;;AAEA,SAASxE,QAAT,CAAkB/D,GAAlB,EAAuB;AACrB,SAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AACDzG,OAAO,CAACwK,QAAR,GAAmBA,QAAnB;;AAEA,SAASsF,QAAT,CAAkBrJ,GAAlB,EAAuB;AACrB,SAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AACDzG,OAAO,CAAC8P,QAAR,GAAmBA,QAAnB;;AAEA,SAAS/D,WAAT,CAAqBtF,GAArB,EAA0B;AACxB,SAAOA,GAAG,KAAK,KAAK,CAApB;AACD;;AACDzG,OAAO,CAAC+L,WAAR,GAAsBA,WAAtB;;AAEA,SAASmC,QAAT,CAAkB6B,EAAlB,EAAsB;AACpB,SAAO5E,QAAQ,CAAC4E,EAAD,CAAR,IAAgBC,cAAc,CAACD,EAAD,CAAd,KAAuB,iBAA9C;AACD;;AACD/P,OAAO,CAACkO,QAAR,GAAmBA,QAAnB;;AAEA,SAAS/C,QAAT,CAAkB1E,GAAlB,EAAuB;AACrB,SAAO,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAAG,KAAK,IAA1C;AACD;;AACDzG,OAAO,CAACmL,QAAR,GAAmBA,QAAnB;;AAEA,SAASiD,MAAT,CAAgB6B,CAAhB,EAAmB;AACjB,SAAO9E,QAAQ,CAAC8E,CAAD,CAAR,IAAeD,cAAc,CAACC,CAAD,CAAd,KAAsB,eAA5C;AACD;;AACDjQ,OAAO,CAACoO,MAAR,GAAiBA,MAAjB;;AAEA,SAASL,OAAT,CAAiBxN,CAAjB,EAAoB;AAClB,SAAO4K,QAAQ,CAAC5K,CAAD,CAAR,KACFyP,cAAc,CAACzP,CAAD,CAAd,KAAsB,gBAAtB,IAA0CA,CAAC,YAAYH,KADrD,CAAP;AAED;;AACDJ,OAAO,CAAC+N,OAAR,GAAkBA,OAAlB;;AAEA,SAASL,UAAT,CAAoBjH,GAApB,EAAyB;AACvB,SAAO,OAAOA,GAAP,KAAe,UAAtB;AACD;;AACDzG,OAAO,CAAC0N,UAAR,GAAqBA,UAArB;;AAEA,SAASwC,WAAT,CAAqBzJ,GAArB,EAA0B;AACxB,SAAOA,GAAG,KAAK,IAAR,IACA,OAAOA,GAAP,KAAe,SADf,IAEA,OAAOA,GAAP,KAAe,QAFf,IAGA,OAAOA,GAAP,KAAe,QAHf,IAIA,OAAOA,GAAP,KAAe,QAJf,IAI4B;AAC5B,SAAOA,GAAP,KAAe,WALtB;AAMD;;AACDzG,OAAO,CAACkQ,WAAR,GAAsBA,WAAtB;AAEAlQ,OAAO,CAACmQ,QAAR,GAAmBC,OAAO,CAAC,oBAAD,CAA1B;;AAEA,SAASJ,cAAT,CAAwBK,CAAxB,EAA2B;AACzB,SAAOrL,MAAM,CAAC/C,SAAP,CAAiBkM,QAAjB,CAA0BxN,IAA1B,CAA+B0P,CAA/B,CAAP;AACD;;AAGD,SAASC,GAAT,CAAaxJ,CAAb,EAAgB;AACd,SAAOA,CAAC,GAAG,EAAJ,GAAS,MAAMA,CAAC,CAACqH,QAAF,CAAW,EAAX,CAAf,GAAgCrH,CAAC,CAACqH,QAAF,CAAW,EAAX,CAAvC;AACD;;AAGD,IAAIoC,MAAM,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EACC,KADD,EACQ,KADR,EACe,KADf,CAAb,EAGA;;AACA,SAASC,SAAT,GAAqB;AACnB,MAAIP,CAAC,GAAG,IAAI5B,IAAJ,EAAR;AACA,MAAIoC,IAAI,GAAG,CAACH,GAAG,CAACL,CAAC,CAACS,QAAF,EAAD,CAAJ,EACCJ,GAAG,CAACL,CAAC,CAACU,UAAF,EAAD,CADJ,EAECL,GAAG,CAACL,CAAC,CAACW,UAAF,EAAD,CAFJ,EAEsBjG,IAFtB,CAE2B,GAF3B,CAAX;AAGA,SAAO,CAACsF,CAAC,CAACY,OAAF,EAAD,EAAcN,MAAM,CAACN,CAAC,CAACa,QAAF,EAAD,CAApB,EAAoCL,IAApC,EAA0C9F,IAA1C,CAA+C,GAA/C,CAAP;AACD,EAGD;;;AACA3K,OAAO,CAAC+Q,GAAR,GAAc,YAAW;AACvB1L,EAAAA,OAAO,CAAC0L,GAAR,CAAY,SAAZ,EAAuBP,SAAS,EAAhC,EAAoCxQ,OAAO,CAACsK,MAAR,CAAepI,KAAf,CAAqBlC,OAArB,EAA8B4B,SAA9B,CAApC;AACD,CAFD;AAKA;;;;;;;;;;;;;;;AAaA5B,OAAO,CAACgR,QAAR,GAAmBZ,OAAO,CAAC,UAAD,CAA1B;;AAEApQ,OAAO,CAAC6M,OAAR,GAAkB,UAASoE,MAAT,EAAiBC,GAAjB,EAAsB;AACtC;AACA,MAAI,CAACA,GAAD,IAAQ,CAAC/F,QAAQ,CAAC+F,GAAD,CAArB,EAA4B,OAAOD,MAAP;AAE5B,MAAI9H,IAAI,GAAGnE,MAAM,CAACmE,IAAP,CAAY+H,GAAZ,CAAX;AACA,MAAIrP,CAAC,GAAGsH,IAAI,CAAChI,MAAb;;AACA,SAAOU,CAAC,EAAR,EAAY;AACVoP,IAAAA,MAAM,CAAC9H,IAAI,CAACtH,CAAD,CAAL,CAAN,GAAkBqP,GAAG,CAAC/H,IAAI,CAACtH,CAAD,CAAL,CAArB;AACD;;AACD,SAAOoP,MAAP;AACD,CAVD;;AAYA,SAAS/B,cAAT,CAAwBhF,GAAxB,EAA6BiH,IAA7B,EAAmC;AACjC,SAAOnM,MAAM,CAAC/C,SAAP,CAAiBiN,cAAjB,CAAgCvO,IAAhC,CAAqCuJ,GAArC,EAA0CiH,IAA1C,CAAP;AACD;;AAED,IAAIC,wBAAwB,GAAG,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAM,CAAC,uBAAD,CAAtC,GAAkEvL,SAAjG;;AAEA9F,OAAO,CAACsR,SAAR,GAAoB,SAASA,SAAT,CAAmBC,QAAnB,EAA6B;AAC/C,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EACE,MAAM,IAAInL,SAAJ,CAAc,kDAAd,CAAN;;AAEF,MAAIgL,wBAAwB,IAAIG,QAAQ,CAACH,wBAAD,CAAxC,EAAoE;AAClE,QAAI/F,EAAE,GAAGkG,QAAQ,CAACH,wBAAD,CAAjB;;AACA,QAAI,OAAO/F,EAAP,KAAc,UAAlB,EAA8B;AAC5B,YAAM,IAAIjF,SAAJ,CAAc,+DAAd,CAAN;AACD;;AACDpB,IAAAA,MAAM,CAACqB,cAAP,CAAsBgF,EAAtB,EAA0B+F,wBAA1B,EAAoD;AAClD1L,MAAAA,KAAK,EAAE2F,EAD2C;AACvC/E,MAAAA,UAAU,EAAE,KAD2B;AACpBkL,MAAAA,QAAQ,EAAE,KADU;AACHC,MAAAA,YAAY,EAAE;AADX,KAApD;AAGA,WAAOpG,EAAP;AACD;;AAED,WAASA,EAAT,GAAc;AACZ,QAAIqG,cAAJ,EAAoBC,aAApB;AACA,QAAIC,OAAO,GAAG,IAAI3N,OAAJ,CAAY,UAAU4N,OAAV,EAAmBC,MAAnB,EAA2B;AACnDJ,MAAAA,cAAc,GAAGG,OAAjB;AACAF,MAAAA,aAAa,GAAGG,MAAhB;AACD,KAHa,CAAd;AAKA,QAAIpQ,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,SAAS,CAACT,MAA9B,EAAsCU,CAAC,EAAvC,EAA2C;AACzCH,MAAAA,IAAI,CAACI,IAAL,CAAUF,SAAS,CAACC,CAAD,CAAnB;AACD;;AACDH,IAAAA,IAAI,CAACI,IAAL,CAAU,UAAUyF,GAAV,EAAe7B,KAAf,EAAsB;AAC9B,UAAI6B,GAAJ,EAAS;AACPoK,QAAAA,aAAa,CAACpK,GAAD,CAAb;AACD,OAFD,MAEO;AACLmK,QAAAA,cAAc,CAAChM,KAAD,CAAd;AACD;AACF,KAND;;AAQA,QAAI;AACF6L,MAAAA,QAAQ,CAACrP,KAAT,CAAe,IAAf,EAAqBR,IAArB;AACD,KAFD,CAEE,OAAO6F,GAAP,EAAY;AACZoK,MAAAA,aAAa,CAACpK,GAAD,CAAb;AACD;;AAED,WAAOqK,OAAP;AACD;;AAED5M,EAAAA,MAAM,CAAC+M,cAAP,CAAsB1G,EAAtB,EAA0BrG,MAAM,CAAC2B,cAAP,CAAsB4K,QAAtB,CAA1B;AAEA,MAAIH,wBAAJ,EAA8BpM,MAAM,CAACqB,cAAP,CAAsBgF,EAAtB,EAA0B+F,wBAA1B,EAAoD;AAChF1L,IAAAA,KAAK,EAAE2F,EADyE;AACrE/E,IAAAA,UAAU,EAAE,KADyD;AAClDkL,IAAAA,QAAQ,EAAE,KADwC;AACjCC,IAAAA,YAAY,EAAE;AADmB,GAApD;AAG9B,SAAOzM,MAAM,CAACgN,gBAAP,CACL3G,EADK,EAELpB,yBAAyB,CAACsH,QAAD,CAFpB,CAAP;AAID,CApDD;;AAsDAvR,OAAO,CAACsR,SAAR,CAAkBW,MAAlB,GAA2Bb,wBAA3B;;AAEA,SAASc,qBAAT,CAA+BC,MAA/B,EAAuCC,EAAvC,EAA2C;AACzC;AACA;AACA;AACA;AACA,MAAI,CAACD,MAAL,EAAa;AACX,QAAIE,SAAS,GAAG,IAAIjS,KAAJ,CAAU,yCAAV,CAAhB;AACAiS,IAAAA,SAAS,CAACF,MAAV,GAAmBA,MAAnB;AACAA,IAAAA,MAAM,GAAGE,SAAT;AACD;;AACD,SAAOD,EAAE,CAACD,MAAD,CAAT;AACD;;AAED,SAASG,WAAT,CAAqBf,QAArB,EAA+B;AAC7B,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,UAAM,IAAInL,SAAJ,CAAc,kDAAd,CAAN;AACD,GAH4B,CAK7B;AACA;AACA;;;AACA,WAASmM,aAAT,GAAyB;AACvB,QAAI7Q,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,SAAS,CAACT,MAA9B,EAAsCU,CAAC,EAAvC,EAA2C;AACzCH,MAAAA,IAAI,CAACI,IAAL,CAAUF,SAAS,CAACC,CAAD,CAAnB;AACD;;AAED,QAAI2Q,OAAO,GAAG9Q,IAAI,CAACqI,GAAL,EAAd;;AACA,QAAI,OAAOyI,OAAP,KAAmB,UAAvB,EAAmC;AACjC,YAAM,IAAIpM,SAAJ,CAAc,4CAAd,CAAN;AACD;;AACD,QAAIqM,IAAI,GAAG,IAAX;;AACA,QAAIL,EAAE,GAAG,YAAW;AAClB,aAAOI,OAAO,CAACtQ,KAAR,CAAcuQ,IAAd,EAAoB7Q,SAApB,CAAP;AACD,KAFD,CAXuB,CAcvB;AACA;;;AACA2P,IAAAA,QAAQ,CAACrP,KAAT,CAAe,IAAf,EAAqBR,IAArB,EACGyC,IADH,CACQ,UAAS6F,GAAT,EAAc;AAAElK,MAAAA,OAAO,CAAC2B,QAAR,CAAiB2Q,EAAjB,EAAqB,IAArB,EAA2BpI,GAA3B;AAAiC,KADzD,EAEQ,UAAS0I,GAAT,EAAc;AAAE5S,MAAAA,OAAO,CAAC2B,QAAR,CAAiByQ,qBAAjB,EAAwCQ,GAAxC,EAA6CN,EAA7C;AAAkD,KAF1E;AAGD;;AAEDpN,EAAAA,MAAM,CAAC+M,cAAP,CAAsBQ,aAAtB,EAAqCvN,MAAM,CAAC2B,cAAP,CAAsB4K,QAAtB,CAArC;AACAvM,EAAAA,MAAM,CAACgN,gBAAP,CAAwBO,aAAxB,EACwBtI,yBAAyB,CAACsH,QAAD,CADjD;AAEA,SAAOgB,aAAP;AACD;;AACDvS,OAAO,CAACsS,WAAR,GAAsBA,WAAtB;;;AC9rBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjDA;;AACA,IAAIK,EAAE,GAAGvC,OAAO,CAAC,IAAD,CAAhB;;AAEA,SAASwC,OAAT,GAAmB;AAClB,MAAIxQ,GAAG,GAAGtC,OAAO,CAACsC,GAAlB;AACA,MAAIyQ,IAAI,GAAGzQ,GAAG,CAAC0Q,IAAf;AACA,MAAIC,IAAI,GAAG3Q,GAAG,CAAC4Q,OAAJ,IAAe5Q,GAAG,CAAC6Q,IAAnB,IAA2B7Q,GAAG,CAAC8Q,KAA/B,IAAwC9Q,GAAG,CAAC+Q,QAAvD;;AAEA,MAAIrT,OAAO,CAACsT,QAAR,KAAqB,OAAzB,EAAkC;AACjC,WAAOhR,GAAG,CAACiR,WAAJ,IAAmBjR,GAAG,CAACkR,SAAJ,GAAgBlR,GAAG,CAACmR,QAAvC,IAAmDV,IAAnD,IAA2D,IAAlE;AACA;;AAED,MAAI/S,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CA,MAAIrP,CAAC,GAAGsH,IAAI,CAAChI,MAAb;;AACA,SAAOU,CAAC,EAAR,EAAY;AACVoP,IAAAA,MAAM,CAAC9H,IAAI,CAACtH,CAAD,CAAL,CAAN,GAAkBqP,GAAG,CAAC/H,IAAI,CAACtH,CAAD,CAAL,CAArB;AACD;;AACD,SAAOoP,MAAP;AACD,CAVD;;AAYA,SAAS/B,cAAT,CAAwBhF,GAAxB,EAA6BiH,IAA7B,EAAmC;AACjC,SAAOnM,MAAM,CAAC/C,SAAP,CAAiBiN,cAAjB,CAAgCvO,IAAhC,CAAqCuJ,GAArC,EAA0CiH,IAA1C,CAAP;AACD;;;ACzkBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"bin.js","sourceRoot":"..","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","const OUTPUT_MODES = {\n   NORMAL: \"NORMAL\",\n   STDOUT_TO_STDERR: \"STDOUT_TO_STDERR\",\n};\n\nclass StdoutToStderrProxy {\n   static currentMode = OUTPUT_MODES.NORMAL;\n   static old_stdout_write = process.stdout.write;\n\n   static stdoutToStderr() {\n      process.stdout.write = function () {\n         process.stderr.write.apply(process.stderr, arguments);\n      };\n   }\n\n   static stdoutToStderrUntilResolved(promiseToResolve) {\n      if (!(promiseToResolve instanceof Promise)) {\n         throw new Error(\"I need a promise my dear!\");\n      }\n\n      StdoutToStderrProxy.stdoutToStderr();\n      return promiseToResolve.then(function () {\n         StdoutToStderrProxy.resetToDefault();\n         return arguments;\n      });\n   }\n\n   static writeToActualStdout() {\n      StdoutToStderrProxy.old_stdout_write.apply(process.stdout, arguments);\n   }\n\n   static resetToDefault() {\n      process.stdout.write = StdoutToStderrProxy.old_stdout_write;\n   }\n\n   static onExit(exitCode) {\n      // console.log('exit was called with code=', exitCode);\n   }\n}\n\nprocess.on(\"exit\", (exitCode) => {\n   StdoutToStderrProxy.onExit(exitCode);\n});\n\nStdoutToStderrProxy.stdoutToStderr();\n\nmodule.exports.StdoutToStderrProxy = StdoutToStderrProxy;\n","module.exports = {\n  \"name\": \"project-butler\",\n  \"version\": \"0.7.0\",\n  \"description\": \"A simple but effective PM for your CLI\",\n  \"main\": \"bin.js\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/activenode/project-butler.git\"\n  },\n  \"bin\": \"./bin/project-butler\",\n  \"scripts\": {\n    \"postinstall\": \"npx nexe bin.js --fakeArgv true -t 10.13.0 -o bin/bin && rm -f bin/project-butler && mv bin/bin bin/project-butler && echo '---' && bin/project-butler --install\"\n  },\n  \"author\": \"David Lorenz <info@activenode>\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"colors\": \"^1.4.0\",\n    \"commander\": \"^2.9.0\",\n    \"enquirer\": \"^2.3.5\",\n    \"nexe\": \"^3.3.2\",\n    \"os-homedir\": \"^1.0.2\"\n  },\n  \"engines\": {\n    \"node\": \">=10.9.0\"\n  },\n  \"devDependencies\": {\n    \"parcel-bundler\": \"^1.12.4\"\n  }\n}\n;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('events').EventEmitter;\nvar spawn = require('child_process').spawn;\nvar path = require('path');\nvar dirname = path.dirname;\nvar basename = path.basename;\nvar fs = require('fs');\n\n/**\n * Inherit `Command` from `EventEmitter.prototype`.\n */\n\nrequire('util').inherits(Command, EventEmitter);\n\n/**\n * Expose the root command.\n */\n\nexports = module.exports = new Command();\n\n/**\n * Expose `Command`.\n */\n\nexports.Command = Command;\n\n/**\n * Expose `Option`.\n */\n\nexports.Option = Option;\n\n/**\n * Initialize a new `Option` with the given `flags` and `description`.\n *\n * @param {String} flags\n * @param {String} description\n * @api public\n */\n\nfunction Option(flags, description) {\n  this.flags = flags;\n  this.required = flags.indexOf('<') >= 0;\n  this.optional = flags.indexOf('[') >= 0;\n  this.bool = flags.indexOf('-no-') === -1;\n  flags = flags.split(/[ ,|]+/);\n  if (flags.length > 1 && !/^[[<]/.test(flags[1])) this.short = flags.shift();\n  this.long = flags.shift();\n  this.description = description || '';\n}\n\n/**\n * Return option name.\n *\n * @return {String}\n * @api private\n */\n\nOption.prototype.name = function() {\n  return this.long\n    .replace('--', '')\n    .replace('no-', '');\n};\n\n/**\n * Return option name, in a camelcase format that can be used\n * as a object attribute key.\n *\n * @return {String}\n * @api private\n */\n\nOption.prototype.attributeName = function() {\n  return camelcase(this.name());\n};\n\n/**\n * Check if `arg` matches the short or long flag.\n *\n * @param {String} arg\n * @return {Boolean}\n * @api private\n */\n\nOption.prototype.is = function(arg) {\n  return this.short === arg || this.long === arg;\n};\n\n/**\n * Initialize a new `Command`.\n *\n * @param {String} name\n * @api public\n */\n\nfunction Command(name) {\n  this.commands = [];\n  this.options = [];\n  this._execs = {};\n  this._allowUnknownOption = false;\n  this._args = [];\n  this._name = name || '';\n}\n\n/**\n * Add command `name`.\n *\n * The `.action()` callback is invoked when the\n * command `name` is specified via __ARGV__,\n * and the remaining arguments are applied to the\n * function for access.\n *\n * When the `name` is \"*\" an un-matched command\n * will be passed as the first arg, followed by\n * the rest of __ARGV__ remaining.\n *\n * Examples:\n *\n *      program\n *        .version('0.0.1')\n *        .option('-C, --chdir <path>', 'change the working directory')\n *        .option('-c, --config <path>', 'set config path. defaults to ./deploy.conf')\n *        .option('-T, --no-tests', 'ignore test hook')\n *\n *      program\n *        .command('setup')\n *        .description('run remote setup commands')\n *        .action(function() {\n *          console.log('setup');\n *        });\n *\n *      program\n *        .command('exec <cmd>')\n *        .description('run the given remote command')\n *        .action(function(cmd) {\n *          console.log('exec \"%s\"', cmd);\n *        });\n *\n *      program\n *        .command('teardown <dir> [otherDirs...]')\n *        .description('run teardown commands')\n *        .action(function(dir, otherDirs) {\n *          console.log('dir \"%s\"', dir);\n *          if (otherDirs) {\n *            otherDirs.forEach(function (oDir) {\n *              console.log('dir \"%s\"', oDir);\n *            });\n *          }\n *        });\n *\n *      program\n *        .command('*')\n *        .description('deploy the given env')\n *        .action(function(env) {\n *          console.log('deploying \"%s\"', env);\n *        });\n *\n *      program.parse(process.argv);\n  *\n * @param {String} name\n * @param {String} [desc] for git-style sub-commands\n * @return {Command} the new command\n * @api public\n */\n\nCommand.prototype.command = function(name, desc, opts) {\n  if (typeof desc === 'object' && desc !== null) {\n    opts = desc;\n    desc = null;\n  }\n  opts = opts || {};\n  var args = name.split(/ +/);\n  var cmd = new Command(args.shift());\n\n  if (desc) {\n    cmd.description(desc);\n    this.executables = true;\n    this._execs[cmd._name] = true;\n    if (opts.isDefault) this.defaultExecutable = cmd._name;\n  }\n  cmd._noHelp = !!opts.noHelp;\n  this.commands.push(cmd);\n  cmd.parseExpectedArgs(args);\n  cmd.parent = this;\n\n  if (desc) return this;\n  return cmd;\n};\n\n/**\n * Define argument syntax for the top-level command.\n *\n * @api public\n */\n\nCommand.prototype.arguments = function(desc) {\n  return this.parseExpectedArgs(desc.split(/ +/));\n};\n\n/**\n * Add an implicit `help [cmd]` subcommand\n * which invokes `--help` for the given command.\n *\n * @api private\n */\n\nCommand.prototype.addImplicitHelpCommand = function() {\n  this.command('help [cmd]', 'display help for [cmd]');\n};\n\n/**\n * Parse expected `args`.\n *\n * For example `[\"[type]\"]` becomes `[{ required: false, name: 'type' }]`.\n *\n * @param {Array} args\n * @return {Command} for chaining\n * @api public\n */\n\nCommand.prototype.parseExpectedArgs = function(args) {\n  if (!args.length) return;\n  var self = this;\n  args.forEach(function(arg) {\n    var argDetails = {\n      required: false,\n      name: '',\n      variadic: false\n    };\n\n    switch (arg[0]) {\n      case '<':\n        argDetails.required = true;\n        argDetails.name = arg.slice(1, -1);\n        break;\n      case '[':\n        argDetails.name = arg.slice(1, -1);\n        break;\n    }\n\n    if (argDetails.name.length > 3 && argDetails.name.slice(-3) === '...') {\n      argDetails.variadic = true;\n      argDetails.name = argDetails.name.slice(0, -3);\n    }\n    if (argDetails.name) {\n      self._args.push(argDetails);\n    }\n  });\n  return this;\n};\n\n/**\n * Register callback `fn` for the command.\n *\n * Examples:\n *\n *      program\n *        .command('help')\n *        .description('display verbose help')\n *        .action(function() {\n *           // output help here\n *        });\n *\n * @param {Function} fn\n * @return {Command} for chaining\n * @api public\n */\n\nCommand.prototype.action = function(fn) {\n  var self = this;\n  var listener = function(args, unknown) {\n    // Parse any so-far unknown options\n    args = args || [];\n    unknown = unknown || [];\n\n    var parsed = self.parseOptions(unknown);\n\n    // Output help if necessary\n    outputHelpIfNecessary(self, parsed.unknown);\n\n    // If there are still any unknown options, then we simply\n    // die, unless someone asked for help, in which case we give it\n    // to them, and then we die.\n    if (parsed.unknown.length > 0) {\n      self.unknownOption(parsed.unknown[0]);\n    }\n\n    // Leftover arguments need to be pushed back. Fixes issue #56\n    if (parsed.args.length) args = parsed.args.concat(args);\n\n    self._args.forEach(function(arg, i) {\n      if (arg.required && args[i] == null) {\n        self.missingArgument(arg.name);\n      } else if (arg.variadic) {\n        if (i !== self._args.length - 1) {\n          self.variadicArgNotLast(arg.name);\n        }\n\n        args[i] = args.splice(i);\n      }\n    });\n\n    // Always append ourselves to the end of the arguments,\n    // to make sure we match the number of arguments the user\n    // expects\n    if (self._args.length) {\n      args[self._args.length] = self;\n    } else {\n      args.push(self);\n    }\n\n    fn.apply(self, args);\n  };\n  var parent = this.parent || this;\n  var name = parent === this ? '*' : this._name;\n  parent.on('command:' + name, listener);\n  if (this._alias) parent.on('command:' + this._alias, listener);\n  return this;\n};\n\n/**\n * Define option with `flags`, `description` and optional\n * coercion `fn`.\n *\n * The `flags` string should contain both the short and long flags,\n * separated by comma, a pipe or space. The following are all valid\n * all will output this way when `--help` is used.\n *\n *    \"-p, --pepper\"\n *    \"-p|--pepper\"\n *    \"-p --pepper\"\n *\n * Examples:\n *\n *     // simple boolean defaulting to false\n *     program.option('-p, --pepper', 'add pepper');\n *\n *     --pepper\n *     program.pepper\n *     // => Boolean\n *\n *     // simple boolean defaulting to true\n *     program.option('-C, --no-cheese', 'remove cheese');\n *\n *     program.cheese\n *     // => true\n *\n *     --no-cheese\n *     program.cheese\n *     // => false\n *\n *     // required argument\n *     program.option('-C, --chdir <path>', 'change the working directory');\n *\n *     --chdir /tmp\n *     program.chdir\n *     // => \"/tmp\"\n *\n *     // optional argument\n *     program.option('-c, --cheese [type]', 'add cheese [marble]');\n *\n * @param {String} flags\n * @param {String} description\n * @param {Function|*} [fn] or default\n * @param {*} [defaultValue]\n * @return {Command} for chaining\n * @api public\n */\n\nCommand.prototype.option = function(flags, description, fn, defaultValue) {\n  var self = this,\n    option = new Option(flags, description),\n    oname = option.name(),\n    name = option.attributeName();\n\n  // default as 3rd arg\n  if (typeof fn !== 'function') {\n    if (fn instanceof RegExp) {\n      var regex = fn;\n      fn = function(val, def) {\n        var m = regex.exec(val);\n        return m ? m[0] : def;\n      };\n    } else {\n      defaultValue = fn;\n      fn = null;\n    }\n  }\n\n  // preassign default value only for --no-*, [optional], or <required>\n  if (!option.bool || option.optional || option.required) {\n    // when --no-* we make sure default is true\n    if (!option.bool) defaultValue = true;\n    // preassign only if we have a default\n    if (defaultValue !== undefined) {\n      self[name] = defaultValue;\n      option.defaultValue = defaultValue;\n    }\n  }\n\n  // register the option\n  this.options.push(option);\n\n  // when it's passed assign the value\n  // and conditionally invoke the callback\n  this.on('option:' + oname, function(val) {\n    // coercion\n    if (val !== null && fn) {\n      val = fn(val, self[name] === undefined ? defaultValue : self[name]);\n    }\n\n    // unassigned or bool\n    if (typeof self[name] === 'boolean' || typeof self[name] === 'undefined') {\n      // if no value, bool true, and we have a default, then use it!\n      if (val == null) {\n        self[name] = option.bool\n          ? defaultValue || true\n          : false;\n      } else {\n        self[name] = val;\n      }\n    } else if (val !== null) {\n      // reassign\n      self[name] = val;\n    }\n  });\n\n  return this;\n};\n\n/**\n * Allow unknown options on the command line.\n *\n * @param {Boolean} arg if `true` or omitted, no error will be thrown\n * for unknown options.\n * @api public\n */\nCommand.prototype.allowUnknownOption = function(arg) {\n  this._allowUnknownOption = arguments.length === 0 || arg;\n  return this;\n};\n\n/**\n * Parse `argv`, settings options and invoking commands when defined.\n *\n * @param {Array} argv\n * @return {Command} for chaining\n * @api public\n */\n\nCommand.prototype.parse = function(argv) {\n  // implicit help\n  if (this.executables) this.addImplicitHelpCommand();\n\n  // store raw args\n  this.rawArgs = argv;\n\n  // guess name\n  this._name = this._name || basename(argv[1], '.js');\n\n  // github-style sub-commands with no sub-command\n  if (this.executables && argv.length < 3 && !this.defaultExecutable) {\n    // this user needs help\n    argv.push('--help');\n  }\n\n  // process argv\n  var parsed = this.parseOptions(this.normalize(argv.slice(2)));\n  var args = this.args = parsed.args;\n\n  var result = this.parseArgs(this.args, parsed.unknown);\n\n  // executable sub-commands\n  var name = result.args[0];\n\n  var aliasCommand = null;\n  // check alias of sub commands\n  if (name) {\n    aliasCommand = this.commands.filter(function(command) {\n      return command.alias() === name;\n    })[0];\n  }\n\n  if (this._execs[name] === true) {\n    return this.executeSubCommand(argv, args, parsed.unknown);\n  } else if (aliasCommand) {\n    // is alias of a subCommand\n    args[0] = aliasCommand._name;\n    return this.executeSubCommand(argv, args, parsed.unknown);\n  } else if (this.defaultExecutable) {\n    // use the default subcommand\n    args.unshift(this.defaultExecutable);\n    return this.executeSubCommand(argv, args, parsed.unknown);\n  }\n\n  return result;\n};\n\n/**\n * Execute a sub-command executable.\n *\n * @param {Array} argv\n * @param {Array} args\n * @param {Array} unknown\n * @api private\n */\n\nCommand.prototype.executeSubCommand = function(argv, args, unknown) {\n  args = args.concat(unknown);\n\n  if (!args.length) this.help();\n  if (args[0] === 'help' && args.length === 1) this.help();\n\n  // <cmd> --help\n  if (args[0] === 'help') {\n    args[0] = args[1];\n    args[1] = '--help';\n  }\n\n  // executable\n  var f = argv[1];\n  // name of the subcommand, link `pm-install`\n  var bin = basename(f, path.extname(f)) + '-' + args[0];\n\n  // In case of globally installed, get the base dir where executable\n  //  subcommand file should be located at\n  var baseDir;\n\n  var resolvedLink = fs.realpathSync(f);\n\n  baseDir = dirname(resolvedLink);\n\n  // prefer local `./<bin>` to bin in the $PATH\n  var localBin = path.join(baseDir, bin);\n\n  // whether bin file is a js script with explicit `.js` or `.ts` extension\n  var isExplicitJS = false;\n  if (exists(localBin + '.js')) {\n    bin = localBin + '.js';\n    isExplicitJS = true;\n  } else if (exists(localBin + '.ts')) {\n    bin = localBin + '.ts';\n    isExplicitJS = true;\n  } else if (exists(localBin)) {\n    bin = localBin;\n  }\n\n  args = args.slice(1);\n\n  var proc;\n  if (process.platform !== 'win32') {\n    if (isExplicitJS) {\n      args.unshift(bin);\n      // add executable arguments to spawn\n      args = (process.execArgv || []).concat(args);\n\n      proc = spawn(process.argv[0], args, { stdio: 'inherit', customFds: [0, 1, 2] });\n    } else {\n      proc = spawn(bin, args, { stdio: 'inherit', customFds: [0, 1, 2] });\n    }\n  } else {\n    args.unshift(bin);\n    proc = spawn(process.execPath, args, { stdio: 'inherit' });\n  }\n\n  var signals = ['SIGUSR1', 'SIGUSR2', 'SIGTERM', 'SIGINT', 'SIGHUP'];\n  signals.forEach(function(signal) {\n    process.on(signal, function() {\n      if (proc.killed === false && proc.exitCode === null) {\n        proc.kill(signal);\n      }\n    });\n  });\n  proc.on('close', process.exit.bind(process));\n  proc.on('error', function(err) {\n    if (err.code === 'ENOENT') {\n      console.error('error: %s(1) does not exist, try --help', bin);\n    } else if (err.code === 'EACCES') {\n      console.error('error: %s(1) not executable. try chmod or run with root', bin);\n    }\n    process.exit(1);\n  });\n\n  // Store the reference to the child process\n  this.runningCommand = proc;\n};\n\n/**\n * Normalize `args`, splitting joined short flags. For example\n * the arg \"-abc\" is equivalent to \"-a -b -c\".\n * This also normalizes equal sign and splits \"--abc=def\" into \"--abc def\".\n *\n * @param {Array} args\n * @return {Array}\n * @api private\n */\n\nCommand.prototype.normalize = function(args) {\n  var ret = [],\n    arg,\n    lastOpt,\n    index;\n\n  for (var i = 0, len = args.length; i < len; ++i) {\n    arg = args[i];\n    if (i > 0) {\n      lastOpt = this.optionFor(args[i - 1]);\n    }\n\n    if (arg === '--') {\n      // Honor option terminator\n      ret = ret.concat(args.slice(i));\n      break;\n    } else if (lastOpt && lastOpt.required) {\n      ret.push(arg);\n    } else if (arg.length > 1 && arg[0] === '-' && arg[1] !== '-') {\n      arg.slice(1).split('').forEach(function(c) {\n        ret.push('-' + c);\n      });\n    } else if (/^--/.test(arg) && ~(index = arg.indexOf('='))) {\n      ret.push(arg.slice(0, index), arg.slice(index + 1));\n    } else {\n      ret.push(arg);\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Parse command `args`.\n *\n * When listener(s) are available those\n * callbacks are invoked, otherwise the \"*\"\n * event is emitted and those actions are invoked.\n *\n * @param {Array} args\n * @return {Command} for chaining\n * @api private\n */\n\nCommand.prototype.parseArgs = function(args, unknown) {\n  var name;\n\n  if (args.length) {\n    name = args[0];\n    if (this.listeners('command:' + name).length) {\n      this.emit('command:' + args.shift(), args, unknown);\n    } else {\n      this.emit('command:*', args);\n    }\n  } else {\n    outputHelpIfNecessary(this, unknown);\n\n    // If there were no args and we have unknown options,\n    // then they are extraneous and we need to error.\n    if (unknown.length > 0) {\n      this.unknownOption(unknown[0]);\n    }\n    if (this.commands.length === 0 &&\n        this._args.filter(function(a) { return a.required; }).length === 0) {\n      this.emit('command:*');\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return an option matching `arg` if any.\n *\n * @param {String} arg\n * @return {Option}\n * @api private\n */\n\nCommand.prototype.optionFor = function(arg) {\n  for (var i = 0, len = this.options.length; i < len; ++i) {\n    if (this.options[i].is(arg)) {\n      return this.options[i];\n    }\n  }\n};\n\n/**\n * Parse options from `argv` returning `argv`\n * void of these options.\n *\n * @param {Array} argv\n * @return {Array}\n * @api public\n */\n\nCommand.prototype.parseOptions = function(argv) {\n  var args = [],\n    len = argv.length,\n    literal,\n    option,\n    arg;\n\n  var unknownOptions = [];\n\n  // parse options\n  for (var i = 0; i < len; ++i) {\n    arg = argv[i];\n\n    // literal args after --\n    if (literal) {\n      args.push(arg);\n      continue;\n    }\n\n    if (arg === '--') {\n      literal = true;\n      continue;\n    }\n\n    // find matching Option\n    option = this.optionFor(arg);\n\n    // option is defined\n    if (option) {\n      // requires arg\n      if (option.required) {\n        arg = argv[++i];\n        if (arg == null) return this.optionMissingArgument(option);\n        this.emit('option:' + option.name(), arg);\n      // optional arg\n      } else if (option.optional) {\n        arg = argv[i + 1];\n        if (arg == null || (arg[0] === '-' && arg !== '-')) {\n          arg = null;\n        } else {\n          ++i;\n        }\n        this.emit('option:' + option.name(), arg);\n      // bool\n      } else {\n        this.emit('option:' + option.name());\n      }\n      continue;\n    }\n\n    // looks like an option\n    if (arg.length > 1 && arg[0] === '-') {\n      unknownOptions.push(arg);\n\n      // If the next argument looks like it might be\n      // an argument for this option, we pass it on.\n      // If it isn't, then it'll simply be ignored\n      if ((i + 1) < argv.length && argv[i + 1][0] !== '-') {\n        unknownOptions.push(argv[++i]);\n      }\n      continue;\n    }\n\n    // arg\n    args.push(arg);\n  }\n\n  return { args: args, unknown: unknownOptions };\n};\n\n/**\n * Return an object containing options as key-value pairs\n *\n * @return {Object}\n * @api public\n */\nCommand.prototype.opts = function() {\n  var result = {},\n    len = this.options.length;\n\n  for (var i = 0; i < len; i++) {\n    var key = this.options[i].attributeName();\n    result[key] = key === this._versionOptionName ? this._version : this[key];\n  }\n  return result;\n};\n\n/**\n * Argument `name` is missing.\n *\n * @param {String} name\n * @api private\n */\n\nCommand.prototype.missingArgument = function(name) {\n  console.error(\"error: missing required argument `%s'\", name);\n  process.exit(1);\n};\n\n/**\n * `Option` is missing an argument, but received `flag` or nothing.\n *\n * @param {String} option\n * @param {String} flag\n * @api private\n */\n\nCommand.prototype.optionMissingArgument = function(option, flag) {\n  if (flag) {\n    console.error(\"error: option `%s' argument missing, got `%s'\", option.flags, flag);\n  } else {\n    console.error(\"error: option `%s' argument missing\", option.flags);\n  }\n  process.exit(1);\n};\n\n/**\n * Unknown option `flag`.\n *\n * @param {String} flag\n * @api private\n */\n\nCommand.prototype.unknownOption = function(flag) {\n  if (this._allowUnknownOption) return;\n  console.error(\"error: unknown option `%s'\", flag);\n  process.exit(1);\n};\n\n/**\n * Variadic argument with `name` is not the last argument as required.\n *\n * @param {String} name\n * @api private\n */\n\nCommand.prototype.variadicArgNotLast = function(name) {\n  console.error(\"error: variadic arguments must be last `%s'\", name);\n  process.exit(1);\n};\n\n/**\n * Set the program version to `str`.\n *\n * This method auto-registers the \"-V, --version\" flag\n * which will print the version number when passed.\n *\n * @param {String} str\n * @param {String} [flags]\n * @return {Command} for chaining\n * @api public\n */\n\nCommand.prototype.version = function(str, flags) {\n  if (arguments.length === 0) return this._version;\n  this._version = str;\n  flags = flags || '-V, --version';\n  var versionOption = new Option(flags, 'output the version number');\n  this._versionOptionName = versionOption.long.substr(2) || 'version';\n  this.options.push(versionOption);\n  this.on('option:' + this._versionOptionName, function() {\n    process.stdout.write(str + '\\n');\n    process.exit(0);\n  });\n  return this;\n};\n\n/**\n * Set the description to `str`.\n *\n * @param {String} str\n * @param {Object} argsDescription\n * @return {String|Command}\n * @api public\n */\n\nCommand.prototype.description = function(str, argsDescription) {\n  if (arguments.length === 0) return this._description;\n  this._description = str;\n  this._argsDescription = argsDescription;\n  return this;\n};\n\n/**\n * Set an alias for the command\n *\n * @param {String} alias\n * @return {String|Command}\n * @api public\n */\n\nCommand.prototype.alias = function(alias) {\n  var command = this;\n  if (this.commands.length !== 0) {\n    command = this.commands[this.commands.length - 1];\n  }\n\n  if (arguments.length === 0) return command._alias;\n\n  if (alias === command._name) throw new Error('Command alias can\\'t be the same as its name');\n\n  command._alias = alias;\n  return this;\n};\n\n/**\n * Set / get the command usage `str`.\n *\n * @param {String} str\n * @return {String|Command}\n * @api public\n */\n\nCommand.prototype.usage = function(str) {\n  var args = this._args.map(function(arg) {\n    return humanReadableArgName(arg);\n  });\n\n  var usage = '[options]' +\n    (this.commands.length ? ' [command]' : '') +\n    (this._args.length ? ' ' + args.join(' ') : '');\n\n  if (arguments.length === 0) return this._usage || usage;\n  this._usage = str;\n\n  return this;\n};\n\n/**\n * Get or set the name of the command\n *\n * @param {String} str\n * @return {String|Command}\n * @api public\n */\n\nCommand.prototype.name = function(str) {\n  if (arguments.length === 0) return this._name;\n  this._name = str;\n  return this;\n};\n\n/**\n * Return prepared commands.\n *\n * @return {Array}\n * @api private\n */\n\nCommand.prototype.prepareCommands = function() {\n  return this.commands.filter(function(cmd) {\n    return !cmd._noHelp;\n  }).map(function(cmd) {\n    var args = cmd._args.map(function(arg) {\n      return humanReadableArgName(arg);\n    }).join(' ');\n\n    return [\n      cmd._name +\n        (cmd._alias ? '|' + cmd._alias : '') +\n        (cmd.options.length ? ' [options]' : '') +\n        (args ? ' ' + args : ''),\n      cmd._description\n    ];\n  });\n};\n\n/**\n * Return the largest command length.\n *\n * @return {Number}\n * @api private\n */\n\nCommand.prototype.largestCommandLength = function() {\n  var commands = this.prepareCommands();\n  return commands.reduce(function(max, command) {\n    return Math.max(max, command[0].length);\n  }, 0);\n};\n\n/**\n * Return the largest option length.\n *\n * @return {Number}\n * @api private\n */\n\nCommand.prototype.largestOptionLength = function() {\n  var options = [].slice.call(this.options);\n  options.push({\n    flags: '-h, --help'\n  });\n  return options.reduce(function(max, option) {\n    return Math.max(max, option.flags.length);\n  }, 0);\n};\n\n/**\n * Return the largest arg length.\n *\n * @return {Number}\n * @api private\n */\n\nCommand.prototype.largestArgLength = function() {\n  return this._args.reduce(function(max, arg) {\n    return Math.max(max, arg.name.length);\n  }, 0);\n};\n\n/**\n * Return the pad width.\n *\n * @return {Number}\n * @api private\n */\n\nCommand.prototype.padWidth = function() {\n  var width = this.largestOptionLength();\n  if (this._argsDescription && this._args.length) {\n    if (this.largestArgLength() > width) {\n      width = this.largestArgLength();\n    }\n  }\n\n  if (this.commands && this.commands.length) {\n    if (this.largestCommandLength() > width) {\n      width = this.largestCommandLength();\n    }\n  }\n\n  return width;\n};\n\n/**\n * Return help for options.\n *\n * @return {String}\n * @api private\n */\n\nCommand.prototype.optionHelp = function() {\n  var width = this.padWidth();\n\n  // Append the help information\n  return this.options.map(function(option) {\n    return pad(option.flags, width) + '  ' + option.description +\n      ((option.bool && option.defaultValue !== undefined) ? ' (default: ' + JSON.stringify(option.defaultValue) + ')' : '');\n  }).concat([pad('-h, --help', width) + '  ' + 'output usage information'])\n    .join('\\n');\n};\n\n/**\n * Return command help documentation.\n *\n * @return {String}\n * @api private\n */\n\nCommand.prototype.commandHelp = function() {\n  if (!this.commands.length) return '';\n\n  var commands = this.prepareCommands();\n  var width = this.padWidth();\n\n  return [\n    'Commands:',\n    commands.map(function(cmd) {\n      var desc = cmd[1] ? '  ' + cmd[1] : '';\n      return (desc ? pad(cmd[0], width) : cmd[0]) + desc;\n    }).join('\\n').replace(/^/gm, '  '),\n    ''\n  ].join('\\n');\n};\n\n/**\n * Return program help documentation.\n *\n * @return {String}\n * @api private\n */\n\nCommand.prototype.helpInformation = function() {\n  var desc = [];\n  if (this._description) {\n    desc = [\n      this._description,\n      ''\n    ];\n\n    var argsDescription = this._argsDescription;\n    if (argsDescription && this._args.length) {\n      var width = this.padWidth();\n      desc.push('Arguments:');\n      desc.push('');\n      this._args.forEach(function(arg) {\n        desc.push('  ' + pad(arg.name, width) + '  ' + argsDescription[arg.name]);\n      });\n      desc.push('');\n    }\n  }\n\n  var cmdName = this._name;\n  if (this._alias) {\n    cmdName = cmdName + '|' + this._alias;\n  }\n  var usage = [\n    'Usage: ' + cmdName + ' ' + this.usage(),\n    ''\n  ];\n\n  var cmds = [];\n  var commandHelp = this.commandHelp();\n  if (commandHelp) cmds = [commandHelp];\n\n  var options = [\n    'Options:',\n    '' + this.optionHelp().replace(/^/gm, '  '),\n    ''\n  ];\n\n  return usage\n    .concat(desc)\n    .concat(options)\n    .concat(cmds)\n    .join('\\n');\n};\n\n/**\n * Output help information for this command\n *\n * @api public\n */\n\nCommand.prototype.outputHelp = function(cb) {\n  if (!cb) {\n    cb = function(passthru) {\n      return passthru;\n    };\n  }\n  process.stdout.write(cb(this.helpInformation()));\n  this.emit('--help');\n};\n\n/**\n * Output help information and exit.\n *\n * @api public\n */\n\nCommand.prototype.help = function(cb) {\n  this.outputHelp(cb);\n  process.exit();\n};\n\n/**\n * Camel-case the given `flag`\n *\n * @param {String} flag\n * @return {String}\n * @api private\n */\n\nfunction camelcase(flag) {\n  return flag.split('-').reduce(function(str, word) {\n    return str + word[0].toUpperCase() + word.slice(1);\n  });\n}\n\n/**\n * Pad `str` to `width`.\n *\n * @param {String} str\n * @param {Number} width\n * @return {String}\n * @api private\n */\n\nfunction pad(str, width) {\n  var len = Math.max(0, width - str.length);\n  return str + Array(len + 1).join(' ');\n}\n\n/**\n * Output help information if necessary\n *\n * @param {Command} command to output help for\n * @param {Array} array of options to search for -h or --help\n * @api private\n */\n\nfunction outputHelpIfNecessary(cmd, options) {\n  options = options || [];\n  for (var i = 0; i < options.length; i++) {\n    if (options[i] === '--help' || options[i] === '-h') {\n      cmd.outputHelp();\n      process.exit(0);\n    }\n  }\n}\n\n/**\n * Takes an argument an returns its human readable equivalent for help usage.\n *\n * @param {Object} arg\n * @return {String}\n * @api private\n */\n\nfunction humanReadableArgName(arg) {\n  var nameOutput = arg.name + (arg.variadic === true ? '...' : '');\n\n  return arg.required\n    ? '<' + nameOutput + '>'\n    : '[' + nameOutput + ']';\n}\n\n// for versions before node v0.8 when there weren't `fs.existsSync`\nfunction exists(file) {\n  try {\n    if (fs.statSync(file).isFile()) {\n      return true;\n    }\n  } catch (e) {\n    return false;\n  }\n}\n","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","'use strict';\nvar os = require('os');\n\nfunction homedir() {\n\tvar env = process.env;\n\tvar home = env.HOME;\n\tvar user = env.LOGNAME || env.USER || env.LNAME || env.USERNAME;\n\n\tif (process.platform === 'win32') {\n\t\treturn env.USERPROFILE || env.HOMEDRIVE + env.HOMEPATH || home || null;\n\t}\n\n\tif (process.platform === 'darwin') {\n\t\treturn home || (user ? '/Users/' + user : null);\n\t}\n\n\tif (process.platform === 'linux') {\n\t\treturn home || (process.getuid() === 0 ? '/root' : (user ? '/home/' + user : null));\n\t}\n\n\treturn home || null;\n}\n\nmodule.exports = typeof os.homedir === 'function' ? os.homedir : homedir;\n","const osHomedir = require(\"os-homedir\");\n\nconst homedir = osHomedir();\nif (!homedir) {\n   console.error(\"ERROR: Home Directory could not be resolved\");\n   process.exit(1);\n}\n\nmodule.exports = homedir;\n","const homedir = require(\"./utils/getHomeDirectory\");\n\nconst directoryNameProjectButler = \".alclipmdata\";\nconst dbRootDirectory = `${homedir}/${directoryNameProjectButler}`;\n\nconst shellAliasGetterString = \"project-butler -s\";\nconst shellAliasGetterEvalString = 'eval \"$(project-butler -s)';\n\nmodule.exports = {\n   homedir,\n   database: {\n      dbRootDirectory,\n      dbManagerFilePathAbsolute: `${dbRootDirectory}/storage`,\n   },\n   shellCommands: {\n      shellAliasGetterString,\n      shellAliasGetterEvalString,\n   },\n};\n","const fs = require(\"fs\"),\n   {\n      homedir,\n      database: { dbRootDirectory, dbManagerFilePathAbsolute },\n   } = require(\"../config\");\n\nfunction ensureStorageExistence() {\n   // to be honest i forgot where the name\n   // \"alclipm\" comes from. Probably some abbreviation that i forgot.\n   // maybe in the future migrate to just `.project-butler`\n\n   function ensureFSExistence(\n      fsPath,\n      syncOnNotExistFunc = (path) => {\n         fs.mkdirSync(path);\n      },\n      bSecondTry = false\n   ) {\n      if (fs.existsSync(fsPath)) return;\n      if (bSecondTry) throw new Error(`EACCESS could not create  ${fsPath}`);\n\n      try {\n         syncOnNotExistFunc(fsPath), ensureFSExistence(fsPath, null, true);\n      } catch (e) {\n         if (e.syscall && e.syscall == \"mkdir\") {\n            console.error(\n               `${fsPath} could not be created. Make sure that ${homedir} exists and is writeable`\n            );\n         } else {\n            console.error(e);\n         }\n         process.exit(1);\n      }\n   }\n\n   ensureFSExistence(dbRootDirectory);\n   ensureFSExistence(dbManagerFilePathAbsolute, (path) => {\n      fs.closeSync(fs.openSync(path, \"w\"));\n   });\n}\n\nmodule.exports = ensureStorageExistence;\n","const fs = require(\"fs\");\n\n/**\n * A function that provides a read, write and close function for a given filepath\n * @return {Object} with read, write, close methods\n */\nfunction readWriteHelper(filePath) {\n   return {\n      read: () => {\n         return new Promise((res, rej) => {\n            fs.readFile(filePath, (err, buffer) => {\n               if (err) rej(err);\n               res(buffer);\n            });\n         });\n      },\n      write: (value) => {\n         return new Promise((res, rej) => {\n            fs.writeFile(filePath, value, (err) => {\n               if (err) rej(err);\n               res();\n            });\n         });\n      },\n      close: (fd) => fs.closeSync(fd),\n   };\n}\n\nmodule.exports = {\n   open: readWriteHelper,\n};\n","/**\n * @class Result (!abstract!)\n * Defines a database basic result\n */\nclass Result {\n    constructor(){\n        this.messages = {\n            'info': [],\n            'error': [],\n            'warn': []\n        };\n        this.resultData = null;\n    }\n\n    isError() {\n        return false;\n    }\n\n    data() {\n        return this.resultData;\n    }\n\n    aliasesPreprocess(aliasesArray) {\n        return aliasesArray;\n    }\n}\n\nclass AddedResult extends Result {\n    constructor() {\n        super();\n    }\n\n    hasWarnings() {\n        return this.messages.warn.length > 0;\n    }\n\n    addWarning(text) {\n        this.messages.warn.push({text: text});\n    }\n\n    saveProjectDetails(projectDetails) {\n        this.resultData = projectDetails;\n        return this;\n    }\n}\n\n/**\n * Represents an error as result\n */\nclass ErrorResult extends Result {\n    constructor() {\n        super();\n    }\n\n    isError() {\n        return true;\n    }\n\n    getErrors() {\n        return this.messages.error;\n    }\n\n    addError(text, childMessages) {\n        if (arguments.length===1) {\n            this.messages.error.push({text: text});\n        } else {\n            childMessages = childMessages && !Array.isArray(childMessages) ? [childMessages] : childMessages;\n            this.messages.error.push({text: text, childMessages: childMessages});\n        }\n\n        return this;\n    }\n}\n\nclass ExactProjectResult extends Result {\n    /**\n     * @param {Object} project - the project details object\n     */\n    constructor(project) {\n        super();\n        this.resultData = project; /** { absPath: string, directoryName: string} */\n    }\n\n    getPath() {\n        return this.data().absPath;\n    }\n}\n\nclass ProjectListResult extends Result {\n    /**\n     * @param {Array<Object>} listOfProjects\n     */\n    constructor(listOfProjects) {\n        super();\n        this.resultData = listOfProjects;\n    }\n\n    get title() {\n        return 'Available projects:';\n    }\n}\n\nclass SearchProjectListResult extends ProjectListResult {\n    constructor(projectListResult, { searchString }) {\n        super(projectListResult.resultData);\n        this.searchString = searchString;\n    }\n\n    get title() {\n        return `Found multiple matches for '${this.searchString}', please specify:`;\n    }\n\n    aliasesPreprocess(aliasesArray) {\n        return aliasesArray.filter(sAlias => {\n            return sAlias.includes(this.searchString);\n        });\n    }\n}\n\nclass ProjectProposalResult extends ProjectListResult {\n    /**\n     * @param {Array<Object>} listOfProjects\n     * @param {String} searchString - The string the project proposals are based on\n     */\n    constructor (listOfProjects, searchString) {\n        super(listOfProjects);\n    }\n}\n\nclass CommandWrapper {\n    constructor (command) {\n        this.command = command;\n    }\n\n    toString() {\n        return this.command;\n    }\n}\n\nmodule.exports = {\n    ErrorResult: ErrorResult,\n    ProjectListResult: ProjectListResult,\n    SearchProjectListResult: SearchProjectListResult,\n    ProjectProposalResult: ProjectProposalResult,\n    ExactProjectResult: ExactProjectResult,\n    AddedResult: AddedResult,\n    CommandWrapper: CommandWrapper,\n};","const {\n   ErrorResult,\n   ProjectListResult,\n   SearchProjectListResult,\n   ExactProjectResult,\n   AddedResult,\n} = require(\"./dbResultModels\");\nlet log = function () {\n   console.log(Array.from(arguments));\n};\nlog.json = (_logdata) => log(JSON.stringify(_logdata));\nconst PATH_DELIMITER = \":\";\nconst EMPTY_STRUCT = { projects: { quickRef: {} }, _settings: { _i: 0 } };\n\nfunction err(error, childMessages = []) {\n   let errorResult = new ErrorResult().addError(error, childMessages);\n   return errorResult;\n}\n\nfunction getKeysFromMap(m) {\n   return Array.from(m || new Map()).map((keyValueArr) => {\n      return keyValueArr[0];\n   });\n}\n\nfunction matchesInArray(searchString, arr) {\n   return arr.filter((value) => {\n      if (value.replace(searchString, \"\") !== value) {\n         // contained it, return with TRUE\n         return true;\n      }\n      return false;\n   });\n}\n\nclass ProjectDatabase {\n   /**\n    * @param {Object} fileHandler - io object with read/write option\n    * @param {String} pathSeparator - The os-dependend separator\n    */\n   constructor(fileHandler, pathSeparator) {\n      if (!pathSeparator) throw new Error(\"pathSeparator needs to be defined\");\n\n      this.fileHandler = fileHandler;\n      this.pathSeparator = pathSeparator;\n      this.lastRead = null; //initializing it for readability reasons. will be overwritten w/ next line\n      this.load(true); //will call the read() function on fileHandler and write on lastRead\n      this.setupEmptyMaps();\n   }\n\n   setupEmptyMaps() {\n      this.indexToProject = new Map();\n      //backmapping to indexes to reference projects\n      this.aliasesToIndex = new Map();\n      this.absPathToIndex = new Map();\n      this.uidToIndex = new Map();\n      this.indexToUid = new Map();\n   }\n\n   /**\n    * Will output aliases and projects\n    */\n   async debug() {\n      await this.load();\n      log(\"-------------------\");\n      this.aliasesToIndex.forEach((key, value) => {\n         log(\n            `Alias [${value}] mapped to ${this.indexToProject.get(key).absPath}`\n         );\n      });\n\n      log(\"\");\n      log(\"-------------------\");\n      let uids = this.uidToIndex.keys();\n      let curr = uids.next();\n      while (!curr.done) {\n         log(await this.getProjectDetailsByUID(curr.value));\n         curr = uids.next();\n      }\n   }\n\n   /**\n    * Will fetch all available projects\n    * @return {Promise<ProjectListResult>}\n    */\n   async fetchAll(uidsPrefiltered) {\n      await this.load();\n      const uids = Array.isArray(uidsPrefiltered)\n         ? uidsPrefiltered\n         : Array.from(this.uidToIndex.keys());\n      return Promise.all(\n         uids.map((uid) => this.getProjectDetailsByUID(uid))\n      ).then(\n         (projectDetailsArray) => new ProjectListResult(projectDetailsArray)\n      );\n   }\n\n   /**\n    * Will save all data to the file by simply stringifying it\n    * @return {Promise<Object>} promise with the data of the saved object\n    */\n   save() {\n      return (newDataObj) => {\n         return this.fileHandler.write(JSON.stringify(newDataObj)).then((_) => {\n            //ensuring that access to lastRead will deal with the new data\n            this.lastRead = Promise.resolve(newDataObj); //-> instead of this.load() => perf+\n            return newDataObj;\n         });\n      };\n   }\n\n   /**\n    * @description will read the file-contents and parse it to an object.\n    * If no file contents are given it will provide an empty valid struct object.\n    * @param {Boolean} bForceFileLoad - if true then a file io will be enforced\n    * @return {Promise<String>}\n    */\n   load(bForceFileIO) {\n      if (!bForceFileIO && this.lastRead) return this.lastRead;\n\n      this.lastRead = this.fileHandler\n         .read()\n         .then((contents) => {\n            if (!contents) throw new Error(\"No content yet\");\n            return JSON.parse(contents);\n         })\n         .catch((readError) => {\n            return EMPTY_STRUCT;\n         })\n         .then((data) => this.parseData(data));\n\n      return this.lastRead;\n   }\n\n   /**\n    * @description generates unique Id by absPath and directoryName\n    * @param {String} absPath\n    * @param {String} directoryName\n    */\n   uid(absPath, directoryName) {\n      return `${directoryName}${PATH_DELIMITER}${absPath}`;\n   }\n\n   /**\n    * parseData will make sure that the project object\n    * is mapped to the temporary storage and easily accessible.\n    * @param {Object} dataStruct\n    */\n   parseData(dataStruct) {\n      this.setupEmptyMaps();\n      Object.keys(dataStruct.projects.quickRef).forEach((uid, index) => {\n         const [directoryName, absPath] = uid.split(PATH_DELIMITER);\n         this.indexToProject.set(index, {\n            absPath: absPath,\n            directoryName: directoryName,\n         });\n\n         this.uidToIndex.set(uid, index);\n         this.indexToUid.set(index, uid);\n         this.absPathToIndex.set(absPath, index);\n         dataStruct.projects.quickRef[uid].aliases.forEach((alias) =>\n            this.aliasesToIndex.set(alias, index)\n         );\n      });\n      return Promise.resolve(dataStruct);\n   }\n\n   /**\n    * @description Will return all project-related data via uid of the project\n    * @return {Promise<Object>}\n    */\n   async getProjectDetailsByUID(uid) {\n      return this.load().then(({ projects: { quickRef } }) => {\n         let projectData = this.indexToProject.get(this.uidToIndex.get(uid));\n         projectData.aliases = quickRef[uid].aliases;\n         return projectData;\n      });\n   }\n\n   getExactProjectResultByAlias(sAlias) {\n      return this.load().then((_) => {\n         return new ExactProjectResult(\n            this.indexToProject.get(this.aliasesToIndex.get(sAlias))\n         );\n      });\n   }\n\n   getExactProjectResultByAbsoluteDirectory(sAbsoluteDirectoryPath) {\n      return this.load().then((_) => {\n         const absoluteDirectoryIndex = this.absPathToIndex.get(\n            sAbsoluteDirectoryPath\n         );\n\n         if (typeof absoluteDirectoryIndex !== \"number\") {\n            return null;\n         } else {\n            return new ExactProjectResult(\n               this.indexToProject.get(absoluteDirectoryIndex)\n            );\n         }\n      });\n   }\n\n   /**\n    * Will search for a best match. E.g. `cl` would match `cli` and return an exact\n    * but if there is `cli` and `cla` then it would just return Proposals\n    * @param {string} searchString\n    */\n   findNextBestMatch(searchString) {\n      return this.load().then((_) => {\n         const foundMatches = matchesInArray(\n            searchString,\n            getKeysFromMap(this.aliasesToIndex)\n         );\n\n         if (foundMatches.length === 0) {\n            return err(`No match found for '${searchString}'`);\n         } else if (foundMatches.length === 1) {\n            // well we got an exact result so lets go back to the old function :)\n            return this.getExactProjectResultByAlias(foundMatches[0]);\n         }\n         // else: lets return the found proposals\n\n         // but: if all found proposals (even if multiple) were pointing to the same directory\n         // => exact match!\n\n         const allFoundMatchesAsIndices = foundMatches.map((sAlias) => {\n            return this.aliasesToIndex.get(sAlias);\n         });\n\n         const bAllMatchesPointToSame = allFoundMatchesAsIndices.every(\n            (index) => {\n               return index === allFoundMatchesAsIndices[0];\n            }\n         );\n\n         if (bAllMatchesPointToSame) {\n            return this.getExactProjectResultByAlias(foundMatches[0]);\n         } // else: list all found occurences\n\n         // now we need to convert indices to uids as indices cannot be\n         // mapped to ProjectListResults\n         const uids = [];\n         allFoundMatchesAsIndices.forEach((iIndex) => {\n            const uid = this.indexToUid.get(iIndex);\n            if (!uids.includes(uid)) {\n               uids.push(uid);\n            }\n         });\n\n         return this.fetchAll(uids).then((projectListResult) => {\n            return new SearchProjectListResult(projectListResult, {\n               searchString,\n            });\n         });\n      });\n   }\n\n   findBestMatch(searchString) {\n      //examples:\n      // 1. search string: emb\n      // -> result: test-emb-test/ from absPath mapping should be matched.\n      // -> if multiple matches are available then list and ask to specify term\n      return this.load().then((_) => {\n         if (this.aliasesToIndex.has(searchString)) {\n            return this.getExactProjectResultByAlias(searchString);\n         }\n\n         return this.findNextBestMatch(searchString);\n      });\n   }\n\n   /**\n    * @desc checks given aliases and maps it to its project directories if existing\n    * @param {Array<String>} aliases\n    * @param {Object} options - excludePath can be set to ignore aliases with this path\n    * @return {Promise<Array<String>>}\n    */\n   async mapExistingAliasesWithProjectDirs(aliasesArray, options) {\n      await this.load();\n      options = options || {};\n      if (!Array.isArray(aliasesArray)) {\n         throw new Error(\"Please provide an array of aliases\");\n      }\n\n      const aliasesInUse = aliasesArray\n         .filter((alias) => this.aliasesToIndex.has(alias))\n         .map((alias) => {\n            const { absPath } = this.indexToProject.get(\n               this.aliasesToIndex.get(alias)\n            );\n            return options.excludePath && absPath === options.excludePath\n               ? null\n               : { alias: alias, absPath: absPath };\n         })\n         .filter((obj) => obj !== null);\n      return aliasesInUse.length > 0 ? aliasesInUse : null;\n   }\n\n   /**\n    * Adds a project with its aliases\n    * @param {String} absPath\n    * @param {Array<String>} aliases\n    */\n   async addProject(absPath, aliases) {\n      //addProject(..) will add directoryName as alias automatically if the alias is not yet occupied\n      const directoryName = absPath.split(this.pathSeparator).pop();\n      const uid = this.uid(absPath, directoryName);\n\n      if (!Array.isArray(aliases) || aliases.length === 0) {\n         aliases = [directoryName];\n      }\n      aliases = aliases.map((sAlias) => sAlias.toLowerCase());\n\n      const aliasesInUse = await this.mapExistingAliasesWithProjectDirs(\n         aliases,\n         { excludePath: absPath }\n      );\n\n      if (aliasesInUse) {\n         return new ErrorResult().addError(\n            `The following aliases are already in use`,\n            aliasesInUse.map(\n               (aliasObj) => `${aliasObj.alias} => ${aliasObj.absPath}`\n            )\n         );\n      }\n\n      //----else:------------\n      const result = new AddedResult();\n\n      return this.load(true).then((obj) => {\n         let aliasesToWrite = [];\n         if (obj.projects.quickRef[uid]) {\n            result.addWarning(\n               \"Info: Project already exists, will merge the definitions now.\"\n            );\n            aliasesToWrite = [].concat(obj.projects.quickRef[uid].aliases);\n         }\n\n         aliases.forEach((alias) => {\n            if (!aliasesToWrite.includes(alias)) {\n               aliasesToWrite.push(alias);\n            }\n         });\n\n         obj.projects.quickRef[uid] = { aliases: aliasesToWrite };\n         return this.parseData(obj)\n            .then(this.save())\n            .then(() => this.getProjectDetailsByUID(uid))\n            .then((projectDetails) =>\n               result.saveProjectDetails(projectDetails)\n            );\n      });\n   }\n\n   /**\n    * Remove aliases. Also removes project if a the boolean param is set to true\n    * @param {Array<String>} aliases\n    * @param {Boolean} bDeleteAll\n    */\n   async removeByAliases(aliases, bDeleteAll) {\n      return this.load().then((obj) => {\n         const existingAliases = (Array.isArray(aliases) ? aliases : []).filter(\n            (sAlias) => {\n               return this.aliasesToIndex.has(sAlias);\n            }\n         );\n\n         if (!existingAliases.length) {\n            return err(\"None of the given aliases could be found\");\n         }\n\n         const affectedUidsArr = Array.from(\n            existingAliases.reduce((oSet, sAlias) => {\n               oSet.add(this.indexToUid.get(this.aliasesToIndex.get(sAlias)));\n\n               return oSet;\n            }, new Set())\n         );\n\n         affectedUidsArr.forEach((uid) => {\n            if (obj.projects.quickRef[uid]) {\n               if (bDeleteAll) {\n                  delete obj.projects.quickRef[uid];\n               } else {\n                  // only remove the aliases given\n                  obj.projects.quickRef[uid].aliases = obj.projects.quickRef[\n                     uid\n                  ].aliases.filter((sAlias) => {\n                     return !existingAliases.includes(sAlias);\n                  });\n\n                  if (obj.projects.quickRef[uid].aliases.length === 0) {\n                     delete obj.projects.quickRef[uid];\n                  }\n               }\n            }\n         });\n\n         return this.parseData(obj)\n            .then(this.save())\n            .then(() => this.fetchAll());\n      });\n   }\n\n   /**\n    * Remove a project with its aliases by its directory\n    * @param {String} absPath\n    */\n   async removeByDirectory(absPath) {\n      //addProject(..) will add directoryName as alias automatically if the alias is not yet occupied\n      const directoryName = absPath.split(this.pathSeparator).pop();\n      const uid = this.uid(absPath, directoryName);\n\n      return this.load().then((obj) => {\n         if (!obj.projects.quickRef[uid]) {\n            return err(`Directory '${absPath}' is not stored.`);\n         }\n\n         delete obj.projects.quickRef[uid];\n         return this.parseData(obj)\n            .then(this.save())\n            .then(() => this.fetchAll());\n      });\n   }\n}\n\nmodule.exports = function hydrateDatabase(fileHandler, pathSeparator) {\n   return new ProjectDatabase(fileHandler, pathSeparator);\n};\n","const io = require(\"../io\"),\n   { sep: separator } = require(\"path\"),\n   config = require(\"../config\"),\n   hydrateDatabase = require(\"./database\");\n\nmodule.exports = (function () {\n   let _databaseConnection;\n\n   return function () {\n      if (!_databaseConnection) {\n         const databaseFile = io.open(\n            config.database.dbManagerFilePathAbsolute\n         );\n\n         _databaseConnection = hydrateDatabase(databaseFile, separator);\n      }\n\n      return _databaseConnection;\n   };\n})();\n","const BASH_STYLES = {\n    none: '\\\\033[0m',\n    underline: '\\\\033[4m',\n    red: '\\\\033[0;31m',\n    cyan: '\\\\033[0;36m',\n    yellow: '\\\\033[0;43m',\n    bgBlack: '\\\\e[100m',\n    bold: '\\\\033[1m',\n    white: '\\\\033[0;37m'\n}\n\nfunction generateLineBreaks(numLineBreaks) {\n    return Array.apply(null, {length: numLineBreaks}).map(()=>'\\\\n').join('')\n}\n\nclass ShellCd {\n    constructor(path) {\n        this.path = path;\n    }\n\n    toString() {\n        return `cd ${this.path}`;\n    }\n}\n\nclass ShellRaw {\n    constructor(rawCommand) {\n        this.rawCommand = rawCommand;\n    }\n\n    toString() {\n        return this.rawCommand;\n    }\n}\n\n/**\n * Echo Shell command\n */\nclass ShellEcho {\n    constructor(msg, type) {\n        this.message = msg;\n        this.type = type;\n    }\n\n    toString(mode) {\n        let prefixString = '';\n        if (this.type==='error') {\n            prefixString = '[ERROR] ';\n        }\n        return `printf \"${BASH_STYLES.bold}${prefixString}${this.message}${BASH_STYLES.none}\"`;\n    }\n}\n\nclass ShellSet {\n    constructor() {\n        this.cmdSet = [];\n    }\n\n    addRaw(rawCommand) {\n        if (!rawCommand) {\n            return;\n        }\n        this.cmdSet.push(new ShellRaw(rawCommand));\n    }\n\n    addCd(path) {\n        this.cmdSet.push(new ShellCd(path));\n    }\n\n    addMessage(msg) {\n        this.cmdSet.push(new ShellEcho(msg));\n    }\n\n    stringBuilder(inpStr) {\n        if (!inpStr) inpStr = '';\n\n        return {\n            acc: inpStr ? inpStr : '',\n            plain: function(str){\n                this.acc += `${inpStr}${BASH_STYLES.none}${str}`;\n                return this;\n            },\n            bold: function(str){\n                this.acc += `${inpStr}${BASH_STYLES.bold}${str}`;\n                return this;\n            },\n            underline: function(str){\n                this.acc += `${inpStr}${BASH_STYLES.underline}${str}`;\n                return this;\n            },\n            break: function(num) {\n                num = num ? num : 1;\n                this.acc += generateLineBreaks(num);\n                return this;\n            },\n            each: function(array, iterFunc) {\n                array.forEach((item, index)=>{\n                    iterFunc(item, index, this);\n                })\n                return this;\n            },\n            build: function(){\n                return this.acc;\n            }\n        }\n    }\n\n    addErrorMessage(msg) {\n        this.cmdSet.push(new ShellEcho(msg, 'error'));\n    }\n\n    toString() {\n        return this.cmdSet.map((cmd, index)=>cmd.toString(index%2)).join(' && ');\n    }\n}\n\nmodule.exports = ShellSet;","function readButlerRc(absPath) {\n    try {\n        const butlerRcConfig = require(absPath);\n        return butlerRcConfig || {};\n    } catch (e) {\n        console.error('.butlerrc.js read failed!');\n        return null;\n    }\n}\n\nmodule.exports.readButlerRc = readButlerRc;","const className = (o) => o.__proto__.constructor.name;\nconst ShellSet = require(\"./shellset\");\nconst fs = require(\"fs\");\nconst { readButlerRc } = require(\"../utils/butlerrc.js\");\n\nfunction shellify(resultInstance) {\n   const objType = className(resultInstance);\n   const shell = new ShellSet();\n   let shellString = shell.stringBuilder();\n\n   if (objType === \"CommandWrapper\") {\n      shell.addRaw(resultInstance.toString());\n   } else if (\n      objType === \"ProjectListResult\" ||\n      objType === \"SearchProjectListResult\"\n   ) {\n      shell.addMessage(\n         shellString\n            .underline(\"\")\n            .bold(resultInstance.title)\n            .plain(\"\")\n            .break(2)\n            .each(resultInstance.data(), function (item, index, _) {\n               _.plain(`${index + 1}) ${item.absPath}`)\n                  .break()\n                  .plain(\"··\")\n                  .plain(` Aliases: `)\n                  .bold(\n                     `[${resultInstance\n                        .aliasesPreprocess(item.aliases)\n                        .join(\", \")}]`\n                  )\n                  .break(2);\n            })\n            .build()\n      );\n   } else if (objType === \"ExactProjectResult\") {\n      const lookupButlerRc = `${resultInstance.getPath()}/.butlerrc.js`;\n      const rcFileExists = fs.existsSync(lookupButlerRc);\n\n      shell.addCd(resultInstance.getPath());\n\n      if (rcFileExists) {\n         const butlerRcConfig = readButlerRc(lookupButlerRc);\n         if (butlerRcConfig !== null) {\n            if (\n               butlerRcConfig.open &&\n               typeof butlerRcConfig.open === \"function\"\n            ) {\n               shell.addRaw(butlerRcConfig.open());\n            }\n         }\n      }\n   } else if (objType === \"AddedResult\") {\n      const { aliases, absPath } = resultInstance.data();\n\n      shell.addMessage(\n         shellString\n            .plain(\"Aliases for\")\n            .break()\n            .bold(absPath)\n            .plain(\"\")\n            .break()\n            .each(aliases, (alias, i, _) => {\n               _.plain(`· ${alias}`).break();\n            })\n            .build()\n      );\n   } else if (objType === \"ErrorResult\") {\n      shell.addMessage(\n         shellString\n            .each(resultInstance.getErrors(), function (\n               { text, childMessages },\n               index,\n               _\n            ) {\n               _.bold(\n                  `${text}${childMessages && childMessages.length ? \":\" : \"\"}`\n               );\n\n               if (childMessages && Array.isArray(childMessages)) {\n                  _.break(1);\n                  _.each(childMessages, function (msg, i, __) {\n                     __.plain(`····  ${msg}`);\n                  });\n                  _.break();\n               }\n            })\n            .build()\n      );\n   }\n\n   return `#shell\\n${shell.toString()}`;\n}\n\nmodule.exports = function (StdoutToStderrProxy) {\n   return function () {\n      const shellifiedResult = shellify(...arguments);\n      StdoutToStderrProxy.writeToActualStdout(shellifiedResult);\n      return shellifiedResult;\n   };\n};\n","const path = require(\"path\"),\n   { StdoutToStderrProxy } = require(\"../utils/stdoutToStderrProxy\"),\n   shellify = require(\"../shell/shellify\")(StdoutToStderrProxy),\n   getCWD = process.cwd;\n\nmodule.exports = function (cli, db) {\n   cli.command(\"add [aliases...]\")\n      .option(\"-d, --dir [path]\", \"Directory to add. Default: CWD\")\n      .description(\"Adds current directory.\")\n      .action((aliases, cmd) => {\n         const absPath = path.resolve(cmd.dir || getCWD());\n         db.addProject(absPath, aliases).then(shellify);\n      });\n};\n","const path = require(\"path\"),\n   { StdoutToStderrProxy } = require(\"../utils/stdoutToStderrProxy\"),\n   shellify = require(\"../shell/shellify\")(StdoutToStderrProxy),\n   getCWD = process.cwd;\n\nmodule.exports = function (cli, db) {\n   cli.command(\"remove [aliases...]\")\n      .option(\n         \"-a, --all\",\n         \"If --all param is set it will completely remove the directory from the list with all its aliases\"\n      )\n      .description(\n         \"If no alias is provided it will try to delete all aliases from your current directory\"\n      )\n      .action((aliases, cmd) => {\n         const absPath = path.resolve(getCWD());\n\n         if (!aliases || aliases.length === 0) {\n            db.removeByDirectory(absPath).then(shellify);\n         } else {\n            db.removeByAliases(aliases, cmd.all).then(shellify);\n         }\n      });\n};\n","const fs = require('fs');\n\nfunction readJson(file) {\n    try {\n        const jsonFileContents = fs.readFileSync(file);\n        return JSON.parse(jsonFileContents);\n    } catch (e) {\n        return null;\n    }\n}\n\nmodule.exports = readJson;","const readJson = require('./readJson');\n\nfunction parsePackageJson(packageJsonPath) {\n    const jsonObj = readJson(packageJsonPath);\n\n    let packageJson = { ...jsonObj };\n\n    packageJson.getScript = scriptName => {\n        if (packageJson.scripts && packageJson.scripts[scriptName]) {\n            return packageJson.scripts[scriptName];\n        } else {\n            return null;\n        }\n    };\n\n    return packageJson;\n}\n\nmodule.exports = parsePackageJson;","const path = require(\"path\"),\n   { StdoutToStderrProxy } = require(\"../utils/stdoutToStderrProxy\"),\n   shellify = require(\"../shell/shellify\")(StdoutToStderrProxy),\n   { CommandWrapper } = require(\"../db/dbResultModels\"),\n   parsePackageJson = require(\"../utils/parsePackageJson\"),\n   getCWD = process.cwd;\n\nmodule.exports = function (cli, db) {\n   const tryOpenProjectByAliasOrName = (aliasOrName) => {\n      db.findBestMatch(aliasOrName).then(shellify);\n   };\n\n   const openProjectOrCallAction = (\n      projectNameOrAction,\n      currentWorkingDirectoryAbsPath\n   ) => {\n      // check if we currently are in a working directory that\n      // is in our database (so its a project-butler project)\n      // if yes first check if there is npm commands to run\n      // we might consider at a later point to genericify the tool (npm, yarn, whatever)\n      // but for now npm should be okay\n\n      db.getExactProjectResultByAbsoluteDirectory(\n         currentWorkingDirectoryAbsPath\n      ).then((projectResult) => {\n         let bCommandCalled = false;\n         if (projectResult) {\n            // got a hit. is already in a project-butler directory right now\n            // lets check if there is a package json with scripts\n            const packageJson = parsePackageJson(\n               `${currentWorkingDirectoryAbsPath}/package.json`\n            );\n            const potentialNpmScriptToExecute = packageJson.getScript(\n               projectNameOrAction\n            );\n\n            if (potentialNpmScriptToExecute) {\n               bCommandCalled = true;\n               shellify(new CommandWrapper(`npm run ${projectNameOrAction}`));\n            }\n         }\n\n         if (!bCommandCalled) {\n            // didnt find any fitting command so search for project-fit\n            tryOpenProjectByAliasOrName(projectNameOrAction);\n         }\n      });\n   };\n\n   cli.command(\"cd [alias]\")\n      .description(\"Open project\")\n      .action((alias) => tryOpenProjectByAliasOrName(alias));\n\n   cli.command(\"*\")\n      .description(\"Open project or trigger action\")\n      .action((projectNameOrAction, cmd) => {\n         if (projectNameOrAction) {\n            openProjectOrCallAction(\n               projectNameOrAction,\n               path.resolve(getCWD())\n            );\n         }\n      });\n};\n","module.exports = `p () {\n    RESULT=$(project-butler \"$@\")\n\n    if [ $? -ne 0 ]; then\n        echo \"(project-butler) ERROR\"\n    else\n        case \"$RESULT\" in\n            \\\\#shell*)   eval \"$RESULT\" ;;\n            *)   echo \"$RESULT\" ;;\n        esac\n    fi\n}\n`;\n","const { StdoutToStderrProxy } = require(\"../../utils/stdoutToStderrProxy\");\n\nmodule.exports = function (cli, db, flags, next) {\n   if (flags.shellScript === true) {\n      StdoutToStderrProxy.writeToActualStdout(\n         require(\"../../assets/shellscript.string\")\n      );\n   } else {\n      next();\n   }\n};\n","/*\nThe MIT License (MIT)\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nvar styles = {};\nmodule['exports'] = styles;\n\nvar codes = {\n  reset: [0, 0],\n\n  bold: [1, 22],\n  dim: [2, 22],\n  italic: [3, 23],\n  underline: [4, 24],\n  inverse: [7, 27],\n  hidden: [8, 28],\n  strikethrough: [9, 29],\n\n  black: [30, 39],\n  red: [31, 39],\n  green: [32, 39],\n  yellow: [33, 39],\n  blue: [34, 39],\n  magenta: [35, 39],\n  cyan: [36, 39],\n  white: [37, 39],\n  gray: [90, 39],\n  grey: [90, 39],\n\n  brightRed: [91, 39],\n  brightGreen: [92, 39],\n  brightYellow: [93, 39],\n  brightBlue: [94, 39],\n  brightMagenta: [95, 39],\n  brightCyan: [96, 39],\n  brightWhite: [97, 39],\n\n  bgBlack: [40, 49],\n  bgRed: [41, 49],\n  bgGreen: [42, 49],\n  bgYellow: [43, 49],\n  bgBlue: [44, 49],\n  bgMagenta: [45, 49],\n  bgCyan: [46, 49],\n  bgWhite: [47, 49],\n  bgGray: [100, 49],\n  bgGrey: [100, 49],\n\n  bgBrightRed: [101, 49],\n  bgBrightGreen: [102, 49],\n  bgBrightYellow: [103, 49],\n  bgBrightBlue: [104, 49],\n  bgBrightMagenta: [105, 49],\n  bgBrightCyan: [106, 49],\n  bgBrightWhite: [107, 49],\n\n  // legacy styles for colors pre v1.0.0\n  blackBG: [40, 49],\n  redBG: [41, 49],\n  greenBG: [42, 49],\n  yellowBG: [43, 49],\n  blueBG: [44, 49],\n  magentaBG: [45, 49],\n  cyanBG: [46, 49],\n  whiteBG: [47, 49],\n\n};\n\nObject.keys(codes).forEach(function(key) {\n  var val = codes[key];\n  var style = styles[key] = [];\n  style.open = '\\u001b[' + val[0] + 'm';\n  style.close = '\\u001b[' + val[1] + 'm';\n});\n","/*\nMIT License\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\nof the Software, and to permit persons to whom the Software is furnished to do\nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\n'use strict';\n\nmodule.exports = function(flag, argv) {\n  argv = argv || process.argv;\n\n  var terminatorPos = argv.indexOf('--');\n  var prefix = /^-{1,2}/.test(flag) ? '' : '--';\n  var pos = argv.indexOf(prefix + flag);\n\n  return pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","/*\nThe MIT License (MIT)\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\n'use strict';\n\nvar os = require('os');\nvar hasFlag = require('./has-flag.js');\n\nvar env = process.env;\n\nvar forceColor = void 0;\nif (hasFlag('no-color') || hasFlag('no-colors') || hasFlag('color=false')) {\n  forceColor = false;\n} else if (hasFlag('color') || hasFlag('colors') || hasFlag('color=true')\n           || hasFlag('color=always')) {\n  forceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n  forceColor = env.FORCE_COLOR.length === 0\n    || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n  if (level === 0) {\n    return false;\n  }\n\n  return {\n    level: level,\n    hasBasic: true,\n    has256: level >= 2,\n    has16m: level >= 3,\n  };\n}\n\nfunction supportsColor(stream) {\n  if (forceColor === false) {\n    return 0;\n  }\n\n  if (hasFlag('color=16m') || hasFlag('color=full')\n      || hasFlag('color=truecolor')) {\n    return 3;\n  }\n\n  if (hasFlag('color=256')) {\n    return 2;\n  }\n\n  if (stream && !stream.isTTY && forceColor !== true) {\n    return 0;\n  }\n\n  var min = forceColor ? 1 : 0;\n\n  if (process.platform === 'win32') {\n    // Node.js 7.5.0 is the first version of Node.js to include a patch to\n    // libuv that enables 256 color output on Windows. Anything earlier and it\n    // won't work. However, here we target Node.js 8 at minimum as it is an LTS\n    // release, and Node.js 7 is not. Windows 10 build 10586 is the first\n    // Windows release that supports 256 colors. Windows 10 build 14931 is the\n    // first release that supports 16m/TrueColor.\n    var osRelease = os.release().split('.');\n    if (Number(process.versions.node.split('.')[0]) >= 8\n        && Number(osRelease[0]) >= 10 && Number(osRelease[2]) >= 10586) {\n      return Number(osRelease[2]) >= 14931 ? 3 : 2;\n    }\n\n    return 1;\n  }\n\n  if ('CI' in env) {\n    if (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(function(sign) {\n      return sign in env;\n    }) || env.CI_NAME === 'codeship') {\n      return 1;\n    }\n\n    return min;\n  }\n\n  if ('TEAMCITY_VERSION' in env) {\n    return (/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0\n    );\n  }\n\n  if ('TERM_PROGRAM' in env) {\n    var version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n    switch (env.TERM_PROGRAM) {\n      case 'iTerm.app':\n        return version >= 3 ? 3 : 2;\n      case 'Hyper':\n        return 3;\n      case 'Apple_Terminal':\n        return 2;\n      // No default\n    }\n  }\n\n  if (/-256(color)?$/i.test(env.TERM)) {\n    return 2;\n  }\n\n  if (/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n    return 1;\n  }\n\n  if ('COLORTERM' in env) {\n    return 1;\n  }\n\n  if (env.TERM === 'dumb') {\n    return min;\n  }\n\n  return min;\n}\n\nfunction getSupportLevel(stream) {\n  var level = supportsColor(stream);\n  return translateLevel(level);\n}\n\nmodule.exports = {\n  supportsColor: getSupportLevel,\n  stdout: getSupportLevel(process.stdout),\n  stderr: getSupportLevel(process.stderr),\n};\n","module['exports'] = function runTheTrap(text, options) {\n  var result = '';\n  text = text || 'Run the trap, drop the bass';\n  text = text.split('');\n  var trap = {\n    a: ['\\u0040', '\\u0104', '\\u023a', '\\u0245', '\\u0394', '\\u039b', '\\u0414'],\n    b: ['\\u00df', '\\u0181', '\\u0243', '\\u026e', '\\u03b2', '\\u0e3f'],\n    c: ['\\u00a9', '\\u023b', '\\u03fe'],\n    d: ['\\u00d0', '\\u018a', '\\u0500', '\\u0501', '\\u0502', '\\u0503'],\n    e: ['\\u00cb', '\\u0115', '\\u018e', '\\u0258', '\\u03a3', '\\u03be', '\\u04bc',\n      '\\u0a6c'],\n    f: ['\\u04fa'],\n    g: ['\\u0262'],\n    h: ['\\u0126', '\\u0195', '\\u04a2', '\\u04ba', '\\u04c7', '\\u050a'],\n    i: ['\\u0f0f'],\n    j: ['\\u0134'],\n    k: ['\\u0138', '\\u04a0', '\\u04c3', '\\u051e'],\n    l: ['\\u0139'],\n    m: ['\\u028d', '\\u04cd', '\\u04ce', '\\u0520', '\\u0521', '\\u0d69'],\n    n: ['\\u00d1', '\\u014b', '\\u019d', '\\u0376', '\\u03a0', '\\u048a'],\n    o: ['\\u00d8', '\\u00f5', '\\u00f8', '\\u01fe', '\\u0298', '\\u047a', '\\u05dd',\n      '\\u06dd', '\\u0e4f'],\n    p: ['\\u01f7', '\\u048e'],\n    q: ['\\u09cd'],\n    r: ['\\u00ae', '\\u01a6', '\\u0210', '\\u024c', '\\u0280', '\\u042f'],\n    s: ['\\u00a7', '\\u03de', '\\u03df', '\\u03e8'],\n    t: ['\\u0141', '\\u0166', '\\u0373'],\n    u: ['\\u01b1', '\\u054d'],\n    v: ['\\u05d8'],\n    w: ['\\u0428', '\\u0460', '\\u047c', '\\u0d70'],\n    x: ['\\u04b2', '\\u04fe', '\\u04fc', '\\u04fd'],\n    y: ['\\u00a5', '\\u04b0', '\\u04cb'],\n    z: ['\\u01b5', '\\u0240'],\n  };\n  text.forEach(function(c) {\n    c = c.toLowerCase();\n    var chars = trap[c] || [' '];\n    var rand = Math.floor(Math.random() * chars.length);\n    if (typeof trap[c] !== 'undefined') {\n      result += trap[c][rand];\n    } else {\n      result += c;\n    }\n  });\n  return result;\n};\n","// please no\nmodule['exports'] = function zalgo(text, options) {\n  text = text || '   he is here   ';\n  var soul = {\n    'up': [\n      '̍', '̎', '̄', '̅',\n      '̿', '̑', '̆', '̐',\n      '͒', '͗', '͑', '̇',\n      '̈', '̊', '͂', '̓',\n      '̈', '͊', '͋', '͌',\n      '̃', '̂', '̌', '͐',\n      '̀', '́', '̋', '̏',\n      '̒', '̓', '̔', '̽',\n      '̉', 'ͣ', 'ͤ', 'ͥ',\n      'ͦ', 'ͧ', 'ͨ', 'ͩ',\n      'ͪ', 'ͫ', 'ͬ', 'ͭ',\n      'ͮ', 'ͯ', '̾', '͛',\n      '͆', '̚',\n    ],\n    'down': [\n      '̖', '̗', '̘', '̙',\n      '̜', '̝', '̞', '̟',\n      '̠', '̤', '̥', '̦',\n      '̩', '̪', '̫', '̬',\n      '̭', '̮', '̯', '̰',\n      '̱', '̲', '̳', '̹',\n      '̺', '̻', '̼', 'ͅ',\n      '͇', '͈', '͉', '͍',\n      '͎', '͓', '͔', '͕',\n      '͖', '͙', '͚', '̣',\n    ],\n    'mid': [\n      '̕', '̛', '̀', '́',\n      '͘', '̡', '̢', '̧',\n      '̨', '̴', '̵', '̶',\n      '͜', '͝', '͞',\n      '͟', '͠', '͢', '̸',\n      '̷', '͡', ' ҉',\n    ],\n  };\n  var all = [].concat(soul.up, soul.down, soul.mid);\n\n  function randomNumber(range) {\n    var r = Math.floor(Math.random() * range);\n    return r;\n  }\n\n  function isChar(character) {\n    var bool = false;\n    all.filter(function(i) {\n      bool = (i === character);\n    });\n    return bool;\n  }\n\n\n  function heComes(text, options) {\n    var result = '';\n    var counts;\n    var l;\n    options = options || {};\n    options['up'] =\n      typeof options['up'] !== 'undefined' ? options['up'] : true;\n    options['mid'] =\n      typeof options['mid'] !== 'undefined' ? options['mid'] : true;\n    options['down'] =\n      typeof options['down'] !== 'undefined' ? options['down'] : true;\n    options['size'] =\n      typeof options['size'] !== 'undefined' ? options['size'] : 'maxi';\n    text = text.split('');\n    for (l in text) {\n      if (isChar(l)) {\n        continue;\n      }\n      result = result + text[l];\n      counts = {'up': 0, 'down': 0, 'mid': 0};\n      switch (options.size) {\n        case 'mini':\n          counts.up = randomNumber(8);\n          counts.mid = randomNumber(2);\n          counts.down = randomNumber(8);\n          break;\n        case 'maxi':\n          counts.up = randomNumber(16) + 3;\n          counts.mid = randomNumber(4) + 1;\n          counts.down = randomNumber(64) + 3;\n          break;\n        default:\n          counts.up = randomNumber(8) + 1;\n          counts.mid = randomNumber(6) / 2;\n          counts.down = randomNumber(8) + 1;\n          break;\n      }\n\n      var arr = ['up', 'mid', 'down'];\n      for (var d in arr) {\n        var index = arr[d];\n        for (var i = 0; i <= counts[index]; i++) {\n          if (options[index]) {\n            result = result + soul[index][randomNumber(soul[index].length)];\n          }\n        }\n      }\n    }\n    return result;\n  }\n  // don't summon him\n  return heComes(text, options);\n};\n\n","module['exports'] = function(colors) {\n  return function(letter, i, exploded) {\n    if (letter === ' ') return letter;\n    switch (i%3) {\n      case 0: return colors.red(letter);\n      case 1: return colors.white(letter);\n      case 2: return colors.blue(letter);\n    }\n  };\n};\n","module['exports'] = function(colors) {\n  return function(letter, i, exploded) {\n    return i % 2 === 0 ? letter : colors.inverse(letter);\n  };\n};\n","module['exports'] = function(colors) {\n  // RoY G BiV\n  var rainbowColors = ['red', 'yellow', 'green', 'blue', 'magenta'];\n  return function(letter, i, exploded) {\n    if (letter === ' ') {\n      return letter;\n    } else {\n      return colors[rainbowColors[i++ % rainbowColors.length]](letter);\n    }\n  };\n};\n\n","module['exports'] = function(colors) {\n  var available = ['underline', 'inverse', 'grey', 'yellow', 'red', 'green',\n    'blue', 'white', 'cyan', 'magenta', 'brightYellow', 'brightRed',\n    'brightGreen', 'brightBlue', 'brightWhite', 'brightCyan', 'brightMagenta'];\n  return function(letter, i, exploded) {\n    return letter === ' ' ? letter :\n      colors[\n          available[Math.round(Math.random() * (available.length - 2))]\n      ](letter);\n  };\n};\n","/*\n\nThe MIT License (MIT)\n\nOriginal Library\n  - Copyright (c) Marak Squires\n\nAdditional functionality\n - Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nvar colors = {};\nmodule['exports'] = colors;\n\ncolors.themes = {};\n\nvar util = require('util');\nvar ansiStyles = colors.styles = require('./styles');\nvar defineProps = Object.defineProperties;\nvar newLineRegex = new RegExp(/[\\r\\n]+/g);\n\ncolors.supportsColor = require('./system/supports-colors').supportsColor;\n\nif (typeof colors.enabled === 'undefined') {\n  colors.enabled = colors.supportsColor() !== false;\n}\n\ncolors.enable = function() {\n  colors.enabled = true;\n};\n\ncolors.disable = function() {\n  colors.enabled = false;\n};\n\ncolors.stripColors = colors.strip = function(str) {\n  return ('' + str).replace(/\\x1B\\[\\d+m/g, '');\n};\n\n// eslint-disable-next-line no-unused-vars\nvar stylize = colors.stylize = function stylize(str, style) {\n  if (!colors.enabled) {\n    return str+'';\n  }\n\n  var styleMap = ansiStyles[style];\n\n  // Stylize should work for non-ANSI styles, too\n  if(!styleMap && style in colors){\n    // Style maps like trap operate as functions on strings;\n    // they don't have properties like open or close.\n    return colors[style](str);\n  }\n\n  return styleMap.open + str + styleMap.close;\n};\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\nvar escapeStringRegexp = function(str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n  return str.replace(matchOperatorsRe, '\\\\$&');\n};\n\nfunction build(_styles) {\n  var builder = function builder() {\n    return applyStyle.apply(builder, arguments);\n  };\n  builder._styles = _styles;\n  // __proto__ is used because we must return a function, but there is\n  // no way to create a function with a different prototype.\n  builder.__proto__ = proto;\n  return builder;\n}\n\nvar styles = (function() {\n  var ret = {};\n  ansiStyles.grey = ansiStyles.gray;\n  Object.keys(ansiStyles).forEach(function(key) {\n    ansiStyles[key].closeRe =\n      new RegExp(escapeStringRegexp(ansiStyles[key].close), 'g');\n    ret[key] = {\n      get: function() {\n        return build(this._styles.concat(key));\n      },\n    };\n  });\n  return ret;\n})();\n\nvar proto = defineProps(function colors() {}, styles);\n\nfunction applyStyle() {\n  var args = Array.prototype.slice.call(arguments);\n\n  var str = args.map(function(arg) {\n    // Use weak equality check so we can colorize null/undefined in safe mode\n    if (arg != null && arg.constructor === String) {\n      return arg;\n    } else {\n      return util.inspect(arg);\n    }\n  }).join(' ');\n\n  if (!colors.enabled || !str) {\n    return str;\n  }\n\n  var newLinesPresent = str.indexOf('\\n') != -1;\n\n  var nestedStyles = this._styles;\n\n  var i = nestedStyles.length;\n  while (i--) {\n    var code = ansiStyles[nestedStyles[i]];\n    str = code.open + str.replace(code.closeRe, code.open) + code.close;\n    if (newLinesPresent) {\n      str = str.replace(newLineRegex, function(match) {\n        return code.close + match + code.open;\n      });\n    }\n  }\n\n  return str;\n}\n\ncolors.setTheme = function(theme) {\n  if (typeof theme === 'string') {\n    console.log('colors.setTheme now only accepts an object, not a string.  ' +\n      'If you are trying to set a theme from a file, it is now your (the ' +\n      'caller\\'s) responsibility to require the file.  The old syntax ' +\n      'looked like colors.setTheme(__dirname + ' +\n      '\\'/../themes/generic-logging.js\\'); The new syntax looks like '+\n      'colors.setTheme(require(__dirname + ' +\n      '\\'/../themes/generic-logging.js\\'));');\n    return;\n  }\n  for (var style in theme) {\n    (function(style) {\n      colors[style] = function(str) {\n        if (typeof theme[style] === 'object') {\n          var out = str;\n          for (var i in theme[style]) {\n            out = colors[theme[style][i]](out);\n          }\n          return out;\n        }\n        return colors[theme[style]](str);\n      };\n    })(style);\n  }\n};\n\nfunction init() {\n  var ret = {};\n  Object.keys(styles).forEach(function(name) {\n    ret[name] = {\n      get: function() {\n        return build([name]);\n      },\n    };\n  });\n  return ret;\n}\n\nvar sequencer = function sequencer(map, str) {\n  var exploded = str.split('');\n  exploded = exploded.map(map);\n  return exploded.join('');\n};\n\n// custom formatter methods\ncolors.trap = require('./custom/trap');\ncolors.zalgo = require('./custom/zalgo');\n\n// maps\ncolors.maps = {};\ncolors.maps.america = require('./maps/america')(colors);\ncolors.maps.zebra = require('./maps/zebra')(colors);\ncolors.maps.rainbow = require('./maps/rainbow')(colors);\ncolors.maps.random = require('./maps/random')(colors);\n\nfor (var map in colors.maps) {\n  (function(map) {\n    colors[map] = function(str) {\n      return sequencer(colors.maps[map], str);\n    };\n  })(map);\n}\n\ndefineProps(colors, init());\n","//\n// Remark: Requiring this file will use the \"safe\" colors API,\n// which will not touch String.prototype.\n//\n//   var colors = require('colors/safe');\n//   colors.red(\"foo\")\n//\n//\nvar colors = require('./lib/colors');\nmodule['exports'] = colors;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","'use strict';\n\nvar objectAssign = require('object-assign');\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","'use strict';\n\nconst isWindows = process.platform === 'win32';\nconst isLinux = process.platform === 'linux';\n\nconst windows = {\n  bullet: '•',\n  check: '√',\n  cross: '×',\n  ellipsis: '...',\n  heart: '❤',\n  info: 'i',\n  line: '─',\n  middot: '·',\n  minus: '－',\n  plus: '＋',\n  question: '?',\n  questionSmall: '﹖',\n  pointer: '>',\n  pointerSmall: '»',\n  warning: '‼'\n};\n\nconst other = {\n  ballotCross: '✘',\n  bullet: '•',\n  check: '✔',\n  cross: '✖',\n  ellipsis: '…',\n  heart: '❤',\n  info: 'ℹ',\n  line: '─',\n  middot: '·',\n  minus: '－',\n  plus: '＋',\n  question: '?',\n  questionFull: '？',\n  questionSmall: '﹖',\n  pointer: isLinux ? '▸' : '❯',\n  pointerSmall: isLinux ? '‣' : '›',\n  warning: '⚠'\n};\n\nmodule.exports = isWindows ? windows : other;\nReflect.defineProperty(module.exports, 'windows', { enumerable: false, value: windows });\nReflect.defineProperty(module.exports, 'other', { enumerable: false, value: other });\n","'use strict';\n\nconst colors = { enabled: true, visible: true, styles: {}, keys: {} };\n\nif ('FORCE_COLOR' in process.env) {\n  colors.enabled = process.env.FORCE_COLOR !== '0';\n}\n\nconst ansi = style => {\n  style.open = `\\u001b[${style.codes[0]}m`;\n  style.close = `\\u001b[${style.codes[1]}m`;\n  style.regex = new RegExp(`\\\\u001b\\\\[${style.codes[1]}m`, 'g');\n  return style;\n};\n\nconst wrap = (style, str, nl) => {\n  let { open, close, regex } = style;\n  str = open + (str.includes(close) ? str.replace(regex, close + open) : str) + close;\n  // see https://github.com/chalk/chalk/pull/92, thanks to the\n  // chalk contributors for this fix. However, we've confirmed that\n  // this issue is also present in Windows terminals\n  return nl ? str.replace(/\\r?\\n/g, `${close}$&${open}`) : str;\n};\n\nconst style = (input, stack) => {\n  if (input === '' || input == null) return '';\n  if (colors.enabled === false) return input;\n  if (colors.visible === false) return '';\n  let str = '' + input;\n  let nl = str.includes('\\n');\n  let n = stack.length;\n  while (n-- > 0) str = wrap(colors.styles[stack[n]], str, nl);\n  return str;\n};\n\nconst define = (name, codes, type) => {\n  colors.styles[name] = ansi({ name, codes });\n  let t = colors.keys[type] || (colors.keys[type] = []);\n  t.push(name);\n\n  Reflect.defineProperty(colors, name, {\n    get() {\n      let color = input => style(input, color.stack);\n      Reflect.setPrototypeOf(color, colors);\n      color.stack = this.stack ? this.stack.concat(name) : [name];\n      return color;\n    }\n  });\n};\n\ndefine('reset', [0, 0], 'modifier');\ndefine('bold', [1, 22], 'modifier');\ndefine('dim', [2, 22], 'modifier');\ndefine('italic', [3, 23], 'modifier');\ndefine('underline', [4, 24], 'modifier');\ndefine('inverse', [7, 27], 'modifier');\ndefine('hidden', [8, 28], 'modifier');\ndefine('strikethrough', [9, 29], 'modifier');\n\ndefine('black', [30, 39], 'color');\ndefine('red', [31, 39], 'color');\ndefine('green', [32, 39], 'color');\ndefine('yellow', [33, 39], 'color');\ndefine('blue', [34, 39], 'color');\ndefine('magenta', [35, 39], 'color');\ndefine('cyan', [36, 39], 'color');\ndefine('white', [37, 39], 'color');\ndefine('gray', [90, 39], 'color');\ndefine('grey', [90, 39], 'color');\n\ndefine('bgBlack', [40, 49], 'bg');\ndefine('bgRed', [41, 49], 'bg');\ndefine('bgGreen', [42, 49], 'bg');\ndefine('bgYellow', [43, 49], 'bg');\ndefine('bgBlue', [44, 49], 'bg');\ndefine('bgMagenta', [45, 49], 'bg');\ndefine('bgCyan', [46, 49], 'bg');\ndefine('bgWhite', [47, 49], 'bg');\n\ndefine('blackBright', [90, 39], 'bright');\ndefine('redBright', [91, 39], 'bright');\ndefine('greenBright', [92, 39], 'bright');\ndefine('yellowBright', [93, 39], 'bright');\ndefine('blueBright', [94, 39], 'bright');\ndefine('magentaBright', [95, 39], 'bright');\ndefine('cyanBright', [96, 39], 'bright');\ndefine('whiteBright', [97, 39], 'bright');\n\ndefine('bgBlackBright', [100, 49], 'bgBright');\ndefine('bgRedBright', [101, 49], 'bgBright');\ndefine('bgGreenBright', [102, 49], 'bgBright');\ndefine('bgYellowBright', [103, 49], 'bgBright');\ndefine('bgBlueBright', [104, 49], 'bgBright');\ndefine('bgMagentaBright', [105, 49], 'bgBright');\ndefine('bgCyanBright', [106, 49], 'bgBright');\ndefine('bgWhiteBright', [107, 49], 'bgBright');\n\n/* eslint-disable no-control-regex */\n// this is a modified, optimized version of\n// https://github.com/chalk/ansi-regex (MIT License)\nconst re = colors.ansiRegex = /[\\u001b\\u009b][[\\]#;?()]*(?:(?:(?:[^\\W_]*;?[^\\W_]*)\\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g;\n\ncolors.hasColor = colors.hasAnsi = str => {\n  re.lastIndex = 0;\n  return !!str && typeof str === 'string' && re.test(str);\n};\n\ncolors.unstyle = str => {\n  re.lastIndex = 0;\n  return typeof str === 'string' ? str.replace(re, '') : str;\n};\n\ncolors.none = colors.clear = colors.noop = str => str; // no-op, for programmatic usage\ncolors.stripColor = colors.unstyle;\ncolors.symbols = require('./symbols');\ncolors.define = define;\nmodule.exports = colors;\n","'use strict';\n\nconst toString = Object.prototype.toString;\nconst colors = require('ansi-colors');\nlet called = false;\nlet fns = [];\n\nconst complements = {\n  'yellow': 'blue',\n  'cyan': 'red',\n  'green': 'magenta',\n  'black': 'white',\n  'blue': 'yellow',\n  'red': 'cyan',\n  'magenta': 'green',\n  'white': 'black'\n};\n\nexports.longest = (arr, prop) => {\n  return arr.reduce((a, v) => Math.max(a, prop ? v[prop].length : v.length), 0);\n};\n\nexports.hasColor = str => !!str && colors.hasColor(str);\n\nconst isObject = exports.isObject = val => {\n  return val !== null && typeof val === 'object' && !Array.isArray(val);\n};\n\nexports.nativeType = val => {\n  return toString.call(val).slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nexports.isAsyncFn = val => {\n  return exports.nativeType(val) === 'asyncfunction';\n};\n\nexports.isPrimitive = val => {\n  return val != null && typeof val !== 'object' && typeof val !== 'function';\n};\n\nexports.resolve = (context, value, ...rest) => {\n  if (typeof value === 'function') {\n    return value.call(context, ...rest);\n  }\n  return value;\n};\n\nexports.scrollDown = (choices = []) => [...choices.slice(1), choices[0]];\nexports.scrollUp = (choices = []) => [choices.pop(), ...choices];\n\nexports.reorder = (arr = []) => {\n  let res = arr.slice();\n  res.sort((a, b) => {\n    if (a.index > b.index) return 1;\n    if (a.index < b.index) return -1;\n    return 0;\n  });\n  return res;\n};\n\nexports.swap = (arr, index, pos) => {\n  let len = arr.length;\n  let idx = pos === len ? 0 : pos < 0 ? len - 1 : pos;\n  let choice = arr[index];\n  arr[index] = arr[idx];\n  arr[idx] = choice;\n};\n\nexports.width = (stream, fallback = 80) => {\n  let columns = (stream && stream.columns) ? stream.columns : fallback;\n  if (stream && typeof stream.getWindowSize === 'function') {\n    columns = stream.getWindowSize()[0];\n  }\n  if (process.platform === 'win32') {\n    return columns - 1;\n  }\n  return columns;\n};\n\nexports.height = (stream, fallback = 20) => {\n  let rows = (stream && stream.rows) ? stream.rows : fallback;\n  if (stream && typeof stream.getWindowSize === 'function') {\n    rows = stream.getWindowSize()[1];\n  }\n  return rows;\n};\n\nexports.wordWrap = (str, options = {}) => {\n  if (!str) return str;\n\n  if (typeof options === 'number') {\n    options = { width: options };\n  }\n\n  let { indent = '', newline = ('\\n' + indent), width = 80 } = options;\n  let spaces = (newline + indent).match(/[^\\S\\n]/g) || [];\n  width -= spaces.length;\n  let source = `.{1,${width}}([\\\\s\\\\u200B]+|$)|[^\\\\s\\\\u200B]+?([\\\\s\\\\u200B]+|$)`;\n  let output = str.trim();\n  let regex = new RegExp(source, 'g');\n  let lines = output.match(regex) || [];\n  lines = lines.map(line => line.replace(/\\n$/, ''));\n  if (options.padEnd) lines = lines.map(line => line.padEnd(width, ' '));\n  if (options.padStart) lines = lines.map(line => line.padStart(width, ' '));\n  return indent + lines.join(newline);\n};\n\nexports.unmute = color => {\n  let name = color.stack.find(n => colors.keys.color.includes(n));\n  if (name) {\n    return colors[name];\n  }\n  let bg = color.stack.find(n => n.slice(2) === 'bg');\n  if (bg) {\n    return colors[name.slice(2)];\n  }\n  return str => str;\n};\n\nexports.pascal = str => str ? str[0].toUpperCase() + str.slice(1) : '';\n\nexports.inverse = color => {\n  if (!color || !color.stack) return color;\n  let name = color.stack.find(n => colors.keys.color.includes(n));\n  if (name) {\n    let col = colors['bg' + exports.pascal(name)];\n    return col ? col.black : color;\n  }\n  let bg = color.stack.find(n => n.slice(0, 2) === 'bg');\n  if (bg) {\n    return colors[bg.slice(2).toLowerCase()] || color;\n  }\n  return colors.none;\n};\n\nexports.complement = color => {\n  if (!color || !color.stack) return color;\n  let name = color.stack.find(n => colors.keys.color.includes(n));\n  let bg = color.stack.find(n => n.slice(0, 2) === 'bg');\n  if (name && !bg) {\n    return colors[complements[name] || name];\n  }\n  if (bg) {\n    let lower = bg.slice(2).toLowerCase();\n    let comp = complements[lower];\n    if (!comp) return color;\n    return colors['bg' + exports.pascal(comp)] || color;\n  }\n  return colors.none;\n};\n\nexports.meridiem = date => {\n  let hours = date.getHours();\n  let minutes = date.getMinutes();\n  let ampm = hours >= 12 ? 'pm' : 'am';\n  hours = hours % 12;\n  let hrs = hours === 0 ? 12 : hours;\n  let min = minutes < 10 ? '0' + minutes : minutes;\n  return hrs + ':' + min + ' ' + ampm;\n};\n\n/**\n * Set a value on the given object.\n * @param {Object} obj\n * @param {String} prop\n * @param {any} value\n */\n\nexports.set = (obj = {}, prop = '', val) => {\n  return prop.split('.').reduce((acc, k, i, arr) => {\n    let value = arr.length - 1 > i ? (acc[k] || {}) : val;\n    if (!exports.isObject(value) && i < arr.length - 1) value = {};\n    return (acc[k] = value);\n  }, obj);\n};\n\n/**\n * Get a value from the given object.\n * @param {Object} obj\n * @param {String} prop\n */\n\nexports.get = (obj = {}, prop = '', fallback) => {\n  let value = obj[prop] == null\n    ? prop.split('.').reduce((acc, k) => acc && acc[k], obj)\n    : obj[prop];\n  return value == null ? fallback : value;\n};\n\nexports.mixin = (target, b) => {\n  if (!isObject(target)) return b;\n  if (!isObject(b)) return target;\n  for (let key of Object.keys(b)) {\n    let desc = Object.getOwnPropertyDescriptor(b, key);\n    if (desc.hasOwnProperty('value')) {\n      if (target.hasOwnProperty(key) && isObject(desc.value)) {\n        let existing = Object.getOwnPropertyDescriptor(target, key);\n        if (isObject(existing.value)) {\n          target[key] = exports.merge({}, target[key], b[key]);\n        } else {\n          Reflect.defineProperty(target, key, desc);\n        }\n      } else {\n        Reflect.defineProperty(target, key, desc);\n      }\n    } else {\n      Reflect.defineProperty(target, key, desc);\n    }\n  }\n  return target;\n};\n\nexports.merge = (...args) => {\n  let target = {};\n  for (let ele of args) exports.mixin(target, ele);\n  return target;\n};\n\nexports.mixinEmitter = (obj, emitter) => {\n  let proto = emitter.constructor.prototype;\n  for (let key of Object.keys(proto)) {\n    let val = proto[key];\n    if (typeof val === 'function') {\n      exports.define(obj, key, val.bind(emitter));\n    } else {\n      exports.define(obj, key, val);\n    }\n  }\n};\n\nexports.onExit = callback => {\n  const onExit = (quit, code) => {\n    if (called) return;\n\n    called = true;\n    fns.forEach(fn => fn());\n\n    if (quit === true) {\n      process.exit(128 + code);\n    }\n  };\n\n  if (fns.length === 0) {\n    process.once('SIGTERM', onExit.bind(null, true, 15));\n    process.once('SIGINT', onExit.bind(null, true, 2));\n    process.once('exit', onExit);\n  }\n\n  fns.push(callback);\n};\n\nexports.define = (obj, key, value) => {\n  Reflect.defineProperty(obj, key, { value });\n};\n\nexports.defineExport = (obj, key, fn) => {\n  let custom;\n  Reflect.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    set(val) {\n      custom = val;\n    },\n    get() {\n      return custom ? custom() : fn();\n    }\n  });\n};\n","'use strict';\n\n/**\n * Actions are mappings from keypress event names to method names\n * in the prompts.\n */\n\nexports.ctrl = {\n  a: 'first',\n  b: 'backward',\n  c: 'cancel',\n  d: 'deleteForward',\n  e: 'last',\n  f: 'forward',\n  g: 'reset',\n  i: 'tab',\n  k: 'cutForward',\n  l: 'reset',\n  n: 'newItem',\n  m: 'cancel',\n  j: 'submit',\n  p: 'search',\n  r: 'remove',\n  s: 'save',\n  u: 'undo',\n  w: 'cutLeft',\n  x: 'toggleCursor',\n  v: 'paste'\n};\n\nexports.shift = {\n  up: 'shiftUp',\n  down: 'shiftDown',\n  left: 'shiftLeft',\n  right: 'shiftRight',\n  tab: 'prev'\n};\n\nexports.fn = {\n  up: 'pageUp',\n  down: 'pageDown',\n  left: 'pageLeft',\n  right: 'pageRight',\n  delete: 'deleteForward'\n};\n\n// <alt> on Windows\nexports.option = {\n  b: 'backward',\n  f: 'forward',\n  d: 'cutRight',\n  left: 'cutLeft',\n  up: 'altUp',\n  down: 'altDown'\n};\n\nexports.keys = {\n  pageup: 'pageUp', // <fn>+<up> (mac), <Page Up> (windows)\n  pagedown: 'pageDown', // <fn>+<down> (mac), <Page Down> (windows)\n  home: 'home', // <fn>+<left> (mac), <home> (windows)\n  end: 'end', // <fn>+<right> (mac), <end> (windows)\n  cancel: 'cancel',\n  delete: 'deleteForward',\n  backspace: 'delete',\n  down: 'down',\n  enter: 'submit',\n  escape: 'cancel',\n  left: 'left',\n  space: 'space',\n  number: 'number',\n  return: 'submit',\n  right: 'right',\n  tab: 'next',\n  up: 'up'\n};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict';\n\nconst readline = require('readline');\nconst combos = require('./combos');\n\n/* eslint-disable no-control-regex */\nconst metaKeyCodeRe = /^(?:\\x1b)([a-zA-Z0-9])$/;\nconst fnKeyRe = /^(?:\\x1b+)(O|N|\\[|\\[\\[)(?:(\\d+)(?:;(\\d+))?([~^$])|(?:1;)?(\\d+)?([a-zA-Z]))/;\nconst keyName = {\n    /* xterm/gnome ESC O letter */\n    'OP': 'f1',\n    'OQ': 'f2',\n    'OR': 'f3',\n    'OS': 'f4',\n    /* xterm/rxvt ESC [ number ~ */\n    '[11~': 'f1',\n    '[12~': 'f2',\n    '[13~': 'f3',\n    '[14~': 'f4',\n    /* from Cygwin and used in libuv */\n    '[[A': 'f1',\n    '[[B': 'f2',\n    '[[C': 'f3',\n    '[[D': 'f4',\n    '[[E': 'f5',\n    /* common */\n    '[15~': 'f5',\n    '[17~': 'f6',\n    '[18~': 'f7',\n    '[19~': 'f8',\n    '[20~': 'f9',\n    '[21~': 'f10',\n    '[23~': 'f11',\n    '[24~': 'f12',\n    /* xterm ESC [ letter */\n    '[A': 'up',\n    '[B': 'down',\n    '[C': 'right',\n    '[D': 'left',\n    '[E': 'clear',\n    '[F': 'end',\n    '[H': 'home',\n    /* xterm/gnome ESC O letter */\n    'OA': 'up',\n    'OB': 'down',\n    'OC': 'right',\n    'OD': 'left',\n    'OE': 'clear',\n    'OF': 'end',\n    'OH': 'home',\n    /* xterm/rxvt ESC [ number ~ */\n    '[1~': 'home',\n    '[2~': 'insert',\n    '[3~': 'delete',\n    '[4~': 'end',\n    '[5~': 'pageup',\n    '[6~': 'pagedown',\n    /* putty */\n    '[[5~': 'pageup',\n    '[[6~': 'pagedown',\n    /* rxvt */\n    '[7~': 'home',\n    '[8~': 'end',\n    /* rxvt keys with modifiers */\n    '[a': 'up',\n    '[b': 'down',\n    '[c': 'right',\n    '[d': 'left',\n    '[e': 'clear',\n\n    '[2$': 'insert',\n    '[3$': 'delete',\n    '[5$': 'pageup',\n    '[6$': 'pagedown',\n    '[7$': 'home',\n    '[8$': 'end',\n\n    'Oa': 'up',\n    'Ob': 'down',\n    'Oc': 'right',\n    'Od': 'left',\n    'Oe': 'clear',\n\n    '[2^': 'insert',\n    '[3^': 'delete',\n    '[5^': 'pageup',\n    '[6^': 'pagedown',\n    '[7^': 'home',\n    '[8^': 'end',\n    /* misc. */\n    '[Z': 'tab',\n}\n\nfunction isShiftKey(code) {\n    return ['[a', '[b', '[c', '[d', '[e', '[2$', '[3$', '[5$', '[6$', '[7$', '[8$', '[Z'].includes(code)\n}\n\nfunction isCtrlKey(code) {\n    return [ 'Oa', 'Ob', 'Oc', 'Od', 'Oe', '[2^', '[3^', '[5^', '[6^', '[7^', '[8^'].includes(code)\n}\n\nconst keypress = (s = '', event = {}) => {\n  let parts;\n  let key = {\n    name: event.name,\n    ctrl: false,\n    meta: false,\n    shift: false,\n    option: false,\n    sequence: s,\n    raw: s,\n    ...event\n  };\n\n  if (Buffer.isBuffer(s)) {\n    if (s[0] > 127 && s[1] === void 0) {\n      s[0] -= 128;\n      s = '\\x1b' + String(s);\n    } else {\n      s = String(s);\n    }\n  } else if (s !== void 0 && typeof s !== 'string') {\n    s = String(s);\n  } else if (!s) {\n    s = key.sequence || '';\n  }\n\n  key.sequence = key.sequence || s || key.name;\n\n  if (s === '\\r') {\n    // carriage return\n    key.raw = void 0;\n    key.name = 'return';\n  } else if (s === '\\n') {\n    // enter, should have been called linefeed\n    key.name = 'enter';\n  } else if (s === '\\t') {\n    // tab\n    key.name = 'tab';\n  } else if (s === '\\b' || s === '\\x7f' || s === '\\x1b\\x7f' || s === '\\x1b\\b') {\n    // backspace or ctrl+h\n    key.name = 'backspace';\n    key.meta = s.charAt(0) === '\\x1b';\n  } else if (s === '\\x1b' || s === '\\x1b\\x1b') {\n    // escape key\n    key.name = 'escape';\n    key.meta = s.length === 2;\n  } else if (s === ' ' || s === '\\x1b ') {\n    key.name = 'space';\n    key.meta = s.length === 2;\n  } else if (s <= '\\x1a') {\n    // ctrl+letter\n    key.name = String.fromCharCode(s.charCodeAt(0) + 'a'.charCodeAt(0) - 1);\n    key.ctrl = true;\n  } else if (s.length === 1 && s >= '0' && s <= '9') {\n    // number\n    key.name = 'number';\n  } else if (s.length === 1 && s >= 'a' && s <= 'z') {\n    // lowercase letter\n    key.name = s;\n  } else if (s.length === 1 && s >= 'A' && s <= 'Z') {\n    // shift+letter\n    key.name = s.toLowerCase();\n    key.shift = true;\n  } else if ((parts = metaKeyCodeRe.exec(s))) {\n    // meta+character key\n    key.meta = true;\n    key.shift = /^[A-Z]$/.test(parts[1]);\n  } else if ((parts = fnKeyRe.exec(s))) {\n    let segs = [...s];\n\n    if (segs[0] === '\\u001b' && segs[1] === '\\u001b') {\n      key.option = true;\n    }\n\n    // ansi escape sequence\n    // reassemble the key code leaving out leading \\x1b's,\n    // the modifier key bitflag and any meaningless \"1;\" sequence\n    let code = [parts[1], parts[2], parts[4], parts[6]].filter(Boolean).join('');\n    let modifier = (parts[3] || parts[5] || 1) - 1;\n\n    // Parse the key modifier\n    key.ctrl = !!(modifier & 4);\n    key.meta = !!(modifier & 10);\n    key.shift = !!(modifier & 1);\n    key.code = code;\n\n    key.name = keyName[code];\n    key.shift = isShiftKey(code) || key.shift;\n    key.ctrl = isCtrlKey(code) || key.ctrl;\n  }\n  return key;\n};\n\nkeypress.listen = (options = {}, onKeypress) => {\n  let { stdin } = options;\n\n  if (!stdin || (stdin !== process.stdin && !stdin.isTTY)) {\n    throw new Error('Invalid stream passed');\n  }\n\n  let rl = readline.createInterface({ terminal: true, input: stdin });\n  readline.emitKeypressEvents(stdin, rl);\n\n  let on = (buf, key) => onKeypress(buf, keypress(buf, key), rl);\n  let isRaw = stdin.isRaw;\n\n  if (stdin.isTTY) stdin.setRawMode(true);\n  stdin.on('keypress', on);\n  rl.resume();\n\n  let off = () => {\n    if (stdin.isTTY) stdin.setRawMode(isRaw);\n    stdin.removeListener('keypress', on);\n    rl.pause();\n    rl.close();\n  };\n\n  return off;\n};\n\nkeypress.action = (buf, key, customActions) => {\n  let obj = { ...combos, ...customActions };\n  if (key.ctrl) {\n    key.action = obj.ctrl[key.name];\n    return key;\n  }\n\n  if (key.option && obj.option) {\n    key.action = obj.option[key.name];\n    return key;\n  }\n\n  if (key.shift) {\n    key.action = obj.shift[key.name];\n    return key;\n  }\n\n  key.action = obj.keys[key.name];\n  return key;\n};\n\nmodule.exports = keypress;\n","'use strict';\n\nmodule.exports = prompt => {\n  prompt.timers = prompt.timers || {};\n\n  let timers = prompt.options.timers;\n  if (!timers) return;\n\n  for (let key of Object.keys(timers)) {\n    let opts = timers[key];\n    if (typeof opts === 'number') {\n      opts = { interval: opts };\n    }\n    create(prompt, key, opts);\n  }\n};\n\nfunction create(prompt, name, options = {}) {\n  let timer = prompt.timers[name] = { name, start: Date.now(), ms: 0, tick: 0 };\n  let ms = options.interval || 120;\n  timer.frames = options.frames || [];\n  timer.loading = true;\n\n  let interval = setInterval(() => {\n    timer.ms = Date.now() - timer.start;\n    timer.tick++;\n    prompt.render();\n  }, ms);\n\n  timer.stop = () => {\n    timer.loading = false;\n    clearInterval(interval);\n  };\n\n  Reflect.defineProperty(timer, 'interval', { value: interval });\n  prompt.once('close', () => timer.stop());\n  return timer.stop;\n}\n","'use strict';\n\nconst { define, width } = require('./utils');\n\nclass State {\n  constructor(prompt) {\n    let options = prompt.options;\n    define(this, '_prompt', prompt);\n    this.type = prompt.type;\n    this.name = prompt.name;\n    this.message = '';\n    this.header = '';\n    this.footer = '';\n    this.error = '';\n    this.hint = '';\n    this.input = '';\n    this.cursor = 0;\n    this.index = 0;\n    this.lines = 0;\n    this.tick = 0;\n    this.prompt = '';\n    this.buffer = '';\n    this.width = width(options.stdout || process.stdout);\n    Object.assign(this, options);\n    this.name = this.name || this.message;\n    this.message = this.message || this.name;\n    this.symbols = prompt.symbols;\n    this.styles = prompt.styles;\n    this.required = new Set();\n    this.cancelled = false;\n    this.submitted = false;\n  }\n\n  clone() {\n    let state = { ...this };\n    state.status = this.status;\n    state.buffer = Buffer.from(state.buffer);\n    delete state.clone;\n    return state;\n  }\n\n  set color(val) {\n    this._color = val;\n  }\n  get color() {\n    let styles = this.prompt.styles;\n    if (this.cancelled) return styles.cancelled;\n    if (this.submitted) return styles.submitted;\n    let color = this._color || styles[this.status];\n    return typeof color === 'function' ? color : styles.pending;\n  }\n\n  set loading(value) {\n    this._loading = value;\n  }\n  get loading() {\n    if (typeof this._loading === 'boolean') return this._loading;\n    if (this.loadingChoices) return 'choices';\n    return false;\n  }\n\n  get status() {\n    if (this.cancelled) return 'cancelled';\n    if (this.submitted) return 'submitted';\n    return 'pending';\n  }\n}\n\nmodule.exports = State;\n","'use strict';\n\nconst utils = require('./utils');\nconst colors = require('ansi-colors');\n\nconst styles = {\n  default: colors.noop,\n  noop: colors.noop,\n\n  /**\n   * Modifiers\n   */\n\n  set inverse(custom) {\n    this._inverse = custom;\n  },\n  get inverse() {\n    return this._inverse || utils.inverse(this.primary);\n  },\n\n  set complement(custom) {\n    this._complement = custom;\n  },\n  get complement() {\n    return this._complement || utils.complement(this.primary);\n  },\n\n  /**\n   * Main color\n   */\n\n  primary: colors.cyan,\n\n  /**\n   * Main palette\n   */\n\n  success: colors.green,\n  danger: colors.magenta,\n  strong: colors.bold,\n  warning: colors.yellow,\n  muted: colors.dim,\n  disabled: colors.gray,\n  dark: colors.dim.gray,\n  underline: colors.underline,\n\n  set info(custom) {\n    this._info = custom;\n  },\n  get info() {\n    return this._info || this.primary;\n  },\n\n  set em(custom) {\n    this._em = custom;\n  },\n  get em() {\n    return this._em || this.primary.underline;\n  },\n\n  set heading(custom) {\n    this._heading = custom;\n  },\n  get heading() {\n    return this._heading || this.muted.underline;\n  },\n\n  /**\n   * Statuses\n   */\n\n  set pending(custom) {\n    this._pending = custom;\n  },\n  get pending() {\n    return this._pending || this.primary;\n  },\n\n  set submitted(custom) {\n    this._submitted = custom;\n  },\n  get submitted() {\n    return this._submitted || this.success;\n  },\n\n  set cancelled(custom) {\n    this._cancelled = custom;\n  },\n  get cancelled() {\n    return this._cancelled || this.danger;\n  },\n\n  /**\n   * Special styling\n   */\n\n  set typing(custom) {\n    this._typing = custom;\n  },\n  get typing() {\n    return this._typing || this.dim;\n  },\n\n  set placeholder(custom) {\n    this._placeholder = custom;\n  },\n  get placeholder() {\n    return this._placeholder || this.primary.dim;\n  },\n\n  set highlight(custom) {\n    this._highlight = custom;\n  },\n  get highlight() {\n    return this._highlight || this.inverse;\n  }\n};\n\nstyles.merge = (options = {}) => {\n  if (options.styles && typeof options.styles.enabled === 'boolean') {\n    colors.enabled = options.styles.enabled;\n  }\n  if (options.styles && typeof options.styles.visible === 'boolean') {\n    colors.visible = options.styles.visible;\n  }\n\n  let result = utils.merge({}, styles, options.styles);\n  delete result.merge;\n\n  for (let key of Object.keys(colors)) {\n    if (!result.hasOwnProperty(key)) {\n      Reflect.defineProperty(result, key, { get: () => colors[key] });\n    }\n  }\n\n  for (let key of Object.keys(colors.styles)) {\n    if (!result.hasOwnProperty(key)) {\n      Reflect.defineProperty(result, key, { get: () => colors[key] });\n    }\n  }\n  return result;\n};\n\nmodule.exports = styles;\n","'use strict';\n\nconst isWindows = process.platform === 'win32';\nconst colors = require('ansi-colors');\nconst utils = require('./utils');\n\nconst symbols = {\n  ...colors.symbols,\n  upDownDoubleArrow: '⇕',\n  upDownDoubleArrow2: '⬍',\n  upDownArrow: '↕',\n  asterisk: '*',\n  asterism: '⁂',\n  bulletWhite: '◦',\n  electricArrow: '⌁',\n  ellipsisLarge: '⋯',\n  ellipsisSmall: '…',\n  fullBlock: '█',\n  identicalTo: '≡',\n  indicator: colors.symbols.check,\n  leftAngle: '‹',\n  mark: '※',\n  minus: '−',\n  multiplication: '×',\n  obelus: '÷',\n  percent: '%',\n  pilcrow: '¶',\n  pilcrow2: '❡',\n  pencilUpRight: '✐',\n  pencilDownRight: '✎',\n  pencilRight: '✏',\n  plus: '+',\n  plusMinus: '±',\n  pointRight: '☞',\n  rightAngle: '›',\n  section: '§',\n  hexagon: { off: '⬡', on: '⬢', disabled: '⬢' },\n  ballot: { on: '☑', off: '☐', disabled: '☒' },\n  stars: { on: '★', off: '☆', disabled: '☆' },\n  folder: { on: '▼', off: '▶', disabled: '▶' },\n  prefix: {\n    pending: colors.symbols.question,\n    submitted: colors.symbols.check,\n    cancelled: colors.symbols.cross\n  },\n  separator: {\n    pending: colors.symbols.pointerSmall,\n    submitted: colors.symbols.middot,\n    cancelled: colors.symbols.middot\n  },\n  radio: {\n    off: isWindows ? '( )' : '◯',\n    on: isWindows ? '(*)' : '◉',\n    disabled: isWindows ? '(|)' : 'Ⓘ'\n  },\n  numbers: ['⓪', '①', '②', '③', '④', '⑤', '⑥', '⑦', '⑧', '⑨', '⑩', '⑪', '⑫', '⑬', '⑭', '⑮', '⑯', '⑰', '⑱', '⑲', '⑳', '㉑', '㉒', '㉓', '㉔', '㉕', '㉖', '㉗', '㉘', '㉙', '㉚', '㉛', '㉜', '㉝', '㉞', '㉟', '㊱', '㊲', '㊳', '㊴', '㊵', '㊶', '㊷', '㊸', '㊹', '㊺', '㊻', '㊼', '㊽', '㊾', '㊿']\n};\n\nsymbols.merge = options => {\n  let result = utils.merge({}, colors.symbols, symbols, options.symbols);\n  delete result.merge;\n  return result;\n};\n\nmodule.exports = symbols;\n\n","'use strict';\n\nconst styles = require('./styles');\nconst symbols = require('./symbols');\nconst utils = require('./utils');\n\nmodule.exports = prompt => {\n  prompt.options = utils.merge({}, prompt.options.theme, prompt.options);\n  prompt.symbols = symbols.merge(prompt.options);\n  prompt.styles = styles.merge(prompt.options);\n};\n","'use strict';\n\nconst isTerm = process.env.TERM_PROGRAM === 'Apple_Terminal';\nconst colors = require('ansi-colors');\nconst utils = require('./utils');\nconst ansi = module.exports = exports;\nconst ESC = '\\u001b[';\nconst BEL = '\\u0007';\nlet hidden = false;\n\nconst code = ansi.code = {\n  bell: BEL,\n  beep: BEL,\n  beginning: `${ESC}G`,\n  down: `${ESC}J`,\n  esc: ESC,\n  getPosition: `${ESC}6n`,\n  hide: `${ESC}?25l`,\n  line: `${ESC}2K`,\n  lineEnd: `${ESC}K`,\n  lineStart: `${ESC}1K`,\n  restorePosition: ESC + (isTerm ? '8' : 'u'),\n  savePosition: ESC + (isTerm ? '7' : 's'),\n  screen: `${ESC}2J`,\n  show: `${ESC}?25h`,\n  up: `${ESC}1J`\n};\n\nconst cursor = ansi.cursor = {\n  get hidden() {\n    return hidden;\n  },\n\n  hide() {\n    hidden = true;\n    return code.hide;\n  },\n  show() {\n    hidden = false;\n    return code.show;\n  },\n\n  forward: (count = 1) => `${ESC}${count}C`,\n  backward: (count = 1) => `${ESC}${count}D`,\n  nextLine: (count = 1) => `${ESC}E`.repeat(count),\n  prevLine: (count = 1) => `${ESC}F`.repeat(count),\n\n  up: (count = 1) => count ? `${ESC}${count}A` : '',\n  down: (count = 1) => count ? `${ESC}${count}B` : '',\n  right: (count = 1) => count ? `${ESC}${count}C` : '',\n  left: (count = 1) => count ? `${ESC}${count}D` : '',\n\n  to(x, y) {\n    return y ? `${ESC}${y + 1};${x + 1}H` : `${ESC}${x + 1}G`;\n  },\n\n  move(x = 0, y = 0) {\n    let res = '';\n    res += (x < 0) ? cursor.left(-x) : (x > 0) ? cursor.right(x) : '';\n    res += (y < 0) ? cursor.up(-y) : (y > 0) ? cursor.down(y) : '';\n    return res;\n  },\n\n  restore(state = {}) {\n    let { after, cursor, initial, input, prompt, size, value } = state;\n    initial = utils.isPrimitive(initial) ? String(initial) : '';\n    input = utils.isPrimitive(input) ? String(input) : '';\n    value = utils.isPrimitive(value) ? String(value) : '';\n\n    if (size) {\n      let codes = ansi.cursor.up(size) + ansi.cursor.to(prompt.length);\n      let diff = input.length - cursor;\n      if (diff > 0) {\n        codes += ansi.cursor.left(diff);\n      }\n      return codes;\n    }\n\n    if (value || after) {\n      let pos = (!input && !!initial) ? -initial.length : -input.length + cursor;\n      if (after) pos -= after.length;\n      if (input === '' && initial && !prompt.includes(initial)) {\n        pos += initial.length;\n      }\n      return ansi.cursor.move(pos);\n    }\n  }\n};\n\nconst erase = ansi.erase = {\n  screen: code.screen,\n  up: code.up,\n  down: code.down,\n  line: code.line,\n  lineEnd: code.lineEnd,\n  lineStart: code.lineStart,\n  lines(n) {\n    let str = '';\n    for (let i = 0; i < n; i++) {\n      str += ansi.erase.line + (i < n - 1 ? ansi.cursor.up(1) : '');\n    }\n    if (n) str += ansi.code.beginning;\n    return str;\n  }\n};\n\nansi.clear = (input = '', columns = process.stdout.columns) => {\n  if (!columns) return erase.line + cursor.to(0);\n  let width = str => [...colors.unstyle(str)].length;\n  let lines = input.split(/\\r?\\n/);\n  let rows = 0;\n  for (let line of lines) {\n    rows += 1 + Math.floor(Math.max(width(line) - 1, 0) / columns);\n  }\n  return (erase.line + cursor.prevLine()).repeat(rows - 1) + erase.line + cursor.to(0);\n};\n","'use strict';\n\nconst Events = require('events');\nconst colors = require('ansi-colors');\nconst keypress = require('./keypress');\nconst timer = require('./timer');\nconst State = require('./state');\nconst theme = require('./theme');\nconst utils = require('./utils');\nconst ansi = require('./ansi');\n\n/**\n * Base class for creating a new Prompt.\n * @param {Object} `options` Question object.\n */\n\nclass Prompt extends Events {\n  constructor(options = {}) {\n    super();\n    this.name = options.name;\n    this.type = options.type;\n    this.options = options;\n    theme(this);\n    timer(this);\n    this.state = new State(this);\n    this.initial = [options.initial, options.default].find(v => v != null);\n    this.stdout = options.stdout || process.stdout;\n    this.stdin = options.stdin || process.stdin;\n    this.scale = options.scale || 1;\n    this.term = this.options.term || process.env.TERM_PROGRAM;\n    this.margin = margin(this.options.margin);\n    this.setMaxListeners(0);\n    setOptions(this);\n  }\n\n  async keypress(input, event = {}) {\n    this.keypressed = true;\n    let key = keypress.action(input, keypress(input, event), this.options.actions);\n    this.state.keypress = key;\n    this.emit('keypress', input, key);\n    this.emit('state', this.state.clone());\n    let fn = this.options[key.action] || this[key.action] || this.dispatch;\n    if (typeof fn === 'function') {\n      return await fn.call(this, input, key);\n    }\n    this.alert();\n  }\n\n  alert() {\n    delete this.state.alert;\n    if (this.options.show === false) {\n      this.emit('alert');\n    } else {\n      this.stdout.write(ansi.code.beep);\n    }\n  }\n\n  cursorHide() {\n    this.stdout.write(ansi.cursor.hide());\n    utils.onExit(() => this.cursorShow());\n  }\n\n  cursorShow() {\n    this.stdout.write(ansi.cursor.show());\n  }\n\n  write(str) {\n    if (!str) return;\n    if (this.stdout && this.state.show !== false) {\n      this.stdout.write(str);\n    }\n    this.state.buffer += str;\n  }\n\n  clear(lines = 0) {\n    let buffer = this.state.buffer;\n    this.state.buffer = '';\n    if ((!buffer && !lines) || this.options.show === false) return;\n    this.stdout.write(ansi.cursor.down(lines) + ansi.clear(buffer, this.width));\n  }\n\n  restore() {\n    if (this.state.closed || this.options.show === false) return;\n\n    let { prompt, after, rest } = this.sections();\n    let { cursor, initial = '', input = '', value = '' } = this;\n\n    let size = this.state.size = rest.length;\n    let state = { after, cursor, initial, input, prompt, size, value };\n    let codes = ansi.cursor.restore(state);\n    if (codes) {\n      this.stdout.write(codes);\n    }\n  }\n\n  sections() {\n    let { buffer, input, prompt } = this.state;\n    prompt = colors.unstyle(prompt);\n    let buf = colors.unstyle(buffer);\n    let idx = buf.indexOf(prompt);\n    let header = buf.slice(0, idx);\n    let rest = buf.slice(idx);\n    let lines = rest.split('\\n');\n    let first = lines[0];\n    let last = lines[lines.length - 1];\n    let promptLine = prompt + (input ? ' ' + input : '');\n    let len = promptLine.length;\n    let after = len < first.length ? first.slice(len + 1) : '';\n    return { header, prompt: first, after, rest: lines.slice(1), last };\n  }\n\n  async submit() {\n    this.state.submitted = true;\n    this.state.validating = true;\n\n    // this will only be called when the prompt is directly submitted\n    // without initializing, i.e. when the prompt is skipped, etc. Otherwize,\n    // \"options.onSubmit\" is will be handled by the \"initialize()\" method.\n    if (this.options.onSubmit) {\n      await this.options.onSubmit.call(this, this.name, this.value, this);\n    }\n\n    let result = this.state.error || await this.validate(this.value, this.state);\n    if (result !== true) {\n      let error = '\\n' + this.symbols.pointer + ' ';\n\n      if (typeof result === 'string') {\n        error += result.trim();\n      } else {\n        error += 'Invalid input';\n      }\n\n      this.state.error = '\\n' + this.styles.danger(error);\n      this.state.submitted = false;\n      await this.render();\n      await this.alert();\n      this.state.validating = false;\n      this.state.error = void 0;\n      return;\n    }\n\n    this.state.validating = false;\n    await this.render();\n    await this.close();\n\n    this.value = await this.result(this.value);\n    this.emit('submit', this.value);\n  }\n\n  async cancel(err) {\n    this.state.cancelled = this.state.submitted = true;\n\n    await this.render();\n    await this.close();\n\n    if (typeof this.options.onCancel === 'function') {\n      await this.options.onCancel.call(this, this.name, this.value, this);\n    }\n\n    this.emit('cancel', await this.error(err));\n  }\n\n  async close() {\n    this.state.closed = true;\n\n    try {\n      let sections = this.sections();\n      let lines = Math.ceil(sections.prompt.length / this.width);\n      if (sections.rest) {\n        this.write(ansi.cursor.down(sections.rest.length));\n      }\n      this.write('\\n'.repeat(lines));\n    } catch (err) { /* do nothing */ }\n\n    this.emit('close');\n  }\n\n  start() {\n    if (!this.stop && this.options.show !== false) {\n      this.stop = keypress.listen(this, this.keypress.bind(this));\n      this.once('close', this.stop);\n    }\n  }\n\n  async skip() {\n    this.skipped = this.options.skip === true;\n    if (typeof this.options.skip === 'function') {\n      this.skipped = await this.options.skip.call(this, this.name, this.value);\n    }\n    return this.skipped;\n  }\n\n  async initialize() {\n    let { format, options, result } = this;\n\n    this.format = () => format.call(this, this.value);\n    this.result = () => result.call(this, this.value);\n\n    if (typeof options.initial === 'function') {\n      this.initial = await options.initial.call(this, this);\n    }\n\n    if (typeof options.onRun === 'function') {\n      await options.onRun.call(this, this);\n    }\n\n    // if \"options.onSubmit\" is defined, we wrap the \"submit\" method to guarantee\n    // that \"onSubmit\" will always called first thing inside the submit\n    // method, regardless of how it's handled in inheriting prompts.\n    if (typeof options.onSubmit === 'function') {\n      let onSubmit = options.onSubmit.bind(this);\n      let submit = this.submit.bind(this);\n      delete this.options.onSubmit;\n      this.submit = async() => {\n        await onSubmit(this.name, this.value, this);\n        return submit();\n      };\n    }\n\n    await this.start();\n    await this.render();\n  }\n\n  render() {\n    throw new Error('expected prompt to have a custom render method');\n  }\n\n  run() {\n    return new Promise(async(resolve, reject) => {\n      this.once('submit', resolve);\n      this.once('cancel', reject);\n      if (await this.skip()) {\n        this.render = () => {};\n        return this.submit();\n      }\n      await this.initialize();\n      this.emit('run');\n    });\n  }\n\n  async element(name, choice, i) {\n    let { options, state, symbols, timers } = this;\n    let timer = timers && timers[name];\n    state.timer = timer;\n    let value = options[name] || state[name] || symbols[name];\n    let val = choice && choice[name] != null ? choice[name] : await value;\n    if (val === '') return val;\n\n    let res = await this.resolve(val, state, choice, i);\n    if (!res && choice && choice[name]) {\n      return this.resolve(value, state, choice, i);\n    }\n    return res;\n  }\n\n  async prefix() {\n    let element = await this.element('prefix') || this.symbols;\n    let timer = this.timers && this.timers.prefix;\n    let state = this.state;\n    state.timer = timer;\n    if (utils.isObject(element)) element = element[state.status] || element.pending;\n    if (!utils.hasColor(element)) {\n      let style = this.styles[state.status] || this.styles.pending;\n      return style(element);\n    }\n    return element;\n  }\n\n  async message() {\n    let message = await this.element('message');\n    if (!utils.hasColor(message)) {\n      return this.styles.strong(message);\n    }\n    return message;\n  }\n\n  async separator() {\n    let element = await this.element('separator') || this.symbols;\n    let timer = this.timers && this.timers.separator;\n    let state = this.state;\n    state.timer = timer;\n    let value = element[state.status] || element.pending || state.separator;\n    let ele = await this.resolve(value, state);\n    if (utils.isObject(ele)) ele = ele[state.status] || ele.pending;\n    if (!utils.hasColor(ele)) {\n      return this.styles.muted(ele);\n    }\n    return ele;\n  }\n\n  async pointer(choice, i) {\n    let val = await this.element('pointer', choice, i);\n\n    if (typeof val === 'string' && utils.hasColor(val)) {\n      return val;\n    }\n\n    if (val) {\n      let styles = this.styles;\n      let focused = this.index === i;\n      let style = focused ? styles.primary : val => val;\n      let ele = await this.resolve(val[focused ? 'on' : 'off'] || val, this.state);\n      let styled = !utils.hasColor(ele) ? style(ele) : ele;\n      return focused ? styled : ' '.repeat(ele.length);\n    }\n  }\n\n  async indicator(choice, i) {\n    let val = await this.element('indicator', choice, i);\n    if (typeof val === 'string' && utils.hasColor(val)) {\n      return val;\n    }\n    if (val) {\n      let styles = this.styles;\n      let enabled = choice.enabled === true;\n      let style = enabled ? styles.success : styles.dark;\n      let ele = val[enabled ? 'on' : 'off'] || val;\n      return !utils.hasColor(ele) ? style(ele) : ele;\n    }\n    return '';\n  }\n\n  body() {\n    return null;\n  }\n\n  footer() {\n    if (this.state.status === 'pending') {\n      return this.element('footer');\n    }\n  }\n\n  header() {\n    if (this.state.status === 'pending') {\n      return this.element('header');\n    }\n  }\n\n  async hint() {\n    if (this.state.status === 'pending' && !this.isValue(this.state.input)) {\n      let hint = await this.element('hint');\n      if (!utils.hasColor(hint)) {\n        return this.styles.muted(hint);\n      }\n      return hint;\n    }\n  }\n\n  error(err) {\n    return !this.state.submitted ? (err || this.state.error) : '';\n  }\n\n  format(value) {\n    return value;\n  }\n\n  result(value) {\n    return value;\n  }\n\n  validate(value) {\n    if (this.options.required === true) {\n      return this.isValue(value);\n    }\n    return true;\n  }\n\n  isValue(value) {\n    return value != null && value !== '';\n  }\n\n  resolve(value, ...args) {\n    return utils.resolve(this, value, ...args);\n  }\n\n  get base() {\n    return Prompt.prototype;\n  }\n\n  get style() {\n    return this.styles[this.state.status];\n  }\n\n  get height() {\n    return this.options.rows || utils.height(this.stdout, 25);\n  }\n  get width() {\n    return this.options.columns || utils.width(this.stdout, 80);\n  }\n  get size() {\n    return { width: this.width, height: this.height };\n  }\n\n  set cursor(value) {\n    this.state.cursor = value;\n  }\n  get cursor() {\n    return this.state.cursor;\n  }\n\n  set input(value) {\n    this.state.input = value;\n  }\n  get input() {\n    return this.state.input;\n  }\n\n  set value(value) {\n    this.state.value = value;\n  }\n  get value() {\n    let { input, value } = this.state;\n    let result = [value, input].find(this.isValue.bind(this));\n    return this.isValue(result) ? result : this.initial;\n  }\n\n  static get prompt() {\n    return options => new this(options).run();\n  }\n}\n\nfunction setOptions(prompt) {\n  let isValidKey = key => {\n    return prompt[key] === void 0 || typeof prompt[key] === 'function';\n  };\n\n  let ignore = [\n    'actions',\n    'choices',\n    'initial',\n    'margin',\n    'roles',\n    'styles',\n    'symbols',\n    'theme',\n    'timers',\n    'value'\n  ];\n\n  let ignoreFn = [\n    'body',\n    'footer',\n    'error',\n    'header',\n    'hint',\n    'indicator',\n    'message',\n    'prefix',\n    'separator',\n    'skip'\n  ];\n\n  for (let key of Object.keys(prompt.options)) {\n    if (ignore.includes(key)) continue;\n    if (/^on[A-Z]/.test(key)) continue;\n    let option = prompt.options[key];\n    if (typeof option === 'function' && isValidKey(key)) {\n      if (!ignoreFn.includes(key)) {\n        prompt[key] = option.bind(prompt);\n      }\n    } else if (typeof prompt[key] !== 'function') {\n      prompt[key] = option;\n    }\n  }\n}\n\nfunction margin(value) {\n  if (typeof value === 'number') {\n    value = [value, value, value, value];\n  }\n  let arr = [].concat(value || []);\n  let pad = i => i % 2 === 0 ? '\\n' : ' ';\n  let res = [];\n  for (let i = 0; i < 4; i++) {\n    let char = pad(i);\n    if (arr[i]) {\n      res.push(char.repeat(arr[i]));\n    } else {\n      res.push('');\n    }\n  }\n  return res;\n}\n\nmodule.exports = Prompt;\n","'use strict';\n\nconst utils = require('./utils');\nconst roles = {\n  default(prompt, choice) {\n    return choice;\n  },\n  checkbox(prompt, choice) {\n    throw new Error('checkbox role is not implemented yet');\n  },\n  editable(prompt, choice) {\n    throw new Error('editable role is not implemented yet');\n  },\n  expandable(prompt, choice) {\n    throw new Error('expandable role is not implemented yet');\n  },\n  heading(prompt, choice) {\n    choice.disabled = '';\n    choice.indicator = [choice.indicator, ' '].find(v => v != null);\n    choice.message = choice.message || '';\n    return choice;\n  },\n  input(prompt, choice) {\n    throw new Error('input role is not implemented yet');\n  },\n  option(prompt, choice) {\n    return roles.default(prompt, choice);\n  },\n  radio(prompt, choice) {\n    throw new Error('radio role is not implemented yet');\n  },\n  separator(prompt, choice) {\n    choice.disabled = '';\n    choice.indicator = [choice.indicator, ' '].find(v => v != null);\n    choice.message = choice.message || prompt.symbols.line.repeat(5);\n    return choice;\n  },\n  spacer(prompt, choice) {\n    return choice;\n  }\n};\n\nmodule.exports = (name, options = {}) => {\n  let role = utils.merge({}, roles, options.roles);\n  return role[name] || role.default;\n};\n","'use strict';\n\nconst colors = require('ansi-colors');\nconst Prompt = require('../prompt');\nconst roles = require('../roles');\nconst utils = require('../utils');\nconst { reorder, scrollUp, scrollDown, isObject, swap } = utils;\n\nclass ArrayPrompt extends Prompt {\n  constructor(options) {\n    super(options);\n    this.cursorHide();\n    this.maxSelected = options.maxSelected || Infinity;\n    this.multiple = options.multiple || false;\n    this.initial = options.initial || 0;\n    this.delay = options.delay || 0;\n    this.longest = 0;\n    this.num = '';\n  }\n\n  async initialize() {\n    if (typeof this.options.initial === 'function') {\n      this.initial = await this.options.initial.call(this);\n    }\n    await this.reset(true);\n    await super.initialize();\n  }\n\n  async reset() {\n    let { choices, initial, autofocus, suggest } = this.options;\n    this.state._choices = [];\n    this.state.choices = [];\n\n    this.choices = await Promise.all(await this.toChoices(choices));\n    this.choices.forEach(ch => (ch.enabled = false));\n\n    if (typeof suggest !== 'function' && this.selectable.length === 0) {\n      throw new Error('At least one choice must be selectable');\n    }\n\n    if (isObject(initial)) initial = Object.keys(initial);\n    if (Array.isArray(initial)) {\n      if (autofocus != null) this.index = this.findIndex(autofocus);\n      initial.forEach(v => this.enable(this.find(v)));\n      await this.render();\n    } else {\n      if (autofocus != null) initial = autofocus;\n      if (typeof initial === 'string') initial = this.findIndex(initial);\n      if (typeof initial === 'number' && initial > -1) {\n        this.index = Math.max(0, Math.min(initial, this.choices.length));\n        this.enable(this.find(this.index));\n      }\n    }\n\n    if (this.isDisabled(this.focused)) {\n      await this.down();\n    }\n  }\n\n  async toChoices(value, parent) {\n    this.state.loadingChoices = true;\n    let choices = [];\n    let index = 0;\n\n    let toChoices = async(items, parent) => {\n      if (typeof items === 'function') items = await items.call(this);\n      if (items instanceof Promise) items = await items;\n\n      for (let i = 0; i < items.length; i++) {\n        let choice = items[i] = await this.toChoice(items[i], index++, parent);\n        choices.push(choice);\n\n        if (choice.choices) {\n          await toChoices(choice.choices, choice);\n        }\n      }\n      return choices;\n    };\n\n    return toChoices(value, parent)\n      .then(choices => {\n        this.state.loadingChoices = false;\n        return choices;\n      });\n  }\n\n  async toChoice(ele, i, parent) {\n    if (typeof ele === 'function') ele = await ele.call(this, this);\n    if (ele instanceof Promise) ele = await ele;\n    if (typeof ele === 'string') ele = { name: ele };\n\n    if (ele.normalized) return ele;\n    ele.normalized = true;\n\n    let origVal = ele.value;\n    let role = roles(ele.role, this.options);\n    ele = role(this, ele);\n\n    if (typeof ele.disabled === 'string' && !ele.hint) {\n      ele.hint = ele.disabled;\n      ele.disabled = true;\n    }\n\n    if (ele.disabled === true && ele.hint == null) {\n      ele.hint = '(disabled)';\n    }\n\n    // if the choice was already normalized, return it\n    if (ele.index != null) return ele;\n    ele.name = ele.name || ele.key || ele.title || ele.value || ele.message;\n    ele.message = ele.message || ele.name || '';\n    ele.value = [ele.value, ele.name].find(this.isValue.bind(this));\n\n    ele.input = '';\n    ele.index = i;\n    ele.cursor = 0;\n\n    utils.define(ele, 'parent', parent);\n    ele.level = parent ? parent.level + 1 : 1;\n    if (ele.indent == null) {\n      ele.indent = parent ? parent.indent + '  ' : (ele.indent || '');\n    }\n\n    ele.path = parent ? parent.path + '.' + ele.name : ele.name;\n    ele.enabled = !!(this.multiple && !this.isDisabled(ele) && (ele.enabled || this.isSelected(ele)));\n\n    if (!this.isDisabled(ele)) {\n      this.longest = Math.max(this.longest, colors.unstyle(ele.message).length);\n    }\n\n    // shallow clone the choice first\n    let choice = { ...ele };\n\n    // then allow the choice to be reset using the \"original\" values\n    ele.reset = (input = choice.input, value = choice.value) => {\n      for (let key of Object.keys(choice)) ele[key] = choice[key];\n      ele.input = input;\n      ele.value = value;\n    };\n\n    if (origVal == null && typeof ele.initial === 'function') {\n      ele.input = await ele.initial.call(this, this.state, ele, i);\n    }\n\n    return ele;\n  }\n\n  async onChoice(choice, i) {\n    this.emit('choice', choice, i, this);\n\n    if (typeof choice.onChoice === 'function') {\n      await choice.onChoice.call(this, this.state, choice, i);\n    }\n  }\n\n  async addChoice(ele, i, parent) {\n    let choice = await this.toChoice(ele, i, parent);\n    this.choices.push(choice);\n    this.index = this.choices.length - 1;\n    this.limit = this.choices.length;\n    return choice;\n  }\n\n  async newItem(item, i, parent) {\n    let ele = { name: 'New choice name?', editable: true, newChoice: true, ...item };\n    let choice = await this.addChoice(ele, i, parent);\n\n    choice.updateChoice = () => {\n      delete choice.newChoice;\n      choice.name = choice.message = choice.input;\n      choice.input = '';\n      choice.cursor = 0;\n    };\n\n    return this.render();\n  }\n\n  indent(choice) {\n    if (choice.indent == null) {\n      return choice.level > 1 ? '  '.repeat(choice.level - 1) : '';\n    }\n    return choice.indent;\n  }\n\n  dispatch(s, key) {\n    if (this.multiple && this[key.name]) return this[key.name]();\n    this.alert();\n  }\n\n  focus(choice, enabled) {\n    if (typeof enabled !== 'boolean') enabled = choice.enabled;\n    if (enabled && !choice.enabled && this.selected.length >= this.maxSelected) {\n      return this.alert();\n    }\n    this.index = choice.index;\n    choice.enabled = enabled && !this.isDisabled(choice);\n    return choice;\n  }\n\n  space() {\n    if (!this.multiple) return this.alert();\n    this.toggle(this.focused);\n    return this.render();\n  }\n\n  a() {\n    if (this.maxSelected < this.choices.length) return this.alert();\n    let enabled = this.selectable.every(ch => ch.enabled);\n    this.choices.forEach(ch => (ch.enabled = !enabled));\n    return this.render();\n  }\n\n  i() {\n    // don't allow choices to be inverted if it will result in\n    // more than the maximum number of allowed selected items.\n    if (this.choices.length - this.selected.length > this.maxSelected) {\n      return this.alert();\n    }\n    this.choices.forEach(ch => (ch.enabled = !ch.enabled));\n    return this.render();\n  }\n\n  g(choice = this.focused) {\n    if (!this.choices.some(ch => !!ch.parent)) return this.a();\n    this.toggle((choice.parent && !choice.choices) ? choice.parent : choice);\n    return this.render();\n  }\n\n  toggle(choice, enabled) {\n    if (!choice.enabled && this.selected.length >= this.maxSelected) {\n      return this.alert();\n    }\n\n    if (typeof enabled !== 'boolean') enabled = !choice.enabled;\n    choice.enabled = enabled;\n\n    if (choice.choices) {\n      choice.choices.forEach(ch => this.toggle(ch, enabled));\n    }\n\n    let parent = choice.parent;\n    while (parent) {\n      let choices = parent.choices.filter(ch => this.isDisabled(ch));\n      parent.enabled = choices.every(ch => ch.enabled === true);\n      parent = parent.parent;\n    }\n\n    reset(this, this.choices);\n    this.emit('toggle', choice, this);\n    return choice;\n  }\n\n  enable(choice) {\n    if (this.selected.length >= this.maxSelected) return this.alert();\n    choice.enabled = !this.isDisabled(choice);\n    choice.choices && choice.choices.forEach(this.enable.bind(this));\n    return choice;\n  }\n\n  disable(choice) {\n    choice.enabled = false;\n    choice.choices && choice.choices.forEach(this.disable.bind(this));\n    return choice;\n  }\n\n  number(n) {\n    this.num += n;\n\n    let number = num => {\n      let i = Number(num);\n      if (i > this.choices.length - 1) return this.alert();\n\n      let focused = this.focused;\n      let choice = this.choices.find(ch => i === ch.index);\n\n      if (!choice.enabled && this.selected.length >= this.maxSelected) {\n        return this.alert();\n      }\n\n      if (this.visible.indexOf(choice) === -1) {\n        let choices = reorder(this.choices);\n        let actualIdx = choices.indexOf(choice);\n\n        if (focused.index > actualIdx) {\n          let start = choices.slice(actualIdx, actualIdx + this.limit);\n          let end = choices.filter(ch => !start.includes(ch));\n          this.choices = start.concat(end);\n        } else {\n          let pos = actualIdx - this.limit + 1;\n          this.choices = choices.slice(pos).concat(choices.slice(0, pos));\n        }\n      }\n\n      this.index = this.choices.indexOf(choice);\n      this.toggle(this.focused);\n      return this.render();\n    };\n\n    clearTimeout(this.numberTimeout);\n\n    return new Promise(resolve => {\n      let len = this.choices.length;\n      let num = this.num;\n\n      let handle = (val = false, res) => {\n        clearTimeout(this.numberTimeout);\n        if (val) res = number(num);\n        this.num = '';\n        resolve(res);\n      };\n\n      if (num === '0' || (num.length === 1 && Number(num + '0') > len)) {\n        return handle(true);\n      }\n\n      if (Number(num) > len) {\n        return handle(false, this.alert());\n      }\n\n      this.numberTimeout = setTimeout(() => handle(true), this.delay);\n    });\n  }\n\n  home() {\n    this.choices = reorder(this.choices);\n    this.index = 0;\n    return this.render();\n  }\n\n  end() {\n    let pos = this.choices.length - this.limit;\n    let choices = reorder(this.choices);\n    this.choices = choices.slice(pos).concat(choices.slice(0, pos));\n    this.index = this.limit - 1;\n    return this.render();\n  }\n\n  first() {\n    this.index = 0;\n    return this.render();\n  }\n\n  last() {\n    this.index = this.visible.length - 1;\n    return this.render();\n  }\n\n  prev() {\n    if (this.visible.length <= 1) return this.alert();\n    return this.up();\n  }\n\n  next() {\n    if (this.visible.length <= 1) return this.alert();\n    return this.down();\n  }\n\n  right() {\n    if (this.cursor >= this.input.length) return this.alert();\n    this.cursor++;\n    return this.render();\n  }\n\n  left() {\n    if (this.cursor <= 0) return this.alert();\n    this.cursor--;\n    return this.render();\n  }\n\n  up() {\n    let len = this.choices.length;\n    let vis = this.visible.length;\n    let idx = this.index;\n    if (this.options.scroll === false && idx === 0) {\n      return this.alert();\n    }\n    if (len > vis && idx === 0) {\n      return this.scrollUp();\n    }\n    this.index = ((idx - 1 % len) + len) % len;\n    if (this.isDisabled()) {\n      return this.up();\n    }\n    return this.render();\n  }\n\n  down() {\n    let len = this.choices.length;\n    let vis = this.visible.length;\n    let idx = this.index;\n    if (this.options.scroll === false && idx === vis - 1) {\n      return this.alert();\n    }\n    if (len > vis && idx === vis - 1) {\n      return this.scrollDown();\n    }\n    this.index = (idx + 1) % len;\n    if (this.isDisabled()) {\n      return this.down();\n    }\n    return this.render();\n  }\n\n  scrollUp(i = 0) {\n    this.choices = scrollUp(this.choices);\n    this.index = i;\n    if (this.isDisabled()) {\n      return this.up();\n    }\n    return this.render();\n  }\n\n  scrollDown(i = this.visible.length - 1) {\n    this.choices = scrollDown(this.choices);\n    this.index = i;\n    if (this.isDisabled()) {\n      return this.down();\n    }\n    return this.render();\n  }\n\n  async shiftUp() {\n    if (this.options.sort === true) {\n      this.sorting = true;\n      this.swap(this.index - 1);\n      await this.up();\n      this.sorting = false;\n      return;\n    }\n    return this.scrollUp(this.index);\n  }\n\n  async shiftDown() {\n    if (this.options.sort === true) {\n      this.sorting = true;\n      this.swap(this.index + 1);\n      await this.down();\n      this.sorting = false;\n      return;\n    }\n    return this.scrollDown(this.index);\n  }\n\n  pageUp() {\n    if (this.visible.length <= 1) return this.alert();\n    this.limit = Math.max(this.limit - 1, 0);\n    this.index = Math.min(this.limit - 1, this.index);\n    this._limit = this.limit;\n    if (this.isDisabled()) {\n      return this.up();\n    }\n    return this.render();\n  }\n\n  pageDown() {\n    if (this.visible.length >= this.choices.length) return this.alert();\n    this.index = Math.max(0, this.index);\n    this.limit = Math.min(this.limit + 1, this.choices.length);\n    this._limit = this.limit;\n    if (this.isDisabled()) {\n      return this.down();\n    }\n    return this.render();\n  }\n\n  swap(pos) {\n    swap(this.choices, this.index, pos);\n  }\n\n  isDisabled(choice = this.focused) {\n    let keys = ['disabled', 'collapsed', 'hidden', 'completing', 'readonly'];\n    if (choice && keys.some(key => choice[key] === true)) {\n      return true;\n    }\n    return choice && choice.role === 'heading';\n  }\n\n  isEnabled(choice = this.focused) {\n    if (Array.isArray(choice)) return choice.every(ch => this.isEnabled(ch));\n    if (choice.choices) {\n      let choices = choice.choices.filter(ch => !this.isDisabled(ch));\n      return choice.enabled && choices.every(ch => this.isEnabled(ch));\n    }\n    return choice.enabled && !this.isDisabled(choice);\n  }\n\n  isChoice(choice, value) {\n    return choice.name === value || choice.index === Number(value);\n  }\n\n  isSelected(choice) {\n    if (Array.isArray(this.initial)) {\n      return this.initial.some(value => this.isChoice(choice, value));\n    }\n    return this.isChoice(choice, this.initial);\n  }\n\n  map(names = [], prop = 'value') {\n    return [].concat(names || []).reduce((acc, name) => {\n      acc[name] = this.find(name, prop);\n      return acc;\n    }, {});\n  }\n\n  filter(value, prop) {\n    let isChoice = (ele, i) => [ele.name, i].includes(value);\n    let fn = typeof value === 'function' ? value : isChoice;\n    let choices = this.options.multiple ? this.state._choices : this.choices;\n    let result = choices.filter(fn);\n    if (prop) {\n      return result.map(ch => ch[prop]);\n    }\n    return result;\n  }\n\n  find(value, prop) {\n    if (isObject(value)) return prop ? value[prop] : value;\n    let isChoice = (ele, i) => [ele.name, i].includes(value);\n    let fn = typeof value === 'function' ? value : isChoice;\n    let choice = this.choices.find(fn);\n    if (choice) {\n      return prop ? choice[prop] : choice;\n    }\n  }\n\n  findIndex(value) {\n    return this.choices.indexOf(this.find(value));\n  }\n\n  async submit() {\n    let choice = this.focused;\n    if (!choice) return this.alert();\n\n    if (choice.newChoice) {\n      if (!choice.input) return this.alert();\n      choice.updateChoice();\n      return this.render();\n    }\n\n    if (this.choices.some(ch => ch.newChoice)) {\n      return this.alert();\n    }\n\n    let { reorder, sort } = this.options;\n    let multi = this.multiple === true;\n    let value = this.selected;\n    if (value === void 0) {\n      return this.alert();\n    }\n\n    // re-sort choices to original order\n    if (Array.isArray(value) && reorder !== false && sort !== true) {\n      value = utils.reorder(value);\n    }\n\n    this.value = multi ? value.map(ch => ch.name) : value.name;\n    return super.submit();\n  }\n\n  set choices(choices = []) {\n    this.state._choices = this.state._choices || [];\n    this.state.choices = choices;\n\n    for (let choice of choices) {\n      if (!this.state._choices.some(ch => ch.name === choice.name)) {\n        this.state._choices.push(choice);\n      }\n    }\n\n    if (!this._initial && this.options.initial) {\n      this._initial = true;\n      let init = this.initial;\n      if (typeof init === 'string' || typeof init === 'number') {\n        let choice = this.find(init);\n        if (choice) {\n          this.initial = choice.index;\n          this.focus(choice, true);\n        }\n      }\n    }\n  }\n  get choices() {\n    return reset(this, this.state.choices || []);\n  }\n\n  set visible(visible) {\n    this.state.visible = visible;\n  }\n  get visible() {\n    return (this.state.visible || this.choices).slice(0, this.limit);\n  }\n\n  set limit(num) {\n    this.state.limit = num;\n  }\n  get limit() {\n    let { state, options, choices } = this;\n    let limit = state.limit || this._limit || options.limit || choices.length;\n    return Math.min(limit, this.height);\n  }\n\n  set value(value) {\n    super.value = value;\n  }\n  get value() {\n    if (typeof super.value !== 'string' && super.value === this.initial) {\n      return this.input;\n    }\n    return super.value;\n  }\n\n  set index(i) {\n    this.state.index = i;\n  }\n  get index() {\n    return Math.max(0, this.state ? this.state.index : 0);\n  }\n\n  get enabled() {\n    return this.filter(this.isEnabled.bind(this));\n  }\n\n  get focused() {\n    let choice = this.choices[this.index];\n    if (choice && this.state.submitted && this.multiple !== true) {\n      choice.enabled = true;\n    }\n    return choice;\n  }\n\n  get selectable() {\n    return this.choices.filter(choice => !this.isDisabled(choice));\n  }\n\n  get selected() {\n    return this.multiple ? this.enabled : this.focused;\n  }\n}\n\nfunction reset(prompt, choices) {\n  if (choices instanceof Promise) return choices;\n  if (typeof choices === 'function') {\n    if (utils.isAsyncFn(choices)) return choices;\n    choices = choices.call(prompt, prompt);\n  }\n  for (let choice of choices) {\n    if (Array.isArray(choice.choices)) {\n      let items = choice.choices.filter(ch => !prompt.isDisabled(ch));\n      choice.enabled = items.every(ch => ch.enabled === true);\n    }\n    if (prompt.isDisabled(choice) === true) {\n      delete choice.enabled;\n    }\n  }\n  return choices;\n}\n\nmodule.exports = ArrayPrompt;\n","'use strict';\n\nconst ArrayPrompt = require('../types/array');\nconst utils = require('../utils');\n\nclass SelectPrompt extends ArrayPrompt {\n  constructor(options) {\n    super(options);\n    this.emptyError = this.options.emptyError || 'No items were selected';\n  }\n\n  async dispatch(s, key) {\n    if (this.multiple) {\n      return this[key.name] ? await this[key.name](s, key) : await super.dispatch(s, key);\n    }\n    this.alert();\n  }\n\n  separator() {\n    if (this.options.separator) return super.separator();\n    let sep = this.styles.muted(this.symbols.ellipsis);\n    return this.state.submitted ? super.separator() : sep;\n  }\n\n  pointer(choice, i) {\n    return (!this.multiple || this.options.pointer) ? super.pointer(choice, i) : '';\n  }\n\n  indicator(choice, i) {\n    return this.multiple ? super.indicator(choice, i) : '';\n  }\n\n  choiceMessage(choice, i) {\n    let message = this.resolve(choice.message, this.state, choice, i);\n    if (choice.role === 'heading' && !utils.hasColor(message)) {\n      message = this.styles.strong(message);\n    }\n    return this.resolve(message, this.state, choice, i);\n  }\n\n  choiceSeparator() {\n    return ':';\n  }\n\n  async renderChoice(choice, i) {\n    await this.onChoice(choice, i);\n\n    let focused = this.index === i;\n    let pointer = await this.pointer(choice, i);\n    let check = await this.indicator(choice, i) + (choice.pad || '');\n    let hint = await this.resolve(choice.hint, this.state, choice, i);\n\n    if (hint && !utils.hasColor(hint)) {\n      hint = this.styles.muted(hint);\n    }\n\n    let ind = this.indent(choice);\n    let msg = await this.choiceMessage(choice, i);\n    let line = () => [this.margin[3], ind + pointer + check, msg, this.margin[1], hint].filter(Boolean).join(' ');\n\n    if (choice.role === 'heading') {\n      return line();\n    }\n\n    if (choice.disabled) {\n      if (!utils.hasColor(msg)) {\n        msg = this.styles.disabled(msg);\n      }\n      return line();\n    }\n\n    if (focused) {\n      msg = this.styles.em(msg);\n    }\n\n    return line();\n  }\n\n  async renderChoices() {\n    if (this.state.loading === 'choices') {\n      return this.styles.warning('Loading choices');\n    }\n\n    if (this.state.submitted) return '';\n    let choices = this.visible.map(async(ch, i) => await this.renderChoice(ch, i));\n    let visible = await Promise.all(choices);\n    if (!visible.length) visible.push(this.styles.danger('No matching choices'));\n    let result = this.margin[0] + visible.join('\\n');\n    let header;\n\n    if (this.options.choicesHeader) {\n      header = await this.resolve(this.options.choicesHeader, this.state);\n    }\n\n    return [header, result].filter(Boolean).join('\\n');\n  }\n\n  format() {\n    if (!this.state.submitted || this.state.cancelled) return '';\n    if (Array.isArray(this.selected)) {\n      return this.selected.map(choice => this.styles.primary(choice.name)).join(', ');\n    }\n    return this.styles.primary(this.selected.name);\n  }\n\n  async render() {\n    let { submitted, size } = this.state;\n\n    let prompt = '';\n    let header = await this.header();\n    let prefix = await this.prefix();\n    let separator = await this.separator();\n    let message = await this.message();\n\n    if (this.options.promptLine !== false) {\n      prompt = [prefix, message, separator, ''].join(' ');\n      this.state.prompt = prompt;\n    }\n\n    let output = await this.format();\n    let help = (await this.error()) || (await this.hint());\n    let body = await this.renderChoices();\n    let footer = await this.footer();\n\n    if (output) prompt += output;\n    if (help && !prompt.includes(help)) prompt += ' ' + help;\n\n    if (submitted && !output && !body.trim() && this.multiple && this.emptyError != null) {\n      prompt += this.styles.danger(this.emptyError);\n    }\n\n    this.clear(size);\n    this.write([header, prompt, body, footer].filter(Boolean).join('\\n'));\n    this.write(this.margin[2]);\n    this.restore();\n  }\n}\n\nmodule.exports = SelectPrompt;\n","'use strict';\n\nconst Select = require('./select');\n\nconst highlight = (input, color) => {\n  let val = input.toLowerCase();\n  return str => {\n    let s = str.toLowerCase();\n    let i = s.indexOf(val);\n    let colored = color(str.slice(i, i + val.length));\n    return i >= 0 ? str.slice(0, i) + colored + str.slice(i + val.length) : str;\n  };\n};\n\nclass AutoComplete extends Select {\n  constructor(options) {\n    super(options);\n    this.cursorShow();\n  }\n\n  moveCursor(n) {\n    this.state.cursor += n;\n  }\n\n  dispatch(ch) {\n    return this.append(ch);\n  }\n\n  space(ch) {\n    return this.options.multiple ? super.space(ch) : this.append(ch);\n  }\n\n  append(ch) {\n    let { cursor, input } = this.state;\n    this.input = input.slice(0, cursor) + ch + input.slice(cursor);\n    this.moveCursor(1);\n    return this.complete();\n  }\n\n  delete() {\n    let { cursor, input } = this.state;\n    if (!input) return this.alert();\n    this.input = input.slice(0, cursor - 1) + input.slice(cursor);\n    this.moveCursor(-1);\n    return this.complete();\n  }\n\n  deleteForward() {\n    let { cursor, input } = this.state;\n    if (input[cursor] === void 0) return this.alert();\n    this.input = `${input}`.slice(0, cursor) + `${input}`.slice(cursor + 1);\n    return this.complete();\n  }\n\n  number(ch) {\n    return this.append(ch);\n  }\n\n  async complete() {\n    this.completing = true;\n    this.choices = await this.suggest(this.input, this.state._choices);\n    this.state.limit = void 0; // allow getter/setter to reset limit\n    this.index = Math.min(Math.max(this.visible.length - 1, 0), this.index);\n    await this.render();\n    this.completing = false;\n  }\n\n  suggest(input = this.input, choices = this.state._choices) {\n    if (typeof this.options.suggest === 'function') {\n      return this.options.suggest.call(this, input, choices);\n    }\n    let str = input.toLowerCase();\n    return choices.filter(ch => ch.message.toLowerCase().includes(str));\n  }\n\n  pointer() {\n    return '';\n  }\n\n  format() {\n    if (!this.focused) return this.input;\n    if (this.options.multiple && this.state.submitted) {\n      return this.selected.map(ch => this.styles.primary(ch.message)).join(', ');\n    }\n    if (this.state.submitted) {\n      let value = this.value = this.input = this.focused.value;\n      return this.styles.primary(value);\n    }\n    return this.input;\n  }\n\n  async render() {\n    if (this.state.status !== 'pending') return super.render();\n    let style = this.options.highlight\n      ? this.options.highlight.bind(this)\n      : this.styles.placeholder;\n\n    let color = highlight(this.input, style);\n    let choices = this.choices;\n    this.choices = choices.map(ch => ({ ...ch, message: color(ch.message) }));\n    await super.render();\n    this.choices = choices;\n  }\n\n  submit() {\n    if (this.options.multiple) {\n      this.value = this.selected.map(ch => ch.name);\n    }\n    return super.submit();\n  }\n}\n\nmodule.exports = AutoComplete;\n","'use strict';\n\nconst utils = require('./utils');\n\n/**\n * Render a placeholder value with cursor and styling based on the\n * position of the cursor.\n *\n * @param {Object} `prompt` Prompt instance.\n * @param {String} `input` Input string.\n * @param {String} `initial` The initial user-provided value.\n * @param {Number} `pos` Current cursor position.\n * @param {Boolean} `showCursor` Render a simulated cursor using the inverse primary style.\n * @return {String} Returns the styled placeholder string.\n * @api public\n */\n\nmodule.exports = (prompt, options = {}) => {\n  prompt.cursorHide();\n\n  let { input = '', initial = '', pos, showCursor = true, color } = options;\n  let style = color || prompt.styles.placeholder;\n  let inverse = utils.inverse(prompt.styles.primary);\n  let blinker = str => inverse(prompt.styles.black(str));\n  let output = input;\n  let char = ' ';\n  let reverse = blinker(char);\n\n  if (prompt.blink && prompt.blink.off === true) {\n    blinker = str => str;\n    reverse = '';\n  }\n\n  if (showCursor && pos === 0 && initial === '' && input === '') {\n    return blinker(char);\n  }\n\n  if (showCursor && pos === 0 && (input === initial || input === '')) {\n    return blinker(initial[0]) + style(initial.slice(1));\n  }\n\n  initial = utils.isPrimitive(initial) ? `${initial}` : '';\n  input = utils.isPrimitive(input) ? `${input}` : '';\n\n  let placeholder = initial && initial.startsWith(input) && initial !== input;\n  let cursor = placeholder ? blinker(initial[input.length]) : reverse;\n\n  if (pos !== input.length && showCursor === true) {\n    output = input.slice(0, pos) + blinker(input[pos]) + input.slice(pos + 1);\n    cursor = '';\n  }\n\n  if (showCursor === false) {\n    cursor = '';\n  }\n\n  if (placeholder) {\n    let raw = prompt.styles.unstyle(output + cursor);\n    return output + cursor + style(initial.slice(raw.length));\n  }\n\n  return output + cursor;\n};\n","'use strict';\n\nconst colors = require('ansi-colors');\nconst SelectPrompt = require('./select');\nconst placeholder = require('../placeholder');\n\nclass FormPrompt extends SelectPrompt {\n  constructor(options) {\n    super({ ...options, multiple: true });\n    this.type = 'form';\n    this.initial = this.options.initial;\n    this.align = [this.options.align, 'right'].find(v => v != null);\n    this.emptyError = '';\n    this.values = {};\n  }\n\n  async reset(first) {\n    await super.reset();\n    if (first === true) this._index = this.index;\n    this.index = this._index;\n    this.values = {};\n    this.choices.forEach(choice => choice.reset && choice.reset());\n    return this.render();\n  }\n\n  dispatch(char) {\n    return !!char && this.append(char);\n  }\n\n  append(char) {\n    let choice = this.focused;\n    if (!choice) return this.alert();\n    let { cursor, input } = choice;\n    choice.value = choice.input = input.slice(0, cursor) + char + input.slice(cursor);\n    choice.cursor++;\n    return this.render();\n  }\n\n  delete() {\n    let choice = this.focused;\n    if (!choice || choice.cursor <= 0) return this.alert();\n    let { cursor, input } = choice;\n    choice.value = choice.input = input.slice(0, cursor - 1) + input.slice(cursor);\n    choice.cursor--;\n    return this.render();\n  }\n\n  deleteForward() {\n    let choice = this.focused;\n    if (!choice) return this.alert();\n    let { cursor, input } = choice;\n    if (input[cursor] === void 0) return this.alert();\n    let str = `${input}`.slice(0, cursor) + `${input}`.slice(cursor + 1);\n    choice.value = choice.input = str;\n    return this.render();\n  }\n\n  right() {\n    let choice = this.focused;\n    if (!choice) return this.alert();\n    if (choice.cursor >= choice.input.length) return this.alert();\n    choice.cursor++;\n    return this.render();\n  }\n\n  left() {\n    let choice = this.focused;\n    if (!choice) return this.alert();\n    if (choice.cursor <= 0) return this.alert();\n    choice.cursor--;\n    return this.render();\n  }\n\n  space(ch, key) {\n    return this.dispatch(ch, key);\n  }\n\n  number(ch, key) {\n    return this.dispatch(ch, key);\n  }\n\n  next() {\n    let ch = this.focused;\n    if (!ch) return this.alert();\n    let { initial, input } = ch;\n    if (initial && initial.startsWith(input) && input !== initial) {\n      ch.value = ch.input = initial;\n      ch.cursor = ch.value.length;\n      return this.render();\n    }\n    return super.next();\n  }\n\n  prev() {\n    let ch = this.focused;\n    if (!ch) return this.alert();\n    if (ch.cursor === 0) return super.prev();\n    ch.value = ch.input = '';\n    ch.cursor = 0;\n    return this.render();\n  }\n\n  separator() {\n    return '';\n  }\n\n  format(value) {\n    return !this.state.submitted ? super.format(value) : '';\n  }\n\n  pointer() {\n    return '';\n  }\n\n  indicator(choice) {\n    return choice.input ? '⦿' : '⊙';\n  }\n\n  async choiceSeparator(choice, i) {\n    let sep = await this.resolve(choice.separator, this.state, choice, i) || ':';\n    return sep ? ' ' + this.styles.disabled(sep) : '';\n  }\n\n  async renderChoice(choice, i) {\n    await this.onChoice(choice, i);\n\n    let { state, styles } = this;\n    let { cursor, initial = '', name, hint, input = '' } = choice;\n    let { muted, submitted, primary, danger } = styles;\n\n    let help = hint;\n    let focused = this.index === i;\n    let validate = choice.validate || (() => true);\n    let sep = await this.choiceSeparator(choice, i);\n    let msg = choice.message;\n\n    if (this.align === 'right') msg = msg.padStart(this.longest + 1, ' ');\n    if (this.align === 'left') msg = msg.padEnd(this.longest + 1, ' ');\n\n    // re-populate the form values (answers) object\n    let value = this.values[name] = (input || initial);\n    let color = input ? 'success' : 'dark';\n\n    if ((await validate.call(choice, value, this.state)) !== true) {\n      color = 'danger';\n    }\n\n    let style = styles[color];\n    let indicator = style(await this.indicator(choice, i)) + (choice.pad || '');\n\n    let indent = this.indent(choice);\n    let line = () => [indent, indicator, msg + sep, input, help].filter(Boolean).join(' ');\n\n    if (state.submitted) {\n      msg = colors.unstyle(msg);\n      input = submitted(input);\n      help = '';\n      return line();\n    }\n\n    if (choice.format) {\n      input = await choice.format.call(this, input, choice, i);\n    } else {\n      let color = this.styles.muted;\n      let options = { input, initial, pos: cursor, showCursor: focused, color };\n      input = placeholder(this, options);\n    }\n\n    if (!this.isValue(input)) {\n      input = this.styles.muted(this.symbols.ellipsis);\n    }\n\n    if (choice.result) {\n      this.values[name] = await choice.result.call(this, value, choice, i);\n    }\n\n    if (focused) {\n      msg = primary(msg);\n    }\n\n    if (choice.error) {\n      input += (input ? ' ' : '') + danger(choice.error.trim());\n    } else if (choice.hint) {\n      input += (input ? ' ' : '') + muted(choice.hint.trim());\n    }\n\n    return line();\n  }\n\n  async submit() {\n    this.value = this.values;\n    return super.base.submit.call(this);\n  }\n}\n\nmodule.exports = FormPrompt;\n","'use strict';\n\nconst FormPrompt = require('../prompts/form');\n\nconst defaultAuthenticate = () => {\n  throw new Error('expected prompt to have a custom authenticate method');\n};\n\nconst factory = (authenticate = defaultAuthenticate) => {\n\n  class AuthPrompt extends FormPrompt {\n    constructor(options) {\n      super(options);\n    }\n\n    async submit() {\n      this.value = await authenticate.call(this, this.values, this.state);\n      super.base.submit.call(this);\n    }\n\n    static create(authenticate) {\n      return factory(authenticate);\n    }\n  }\n\n  return AuthPrompt;\n};\n\nmodule.exports = factory();\n","'use strict';\n\nconst AuthPrompt = require('../types/auth');\n\nfunction defaultAuthenticate(value, state) {\n  if (value.username === this.options.username && value.password === this.options.password) {\n    return true;\n  }\n  return false;\n}\n\nconst factory = (authenticate = defaultAuthenticate) => {\n  const choices = [\n    { name: 'username', message: 'username' },\n    {\n      name: 'password',\n      message: 'password',\n      format(input) {\n        if (this.options.showPassword) {\n          return input;\n        }\n        let color = this.state.submitted ? this.styles.primary : this.styles.muted;\n        return color(this.symbols.asterisk.repeat(input.length));\n      }\n    }\n  ];\n\n  class BasicAuthPrompt extends AuthPrompt.create(authenticate) {\n    constructor(options) {\n      super({ ...options, choices });\n    }\n\n    static create(authenticate) {\n      return factory(authenticate);\n    }\n  }\n\n  return BasicAuthPrompt;\n};\n\nmodule.exports = factory();\n","'use strict';\n\nconst Prompt = require('../prompt');\nconst { isPrimitive, hasColor } = require('../utils');\n\nclass BooleanPrompt extends Prompt {\n  constructor(options) {\n    super(options);\n    this.cursorHide();\n  }\n\n  async initialize() {\n    let initial = await this.resolve(this.initial, this.state);\n    this.input = await this.cast(initial);\n    await super.initialize();\n  }\n\n  dispatch(ch) {\n    if (!this.isValue(ch)) return this.alert();\n    this.input = ch;\n    return this.submit();\n  }\n\n  format(value) {\n    let { styles, state } = this;\n    return !state.submitted ? styles.primary(value) : styles.success(value);\n  }\n\n  cast(input) {\n    return this.isTrue(input);\n  }\n\n  isTrue(input) {\n    return /^[ty1]/i.test(input);\n  }\n\n  isFalse(input) {\n    return /^[fn0]/i.test(input);\n  }\n\n  isValue(value) {\n    return isPrimitive(value) && (this.isTrue(value) || this.isFalse(value));\n  }\n\n  async hint() {\n    if (this.state.status === 'pending') {\n      let hint = await this.element('hint');\n      if (!hasColor(hint)) {\n        return this.styles.muted(hint);\n      }\n      return hint;\n    }\n  }\n\n  async render() {\n    let { input, size } = this.state;\n\n    let prefix = await this.prefix();\n    let sep = await this.separator();\n    let msg = await this.message();\n    let hint = this.styles.muted(this.default);\n\n    let promptLine = [prefix, msg, hint, sep].filter(Boolean).join(' ');\n    this.state.prompt = promptLine;\n\n    let header = await this.header();\n    let value = this.value = this.cast(input);\n    let output = await this.format(value);\n    let help = (await this.error()) || (await this.hint());\n    let footer = await this.footer();\n\n    if (help && !promptLine.includes(help)) output += ' ' + help;\n    promptLine += ' ' + output;\n\n    this.clear(size);\n    this.write([header, promptLine, footer].filter(Boolean).join('\\n'));\n    this.restore();\n  }\n\n  set value(value) {\n    super.value = value;\n  }\n  get value() {\n    return this.cast(super.value);\n  }\n}\n\nmodule.exports = BooleanPrompt;\n","'use strict';\n\nconst BooleanPrompt = require('../types/boolean');\n\nclass ConfirmPrompt extends BooleanPrompt {\n  constructor(options) {\n    super(options);\n    this.default = this.options.default || (this.initial ? '(Y/n)' : '(y/N)');\n  }\n}\n\nmodule.exports = ConfirmPrompt;\n\n","'use strict';\n\nconst Select = require('./select');\nconst Form = require('./form');\nconst form = Form.prototype;\n\nclass Editable extends Select {\n  constructor(options) {\n    super({ ...options, multiple: true });\n    this.align = [this.options.align, 'left'].find(v => v != null);\n    this.emptyError = '';\n    this.values = {};\n  }\n\n  dispatch(char, key) {\n    let choice = this.focused;\n    let parent = choice.parent || {};\n    if (!choice.editable && !parent.editable) {\n      if (char === 'a' || char === 'i') return super[char]();\n    }\n    return form.dispatch.call(this, char, key);\n  }\n\n  append(char, key) {\n    return form.append.call(this, char, key);\n  }\n\n  delete(char, key) {\n    return form.delete.call(this, char, key);\n  }\n\n  space(char) {\n    return this.focused.editable ? this.append(char) : super.space();\n  }\n\n  number(char) {\n    return this.focused.editable ? this.append(char) : super.number(char);\n  }\n\n  next() {\n    return this.focused.editable ? form.next.call(this) : super.next();\n  }\n\n  prev() {\n    return this.focused.editable ? form.prev.call(this) : super.prev();\n  }\n\n  async indicator(choice, i) {\n    let symbol = choice.indicator || '';\n    let value = choice.editable ? symbol : super.indicator(choice, i);\n    return await this.resolve(value, this.state, choice, i) || '';\n  }\n\n  indent(choice) {\n    return choice.role === 'heading' ? '' : (choice.editable ? ' ' : '  ');\n  }\n\n  async renderChoice(choice, i) {\n    choice.indent = '';\n    if (choice.editable) return form.renderChoice.call(this, choice, i);\n    return super.renderChoice(choice, i);\n  }\n\n  error() {\n    return '';\n  }\n\n  footer() {\n    return this.state.error;\n  }\n\n  async validate() {\n    let result = true;\n\n    for (let choice of this.choices) {\n      if (typeof choice.validate !== 'function') {\n        continue;\n      }\n\n      if (choice.role === 'heading') {\n        continue;\n      }\n\n      let val = choice.parent ? this.value[choice.parent.name] : this.value;\n\n      if (choice.editable) {\n        val = choice.value === choice.name ? choice.initial || '' : choice.value;\n      } else if (!this.isDisabled(choice)) {\n        val = choice.enabled === true;\n      }\n\n      result = await choice.validate(val, this.state);\n\n      if (result !== true) {\n        break;\n      }\n    }\n\n    if (result !== true) {\n      this.state.error = typeof result === 'string' ? result : 'Invalid Input';\n    }\n\n    return result;\n  }\n\n  submit() {\n    if (this.focused.newChoice === true) return super.submit();\n    if (this.choices.some(ch => ch.newChoice)) {\n      return this.alert();\n    }\n\n    this.value = {};\n\n    for (let choice of this.choices) {\n      let val = choice.parent ? this.value[choice.parent.name] : this.value;\n\n      if (choice.role === 'heading') {\n        this.value[choice.name] = {};\n        continue;\n      }\n\n      if (choice.editable) {\n        val[choice.name] = choice.value === choice.name\n          ? (choice.initial || '')\n          : choice.value;\n\n      } else if (!this.isDisabled(choice)) {\n        val[choice.name] = choice.enabled === true;\n      }\n    }\n\n    return this.base.submit.call(this);\n  }\n}\n\nmodule.exports = Editable;\n","'use strict';\n\nconst Prompt = require('../prompt');\nconst placeholder = require('../placeholder');\nconst { isPrimitive } = require('../utils');\n\nclass StringPrompt extends Prompt {\n  constructor(options) {\n    super(options);\n    this.initial = isPrimitive(this.initial) ? String(this.initial) : '';\n    if (this.initial) this.cursorHide();\n    this.state.prevCursor = 0;\n    this.state.clipboard = [];\n  }\n\n  async keypress(input, key = {}) {\n    let prev = this.state.prevKeypress;\n    this.state.prevKeypress = key;\n    if (this.options.multiline === true && key.name === 'return') {\n      if (!prev || prev.name !== 'return') {\n        return this.append('\\n', key);\n      }\n    }\n    return super.keypress(input, key);\n  }\n\n  moveCursor(n) {\n    this.cursor += n;\n  }\n\n  reset() {\n    this.input = this.value = '';\n    this.cursor = 0;\n    return this.render();\n  }\n\n  dispatch(ch, key) {\n    if (!ch || key.ctrl || key.code) return this.alert();\n    this.append(ch);\n  }\n\n  append(ch) {\n    let { cursor, input } = this.state;\n    this.input = `${input}`.slice(0, cursor) + ch + `${input}`.slice(cursor);\n    this.moveCursor(String(ch).length);\n    this.render();\n  }\n\n  insert(str) {\n    this.append(str);\n  }\n\n  delete() {\n    let { cursor, input } = this.state;\n    if (cursor <= 0) return this.alert();\n    this.input = `${input}`.slice(0, cursor - 1) + `${input}`.slice(cursor);\n    this.moveCursor(-1);\n    this.render();\n  }\n\n  deleteForward() {\n    let { cursor, input } = this.state;\n    if (input[cursor] === void 0) return this.alert();\n    this.input = `${input}`.slice(0, cursor) + `${input}`.slice(cursor + 1);\n    this.render();\n  }\n\n  cutForward() {\n    let pos = this.cursor;\n    if (this.input.length <= pos) return this.alert();\n    this.state.clipboard.push(this.input.slice(pos));\n    this.input = this.input.slice(0, pos);\n    this.render();\n  }\n\n  cutLeft() {\n    let pos = this.cursor;\n    if (pos === 0) return this.alert();\n    let before = this.input.slice(0, pos);\n    let after = this.input.slice(pos);\n    let words = before.split(' ');\n    this.state.clipboard.push(words.pop());\n    this.input = words.join(' ');\n    this.cursor = this.input.length;\n    this.input += after;\n    this.render();\n  }\n\n  paste() {\n    if (!this.state.clipboard.length) return this.alert();\n    this.insert(this.state.clipboard.pop());\n    this.render();\n  }\n\n  toggleCursor() {\n    if (this.state.prevCursor) {\n      this.cursor = this.state.prevCursor;\n      this.state.prevCursor = 0;\n    } else {\n      this.state.prevCursor = this.cursor;\n      this.cursor = 0;\n    }\n    this.render();\n  }\n\n  first() {\n    this.cursor = 0;\n    this.render();\n  }\n\n  last() {\n    this.cursor = this.input.length - 1;\n    this.render();\n  }\n\n  next() {\n    let init = this.initial != null ? String(this.initial) : '';\n    if (!init || !init.startsWith(this.input)) return this.alert();\n    this.input = this.initial;\n    this.cursor = this.initial.length;\n    this.render();\n  }\n\n  prev() {\n    if (!this.input) return this.alert();\n    this.reset();\n  }\n\n  backward() {\n    return this.left();\n  }\n\n  forward() {\n    return this.right();\n  }\n\n  right() {\n    if (this.cursor >= this.input.length) return this.alert();\n    this.moveCursor(1);\n    return this.render();\n  }\n\n  left() {\n    if (this.cursor <= 0) return this.alert();\n    this.moveCursor(-1);\n    return this.render();\n  }\n\n  isValue(value) {\n    return !!value;\n  }\n\n  async format(input = this.value) {\n    let initial = await this.resolve(this.initial, this.state);\n    if (!this.state.submitted) {\n      return placeholder(this, { input, initial, pos: this.cursor });\n    }\n    return this.styles.submitted(input || initial);\n  }\n\n  async render() {\n    let size = this.state.size;\n\n    let prefix = await this.prefix();\n    let separator = await this.separator();\n    let message = await this.message();\n\n    let prompt = [prefix, message, separator].filter(Boolean).join(' ');\n    this.state.prompt = prompt;\n\n    let header = await this.header();\n    let output = await this.format();\n    let help = (await this.error()) || (await this.hint());\n    let footer = await this.footer();\n\n    if (help && !output.includes(help)) output += ' ' + help;\n    prompt += ' ' + output;\n\n    this.clear(size);\n    this.write([header, prompt, footer].filter(Boolean).join('\\n'));\n    this.restore();\n  }\n}\n\nmodule.exports = StringPrompt;\n","'use strict';\n\nconst unique = arr => arr.filter((v, i) => arr.lastIndexOf(v) === i);\nconst compact = arr => unique(arr).filter(Boolean);\n\nmodule.exports = (action, data = {}, value = '') => {\n  let { past = [], present = '' } = data;\n  let rest, prev;\n\n  switch (action) {\n    case 'prev':\n    case 'undo':\n      rest = past.slice(0, past.length - 1);\n      prev = past[past.length - 1] || '';\n      return {\n        past: compact([value, ...rest]),\n        present: prev\n      };\n\n    case 'next':\n    case 'redo':\n      rest = past.slice(1);\n      prev = past[0] || '';\n      return {\n        past: compact([...rest, value]),\n        present: prev\n      };\n\n    case 'save':\n      return {\n        past: compact([...past, value]),\n        present: ''\n      };\n\n    case 'remove':\n      prev = compact(past.filter(v => v !== value));\n      present = '';\n\n      if (prev.length) {\n        present = prev.pop();\n      }\n\n      return {\n        past: prev,\n        present\n      };\n\n    default: {\n      throw new Error(`Invalid action: \"${action}\"`);\n    }\n  }\n};\n","'use strict';\n\nconst Prompt = require('../types/string');\nconst completer = require('../completer');\n\nclass Input extends Prompt {\n  constructor(options) {\n    super(options);\n    let history = this.options.history;\n    if (history && history.store) {\n      let initial = history.values || this.initial;\n      this.autosave = !!history.autosave;\n      this.store = history.store;\n      this.data = this.store.get('values') || { past: [], present: initial };\n      this.initial = this.data.present || this.data.past[this.data.past.length - 1];\n    }\n  }\n\n  completion(action) {\n    if (!this.store) return this.alert();\n    this.data = completer(action, this.data, this.input);\n    if (!this.data.present) return this.alert();\n    this.input = this.data.present;\n    this.cursor = this.input.length;\n    return this.render();\n  }\n\n  altUp() {\n    return this.completion('prev');\n  }\n\n  altDown() {\n    return this.completion('next');\n  }\n\n  prev() {\n    this.save();\n    return super.prev();\n  }\n\n  save() {\n    if (!this.store) return;\n    this.data = completer('save', this.data, this.input);\n    this.store.set('values', this.data);\n  }\n\n  submit() {\n    if (this.store && this.autosave === true) {\n      this.save();\n    }\n    return super.submit();\n  }\n}\n\nmodule.exports = Input;\n","'use strict';\n\nconst StringPrompt = require('../types/string');\n\nclass InvisiblePrompt extends StringPrompt {\n  format() {\n    return '';\n  }\n}\n\nmodule.exports = InvisiblePrompt;\n","'use strict';\n\nconst StringPrompt = require('../types/string');\n\nclass ListPrompt extends StringPrompt {\n  constructor(options = {}) {\n    super(options);\n    this.sep = this.options.separator || /, */;\n    this.initial = options.initial || '';\n  }\n\n  split(input = this.value) {\n    return input ? String(input).split(this.sep) : [];\n  }\n\n  format() {\n    let style = this.state.submitted ? this.styles.primary : val => val;\n    return this.list.map(style).join(', ');\n  }\n\n  async submit(value) {\n    let result = this.state.error || await this.validate(this.list, this.state);\n    if (result !== true) {\n      this.state.error = result;\n      return super.submit();\n    }\n    this.value = this.list;\n    return super.submit();\n  }\n\n  get list() {\n    return this.split();\n  }\n}\n\nmodule.exports = ListPrompt;\n","'use strict';\n\nconst Select = require('./select');\n\nclass MultiSelect extends Select {\n  constructor(options) {\n    super({ ...options, multiple: true });\n  }\n}\n\nmodule.exports = MultiSelect;\n","'use strict';\n\nconst StringPrompt = require('./string');\n\nclass NumberPrompt extends StringPrompt {\n  constructor(options = {}) {\n    super({ style: 'number', ...options });\n    this.min = this.isValue(options.min) ? this.toNumber(options.min) : -Infinity;\n    this.max = this.isValue(options.max) ? this.toNumber(options.max) : Infinity;\n    this.delay = options.delay != null ? options.delay : 1000;\n    this.float = options.float !== false;\n    this.round = options.round === true || options.float === false;\n    this.major = options.major || 10;\n    this.minor = options.minor || 1;\n    this.initial = options.initial != null ? options.initial : '';\n    this.input = String(this.initial);\n    this.cursor = this.input.length;\n    this.cursorShow();\n  }\n\n  append(ch) {\n    if (!/[-+.]/.test(ch) || (ch === '.' && this.input.includes('.'))) {\n      return this.alert('invalid number');\n    }\n    return super.append(ch);\n  }\n\n  number(ch) {\n    return super.append(ch);\n  }\n\n  next() {\n    if (this.input && this.input !== this.initial) return this.alert();\n    if (!this.isValue(this.initial)) return this.alert();\n    this.input = this.initial;\n    this.cursor = String(this.initial).length;\n    return this.render();\n  }\n\n  up(number) {\n    let step = number || this.minor;\n    let num = this.toNumber(this.input);\n    if (num > this.max + step) return this.alert();\n    this.input = `${num + step}`;\n    return this.render();\n  }\n\n  down(number) {\n    let step = number || this.minor;\n    let num = this.toNumber(this.input);\n    if (num < this.min - step) return this.alert();\n    this.input = `${num - step}`;\n    return this.render();\n  }\n\n  shiftDown() {\n    return this.down(this.major);\n  }\n\n  shiftUp() {\n    return this.up(this.major);\n  }\n\n  format(input = this.input) {\n    if (typeof this.options.format === 'function') {\n      return this.options.format.call(this, input);\n    }\n    return this.styles.info(input);\n  }\n\n  toNumber(value = '') {\n    return this.float ? +value : Math.round(+value);\n  }\n\n  isValue(value) {\n    return /^[-+]?[0-9]+((\\.)|(\\.[0-9]+))?$/.test(value);\n  }\n\n  submit() {\n    let value = [this.input, this.initial].find(v => this.isValue(v));\n    this.value = this.toNumber(value || 0);\n    return super.submit();\n  }\n}\n\nmodule.exports = NumberPrompt;\n","module.exports = require('../types/number');\n","'use strict';\n\nconst StringPrompt = require('../types/string');\n\nclass PasswordPrompt extends StringPrompt {\n  constructor(options) {\n    super(options);\n    this.cursorShow();\n  }\n\n  format(input = this.input) {\n    if (!this.keypressed) return '';\n    let color = this.state.submitted ? this.styles.primary : this.styles.muted;\n    return color(this.symbols.asterisk.repeat(input.length));\n  }\n}\n\nmodule.exports = PasswordPrompt;\n","'use strict';\n\nconst colors = require('ansi-colors');\nconst ArrayPrompt = require('../types/array');\nconst utils = require('../utils');\n\nclass LikertScale extends ArrayPrompt {\n  constructor(options = {}) {\n    super(options);\n    this.widths = [].concat(options.messageWidth || 50);\n    this.align = [].concat(options.align || 'left');\n    this.linebreak = options.linebreak || false;\n    this.edgeLength = options.edgeLength || 3;\n    this.newline = options.newline || '\\n   ';\n    let start = options.startNumber || 1;\n    if (typeof this.scale === 'number') {\n      this.scaleKey = false;\n      this.scale = Array(this.scale).fill(0).map((v, i) => ({ name: i + start }));\n    }\n  }\n\n  async reset() {\n    this.tableized = false;\n    await super.reset();\n    return this.render();\n  }\n\n  tableize() {\n    if (this.tableized === true) return;\n    this.tableized = true;\n    let longest = 0;\n\n    for (let ch of this.choices) {\n      longest = Math.max(longest, ch.message.length);\n      ch.scaleIndex = ch.initial || 2;\n      ch.scale = [];\n\n      for (let i = 0; i < this.scale.length; i++) {\n        ch.scale.push({ index: i });\n      }\n    }\n    this.widths[0] = Math.min(this.widths[0], longest + 3);\n  }\n\n  async dispatch(s, key) {\n    if (this.multiple) {\n      return this[key.name] ? await this[key.name](s, key) : await super.dispatch(s, key);\n    }\n    this.alert();\n  }\n\n  heading(msg, item, i) {\n    return this.styles.strong(msg);\n  }\n\n  separator() {\n    return this.styles.muted(this.symbols.ellipsis);\n  }\n\n  right() {\n    let choice = this.focused;\n    if (choice.scaleIndex >= this.scale.length - 1) return this.alert();\n    choice.scaleIndex++;\n    return this.render();\n  }\n\n  left() {\n    let choice = this.focused;\n    if (choice.scaleIndex <= 0) return this.alert();\n    choice.scaleIndex--;\n    return this.render();\n  }\n\n  indent() {\n    return '';\n  }\n\n  format() {\n    if (this.state.submitted) {\n      let values = this.choices.map(ch => this.styles.info(ch.index));\n      return values.join(', ');\n    }\n    return '';\n  }\n\n  pointer() {\n    return '';\n  }\n\n  /**\n   * Render the scale \"Key\". Something like:\n   * @return {String}\n   */\n\n  renderScaleKey() {\n    if (this.scaleKey === false) return '';\n    if (this.state.submitted) return '';\n    let scale = this.scale.map(item => `   ${item.name} - ${item.message}`);\n    let key = ['', ...scale].map(item => this.styles.muted(item));\n    return key.join('\\n');\n  }\n\n  /**\n   * Render the heading row for the scale.\n   * @return {String}\n   */\n\n  renderScaleHeading(max) {\n    let keys = this.scale.map(ele => ele.name);\n    if (typeof this.options.renderScaleHeading === 'function') {\n      keys = this.options.renderScaleHeading.call(this, max);\n    }\n    let diff = this.scaleLength - keys.join('').length;\n    let spacing = Math.round(diff / (keys.length - 1));\n    let names = keys.map(key => this.styles.strong(key));\n    let headings = names.join(' '.repeat(spacing));\n    let padding = ' '.repeat(this.widths[0]);\n    return this.margin[3] + padding + this.margin[1] + headings;\n  }\n\n  /**\n   * Render a scale indicator => ◯ or ◉ by default\n   */\n\n  scaleIndicator(choice, item, i) {\n    if (typeof this.options.scaleIndicator === 'function') {\n      return this.options.scaleIndicator.call(this, choice, item, i);\n    }\n    let enabled = choice.scaleIndex === item.index;\n    if (item.disabled) return this.styles.hint(this.symbols.radio.disabled);\n    if (enabled) return this.styles.success(this.symbols.radio.on);\n    return this.symbols.radio.off;\n  }\n\n  /**\n   * Render the actual scale => ◯────◯────◉────◯────◯\n   */\n\n  renderScale(choice, i) {\n    let scale = choice.scale.map(item => this.scaleIndicator(choice, item, i));\n    let padding = this.term === 'Hyper' ? '' : ' ';\n    return scale.join(padding + this.symbols.line.repeat(this.edgeLength));\n  }\n\n  /**\n   * Render a choice, including scale =>\n   *   \"The website is easy to navigate. ◯───◯───◉───◯───◯\"\n   */\n\n  async renderChoice(choice, i) {\n    await this.onChoice(choice, i);\n\n    let focused = this.index === i;\n    let pointer = await this.pointer(choice, i);\n    let hint = await choice.hint;\n\n    if (hint && !utils.hasColor(hint)) {\n      hint = this.styles.muted(hint);\n    }\n\n    let pad = str => this.margin[3] + str.replace(/\\s+$/, '').padEnd(this.widths[0], ' ');\n    let newline = this.newline;\n    let ind = this.indent(choice);\n    let message = await this.resolve(choice.message, this.state, choice, i);\n    let scale = await this.renderScale(choice, i);\n    let margin = this.margin[1] + this.margin[3];\n    this.scaleLength = colors.unstyle(scale).length;\n    this.widths[0] = Math.min(this.widths[0], this.width - this.scaleLength - margin.length);\n    let msg = utils.wordWrap(message, { width: this.widths[0], newline });\n    let lines = msg.split('\\n').map(line => pad(line) + this.margin[1]);\n\n    if (focused) {\n      scale = this.styles.info(scale);\n      lines = lines.map(line => this.styles.info(line));\n    }\n\n    lines[0] += scale;\n\n    if (this.linebreak) lines.push('');\n    return [ind + pointer, lines.join('\\n')].filter(Boolean);\n  }\n\n  async renderChoices() {\n    if (this.state.submitted) return '';\n    this.tableize();\n    let choices = this.visible.map(async(ch, i) => await this.renderChoice(ch, i));\n    let visible = await Promise.all(choices);\n    let heading = await this.renderScaleHeading();\n    return this.margin[0] + [heading, ...visible.map(v => v.join(' '))].join('\\n');\n  }\n\n  async render() {\n    let { submitted, size } = this.state;\n\n    let prefix = await this.prefix();\n    let separator = await this.separator();\n    let message = await this.message();\n\n    let prompt = '';\n    if (this.options.promptLine !== false) {\n      prompt = [prefix, message, separator, ''].join(' ');\n      this.state.prompt = prompt;\n    }\n\n    let header = await this.header();\n    let output = await this.format();\n    let key = await this.renderScaleKey();\n    let help = await this.error() || await this.hint();\n    let body = await this.renderChoices();\n    let footer = await this.footer();\n    let err = this.emptyError;\n\n    if (output) prompt += output;\n    if (help && !prompt.includes(help)) prompt += ' ' + help;\n\n    if (submitted && !output && !body.trim() && this.multiple && err != null) {\n      prompt += this.styles.danger(err);\n    }\n\n    this.clear(size);\n    this.write([header, prompt, key, body, footer].filter(Boolean).join('\\n'));\n    if (!this.state.submitted) {\n      this.write(this.margin[2]);\n    }\n    this.restore();\n  }\n\n  submit() {\n    this.value = {};\n    for (let choice of this.choices) {\n      this.value[choice.name] = choice.scaleIndex;\n    }\n    return this.base.submit.call(this);\n  }\n}\n\nmodule.exports = LikertScale;\n","'use strict';\n\nconst colors = require('ansi-colors');\nconst clean = (str = '') => {\n  return typeof str === 'string' ? str.replace(/^['\"]|['\"]$/g, '') : '';\n};\n\n/**\n * This file contains the interpolation and rendering logic for\n * the Snippet prompt.\n */\n\nclass Item {\n  constructor(token) {\n    this.name = token.key;\n    this.field = token.field || {};\n    this.value = clean(token.initial || this.field.initial || '');\n    this.message = token.message || this.name;\n    this.cursor = 0;\n    this.input = '';\n    this.lines = [];\n  }\n}\n\nconst tokenize = async(options = {}, defaults = {}, fn = token => token) => {\n  let unique = new Set();\n  let fields = options.fields || [];\n  let input = options.template;\n  let tabstops = [];\n  let items = [];\n  let keys = [];\n  let line = 1;\n\n  if (typeof input === 'function') {\n    input = await input();\n  }\n\n  let i = -1;\n  let next = () => input[++i];\n  let peek = () => input[i + 1];\n  let push = token => {\n    token.line = line;\n    tabstops.push(token);\n  };\n\n  push({ type: 'bos', value: '' });\n\n  while (i < input.length - 1) {\n    let value = next();\n\n    if (/^[^\\S\\n ]$/.test(value)) {\n      push({ type: 'text', value });\n      continue;\n    }\n\n    if (value === '\\n') {\n      push({ type: 'newline', value });\n      line++;\n      continue;\n    }\n\n    if (value === '\\\\') {\n      value += next();\n      push({ type: 'text', value });\n      continue;\n    }\n\n    if ((value === '$' || value === '#' || value === '{') && peek() === '{') {\n      let n = next();\n      value += n;\n\n      let token = { type: 'template', open: value, inner: '', close: '', value };\n      let ch;\n\n      while ((ch = next())) {\n        if (ch === '}') {\n          if (peek() === '}') ch += next();\n          token.value += ch;\n          token.close = ch;\n          break;\n        }\n\n        if (ch === ':') {\n          token.initial = '';\n          token.key = token.inner;\n        } else if (token.initial !== void 0) {\n          token.initial += ch;\n        }\n\n        token.value += ch;\n        token.inner += ch;\n      }\n\n      token.template = token.open + (token.initial || token.inner) + token.close;\n      token.key = token.key || token.inner;\n\n      if (defaults.hasOwnProperty(token.key)) {\n        token.initial = defaults[token.key];\n      }\n\n      token = fn(token);\n      push(token);\n\n      keys.push(token.key);\n      unique.add(token.key);\n\n      let item = items.find(item => item.name === token.key);\n      token.field = fields.find(ch => ch.name === token.key);\n\n      if (!item) {\n        item = new Item(token);\n        items.push(item);\n      }\n\n      item.lines.push(token.line - 1);\n      continue;\n    }\n\n    let last = tabstops[tabstops.length - 1];\n    if (last.type === 'text' && last.line === line) {\n      last.value += value;\n    } else {\n      push({ type: 'text', value });\n    }\n  }\n\n  push({ type: 'eos', value: '' });\n  return { input, tabstops, unique, keys, items };\n};\n\nmodule.exports = async prompt => {\n  let options = prompt.options;\n  let required = new Set(options.required === true ? [] : (options.required || []));\n  let defaults = { ...options.values, ...options.initial };\n  let { tabstops, items, keys } = await tokenize(options, defaults);\n\n  let result = createFn('result', prompt, options);\n  let format = createFn('format', prompt, options);\n  let isValid = createFn('validate', prompt, options, true);\n  let isVal = prompt.isValue.bind(prompt);\n\n  return async(state = {}, submitted = false) => {\n    let index = 0;\n\n    state.required = required;\n    state.items = items;\n    state.keys = keys;\n    state.output = '';\n\n    let validate = async(value, state, item, index) => {\n      let error = await isValid(value, state, item, index);\n      if (error === false) {\n        return 'Invalid field ' + item.name;\n      }\n      return error;\n    };\n\n    for (let token of tabstops) {\n      let value = token.value;\n      let key = token.key;\n\n      if (token.type !== 'template') {\n        if (value) state.output += value;\n        continue;\n      }\n\n      if (token.type === 'template') {\n        let item = items.find(ch => ch.name === key);\n\n        if (options.required === true) {\n          state.required.add(item.name);\n        }\n\n        let val = [item.input, state.values[item.value], item.value, value].find(isVal);\n        let field = item.field || {};\n        let message = field.message || token.inner;\n\n        if (submitted) {\n          let error = await validate(state.values[key], state, item, index);\n          if ((error && typeof error === 'string') || error === false) {\n            state.invalid.set(key, error);\n            continue;\n          }\n\n          state.invalid.delete(key);\n          let res = await result(state.values[key], state, item, index);\n          state.output += colors.unstyle(res);\n          continue;\n        }\n\n        item.placeholder = false;\n\n        let before = value;\n        value = await format(value, state, item, index);\n\n        if (val !== value) {\n          state.values[key] = val;\n          value = prompt.styles.typing(val);\n          state.missing.delete(message);\n\n        } else {\n          state.values[key] = void 0;\n          val = `<${message}>`;\n          value = prompt.styles.primary(val);\n          item.placeholder = true;\n\n          if (state.required.has(key)) {\n            state.missing.add(message);\n          }\n        }\n\n        if (state.missing.has(message) && state.validating) {\n          value = prompt.styles.warning(val);\n        }\n\n        if (state.invalid.has(key) && state.validating) {\n          value = prompt.styles.danger(val);\n        }\n\n        if (index === state.index) {\n          if (before !== value) {\n            value = prompt.styles.underline(value);\n          } else {\n            value = prompt.styles.heading(colors.unstyle(value));\n          }\n        }\n\n        index++;\n      }\n\n      if (value) {\n        state.output += value;\n      }\n    }\n\n    let lines = state.output.split('\\n').map(l => ' ' + l);\n    let len = items.length;\n    let done = 0;\n\n    for (let item of items) {\n      if (state.invalid.has(item.name)) {\n        item.lines.forEach(i => {\n          if (lines[i][0] !== ' ') return;\n          lines[i] = state.styles.danger(state.symbols.bullet) + lines[i].slice(1);\n        });\n      }\n\n      if (prompt.isValue(state.values[item.name])) {\n        done++;\n      }\n    }\n\n    state.completed = ((done / len) * 100).toFixed(0);\n    state.output = lines.join('\\n');\n    return state.output;\n  };\n};\n\nfunction createFn(prop, prompt, options, fallback) {\n  return (value, state, item, index) => {\n    if (typeof item.field[prop] === 'function') {\n      return item.field[prop].call(prompt, value, state, item, index);\n    }\n    return [fallback, value].find(v => prompt.isValue(v));\n  };\n}\n","'use strict';\n\nconst colors = require('ansi-colors');\nconst interpolate = require('../interpolate');\nconst Prompt = require('../prompt');\n\nclass SnippetPrompt extends Prompt {\n  constructor(options) {\n    super(options);\n    this.cursorHide();\n    this.reset(true);\n  }\n\n  async initialize() {\n    this.interpolate = await interpolate(this);\n    await super.initialize();\n  }\n\n  async reset(first) {\n    this.state.keys = [];\n    this.state.invalid = new Map();\n    this.state.missing = new Set();\n    this.state.completed = 0;\n    this.state.values = {};\n\n    if (first !== true) {\n      await this.initialize();\n      await this.render();\n    }\n  }\n\n  moveCursor(n) {\n    let item = this.getItem();\n    this.cursor += n;\n    item.cursor += n;\n  }\n\n  dispatch(ch, key) {\n    if (!key.code && !key.ctrl && ch != null && this.getItem()) {\n      this.append(ch, key);\n      return;\n    }\n    this.alert();\n  }\n\n  append(ch, key) {\n    let item = this.getItem();\n    let prefix = item.input.slice(0, this.cursor);\n    let suffix = item.input.slice(this.cursor);\n    this.input = item.input = `${prefix}${ch}${suffix}`;\n    this.moveCursor(1);\n    this.render();\n  }\n\n  delete() {\n    let item = this.getItem();\n    if (this.cursor <= 0 || !item.input) return this.alert();\n    let suffix = item.input.slice(this.cursor);\n    let prefix = item.input.slice(0, this.cursor - 1);\n    this.input = item.input = `${prefix}${suffix}`;\n    this.moveCursor(-1);\n    this.render();\n  }\n\n  increment(i) {\n    return i >= this.state.keys.length - 1 ? 0 : i + 1;\n  }\n\n  decrement(i) {\n    return i <= 0 ? this.state.keys.length - 1 : i - 1;\n  }\n\n  first() {\n    this.state.index = 0;\n    this.render();\n  }\n\n  last() {\n    this.state.index = this.state.keys.length - 1;\n    this.render();\n  }\n\n  right() {\n    if (this.cursor >= this.input.length) return this.alert();\n    this.moveCursor(1);\n    this.render();\n  }\n\n  left() {\n    if (this.cursor <= 0) return this.alert();\n    this.moveCursor(-1);\n    this.render();\n  }\n\n  prev() {\n    this.state.index = this.decrement(this.state.index);\n    this.getItem();\n    this.render();\n  }\n\n  next() {\n    this.state.index = this.increment(this.state.index);\n    this.getItem();\n    this.render();\n  }\n\n  up() {\n    this.prev();\n  }\n\n  down() {\n    this.next();\n  }\n\n  format(value) {\n    let color = this.state.completed < 100 ? this.styles.warning : this.styles.success;\n    if (this.state.submitted === true && this.state.completed !== 100) {\n      color = this.styles.danger;\n    }\n    return color(`${this.state.completed}% completed`);\n  }\n\n  async render() {\n    let { index, keys = [], submitted, size } = this.state;\n\n    let newline = [this.options.newline, '\\n'].find(v => v != null);\n    let prefix = await this.prefix();\n    let separator = await this.separator();\n    let message = await this.message();\n\n    let prompt = [prefix, message, separator].filter(Boolean).join(' ');\n    this.state.prompt = prompt;\n\n    let header = await this.header();\n    let error = (await this.error()) || '';\n    let hint = (await this.hint()) || '';\n    let body = submitted ? '' : await this.interpolate(this.state);\n\n    let key = this.state.key = keys[index] || '';\n    let input = await this.format(key);\n    let footer = await this.footer();\n    if (input) prompt += ' ' + input;\n    if (hint && !input && this.state.completed === 0) prompt += ' ' + hint;\n\n    this.clear(size);\n    let lines = [header, prompt, body, footer, error.trim()];\n    this.write(lines.filter(Boolean).join(newline));\n    this.restore();\n  }\n\n  getItem(name) {\n    let { items, keys, index } = this.state;\n    let item = items.find(ch => ch.name === keys[index]);\n    if (item && item.input != null) {\n      this.input = item.input;\n      this.cursor = item.cursor;\n    }\n    return item;\n  }\n\n  async submit() {\n    if (typeof this.interpolate !== 'function') await this.initialize();\n    await this.interpolate(this.state, true);\n\n    let { invalid, missing, output, values } = this.state;\n    if (invalid.size) {\n      let err = '';\n      for (let [key, value] of invalid) err += `Invalid ${key}: ${value}\\n`;\n      this.state.error = err;\n      return super.submit();\n    }\n\n    if (missing.size) {\n      this.state.error = 'Required: ' + [...missing.keys()].join(', ');\n      return super.submit();\n    }\n\n    let lines = colors.unstyle(output).split('\\n');\n    let result = lines.map(v => v.slice(1)).join('\\n');\n    this.value = { values, result };\n    return super.submit();\n  }\n}\n\nmodule.exports = SnippetPrompt;\n","'use strict';\n\nconst hint = '(Use <shift>+<up/down> to sort)';\nconst Prompt = require('./select');\n\nclass Sort extends Prompt {\n  constructor(options) {\n    super({ ...options, reorder: false, sort: true, multiple: true });\n    this.state.hint = [this.options.hint, hint].find(this.isValue.bind(this));\n  }\n\n  indicator() {\n    return '';\n  }\n\n  async renderChoice(choice, i) {\n    let str = await super.renderChoice(choice, i);\n    let sym = this.symbols.identicalTo + ' ';\n    let pre = (this.index === i && this.sorting) ? this.styles.muted(sym) : '  ';\n    if (this.options.drag === false) pre = '';\n    if (this.options.numbered === true) {\n      return pre + `${i + 1} - ` + str;\n    }\n    return pre + str;\n  }\n\n  get selected() {\n    return this.choices;\n  }\n\n  submit() {\n    this.value = this.choices.map(choice => choice.value);\n    return super.submit();\n  }\n}\n\nmodule.exports = Sort;\n","'use strict';\n\nconst ArrayPrompt = require('../types/array');\n\nclass Survey extends ArrayPrompt {\n  constructor(options = {}) {\n    super(options);\n    this.emptyError = options.emptyError || 'No items were selected';\n    this.term = process.env.TERM_PROGRAM;\n\n    if (!this.options.header) {\n      let header = ['', '4 - Strongly Agree', '3 - Agree', '2 - Neutral', '1 - Disagree', '0 - Strongly Disagree', ''];\n      header = header.map(ele => this.styles.muted(ele));\n      this.state.header = header.join('\\n   ');\n    }\n  }\n\n  async toChoices(...args) {\n    if (this.createdScales) return false;\n    this.createdScales = true;\n    let choices = await super.toChoices(...args);\n    for (let choice of choices) {\n      choice.scale = createScale(5, this.options);\n      choice.scaleIdx = 2;\n    }\n    return choices;\n  }\n\n  dispatch() {\n    this.alert();\n  }\n\n  space() {\n    let choice = this.focused;\n    let ele = choice.scale[choice.scaleIdx];\n    let selected = ele.selected;\n    choice.scale.forEach(e => (e.selected = false));\n    ele.selected = !selected;\n    return this.render();\n  }\n\n  indicator() {\n    return '';\n  }\n\n  pointer() {\n    return '';\n  }\n\n  separator() {\n    return this.styles.muted(this.symbols.ellipsis);\n  }\n\n  right() {\n    let choice = this.focused;\n    if (choice.scaleIdx >= choice.scale.length - 1) return this.alert();\n    choice.scaleIdx++;\n    return this.render();\n  }\n\n  left() {\n    let choice = this.focused;\n    if (choice.scaleIdx <= 0) return this.alert();\n    choice.scaleIdx--;\n    return this.render();\n  }\n\n  indent() {\n    return '   ';\n  }\n\n  async renderChoice(item, i) {\n    await this.onChoice(item, i);\n    let focused = this.index === i;\n    let isHyper = this.term === 'Hyper';\n    let n = !isHyper ? 8 : 9;\n    let s = !isHyper ? ' ' : '';\n    let ln = this.symbols.line.repeat(n);\n    let sp = ' '.repeat(n + (isHyper ? 0 : 1));\n    let dot = enabled => (enabled ? this.styles.success('◉') : '◯') + s;\n\n    let num = i + 1 + '.';\n    let color = focused ? this.styles.heading : this.styles.noop;\n    let msg = await this.resolve(item.message, this.state, item, i);\n    let indent = this.indent(item);\n    let scale = indent + item.scale.map((e, i) => dot(i === item.scaleIdx)).join(ln);\n    let val = i => i === item.scaleIdx ? color(i) : i;\n    let next = indent + item.scale.map((e, i) => val(i)).join(sp);\n\n    let line = () => [num, msg].filter(Boolean).join(' ');\n    let lines = () => [line(), scale, next, ' '].filter(Boolean).join('\\n');\n\n    if (focused) {\n      scale = this.styles.cyan(scale);\n      next = this.styles.cyan(next);\n    }\n\n    return lines();\n  }\n\n  async renderChoices() {\n    if (this.state.submitted) return '';\n    let choices = this.visible.map(async(ch, i) => await this.renderChoice(ch, i));\n    let visible = await Promise.all(choices);\n    if (!visible.length) visible.push(this.styles.danger('No matching choices'));\n    return visible.join('\\n');\n  }\n\n  format() {\n    if (this.state.submitted) {\n      let values = this.choices.map(ch => this.styles.info(ch.scaleIdx));\n      return values.join(', ');\n    }\n    return '';\n  }\n\n  async render() {\n    let { submitted, size } = this.state;\n\n    let prefix = await this.prefix();\n    let separator = await this.separator();\n    let message = await this.message();\n\n    let prompt = [prefix, message, separator].filter(Boolean).join(' ');\n    this.state.prompt = prompt;\n\n    let header = await this.header();\n    let output = await this.format();\n    let help = await this.error() || await this.hint();\n    let body = await this.renderChoices();\n    let footer = await this.footer();\n\n    if (output || !help) prompt += ' ' + output;\n    if (help && !prompt.includes(help)) prompt += ' ' + help;\n\n    if (submitted && !output && !body && this.multiple && this.type !== 'form') {\n      prompt += this.styles.danger(this.emptyError);\n    }\n\n    this.clear(size);\n    this.write([prompt, header, body, footer].filter(Boolean).join('\\n'));\n    this.restore();\n  }\n\n  submit() {\n    this.value = {};\n    for (let choice of this.choices) {\n      this.value[choice.name] = choice.scaleIdx;\n    }\n    return this.base.submit.call(this);\n  }\n}\n\nfunction createScale(n, options = {}) {\n  if (Array.isArray(options.scale)) {\n    return options.scale.map(ele => ({ ...ele }));\n  }\n  let scale = [];\n  for (let i = 1; i < n + 1; i++) scale.push({ i, selected: false });\n  return scale;\n}\n\nmodule.exports = Survey;\n","module.exports = require('./input');\n","'use strict';\n\nconst BooleanPrompt = require('../types/boolean');\n\nclass TogglePrompt extends BooleanPrompt {\n  async initialize() {\n    await super.initialize();\n    this.value = this.initial = !!this.options.initial;\n    this.disabled = this.options.disabled || 'no';\n    this.enabled = this.options.enabled || 'yes';\n    await this.render();\n  }\n\n  reset() {\n    this.value = this.initial;\n    this.render();\n  }\n\n  delete() {\n    this.alert();\n  }\n\n  toggle() {\n    this.value = !this.value;\n    this.render();\n  }\n\n  enable() {\n    if (this.value === true) return this.alert();\n    this.value = true;\n    this.render();\n  }\n  disable() {\n    if (this.value === false) return this.alert();\n    this.value = false;\n    this.render();\n  }\n\n  up() {\n    this.toggle();\n  }\n  down() {\n    this.toggle();\n  }\n  right() {\n    this.toggle();\n  }\n  left() {\n    this.toggle();\n  }\n  next() {\n    this.toggle();\n  }\n  prev() {\n    this.toggle();\n  }\n\n  dispatch(ch = '', key) {\n    switch (ch.toLowerCase()) {\n      case ' ':\n        return this.toggle();\n      case '1':\n      case 'y':\n      case 't':\n        return this.enable();\n      case '0':\n      case 'n':\n      case 'f':\n        return this.disable();\n      default: {\n        return this.alert();\n      }\n    }\n  }\n\n  format() {\n    let active = str => this.styles.primary.underline(str);\n    let value = [\n      this.value ? this.disabled : active(this.disabled),\n      this.value ? active(this.enabled) : this.enabled\n    ];\n    return value.join(this.styles.muted(' / '));\n  }\n\n  async render() {\n    let { size } = this.state;\n\n    let header = await this.header();\n    let prefix = await this.prefix();\n    let separator = await this.separator();\n    let message = await this.message();\n\n    let output = await this.format();\n    let help = (await this.error()) || (await this.hint());\n    let footer = await this.footer();\n\n    let prompt = [prefix, message, separator, output].join(' ');\n    this.state.prompt = prompt;\n\n    if (help && !prompt.includes(help)) prompt += ' ' + help;\n\n    this.clear(size);\n    this.write([header, prompt, footer].filter(Boolean).join('\\n'));\n    this.write(this.margin[2]);\n    this.restore();\n  }\n}\n\nmodule.exports = TogglePrompt;\n","'use strict';\n\nconst SelectPrompt = require('./select');\n\nclass Quiz extends SelectPrompt {\n  constructor(options) {\n    super(options);\n    if (typeof this.options.correctChoice !== 'number' || this.options.correctChoice < 0) {\n      throw new Error('Please specify the index of the correct answer from the list of choices');\n    }\n  }\n\n  async toChoices(value, parent) {\n    let choices = await super.toChoices(value, parent);\n    if (choices.length < 2) {\n      throw new Error('Please give at least two choices to the user');\n    }\n    if (this.options.correctChoice > choices.length) {\n      throw new Error('Please specify the index of the correct answer from the list of choices');\n    }\n    return choices;\n  }\n\n  check(state) {\n    return state.index === this.options.correctChoice;\n  }\n\n  async result(selected) {\n    return {\n      selectedAnswer: selected,\n      correctAnswer: this.options.choices[this.options.correctChoice].value,\n      correct: await this.check(this.state)\n    };\n  }\n}\n\nmodule.exports = Quiz;\n","'use strict';\n\nconst utils = require('../utils');\n\nconst define = (key, fn) => {\n  utils.defineExport(exports, key, fn);\n  utils.defineExport(exports, key.toLowerCase(), fn);\n};\n\ndefine('AutoComplete', () => require('./autocomplete'));\ndefine('BasicAuth', () => require('./basicauth'));\ndefine('Confirm', () => require('./confirm'));\ndefine('Editable', () => require('./editable'));\ndefine('Form', () => require('./form'));\ndefine('Input', () => require('./input'));\ndefine('Invisible', () => require('./invisible'));\ndefine('List', () => require('./list'));\ndefine('MultiSelect', () => require('./multiselect'));\ndefine('Numeral', () => require('./numeral'));\ndefine('Password', () => require('./password'));\ndefine('Scale', () => require('./scale'));\ndefine('Select', () => require('./select'));\ndefine('Snippet', () => require('./snippet'));\ndefine('Sort', () => require('./sort'));\ndefine('Survey', () => require('./survey'));\ndefine('Text', () => require('./text'));\ndefine('Toggle', () => require('./toggle'));\ndefine('Quiz', () => require('./quiz'));\n","module.exports = {\n  ArrayPrompt: require('./array'),\n  AuthPrompt: require('./auth'),\n  BooleanPrompt: require('./boolean'),\n  NumberPrompt: require('./number'),\n  StringPrompt: require('./string')\n};\n","'use strict';\n\nconst assert = require('assert');\nconst Events = require('events');\nconst utils = require('./lib/utils');\n\n/**\n * Create an instance of `Enquirer`.\n *\n * ```js\n * const Enquirer = require('enquirer');\n * const enquirer = new Enquirer();\n * ```\n * @name Enquirer\n * @param {Object} `options` (optional) Options to use with all prompts.\n * @param {Object} `answers` (optional) Answers object to initialize with.\n * @api public\n */\n\nclass Enquirer extends Events {\n  constructor(options, answers) {\n    super();\n    this.options = utils.merge({}, options);\n    this.answers = { ...answers };\n  }\n\n  /**\n   * Register a custom prompt type.\n   *\n   * ```js\n   * const Enquirer = require('enquirer');\n   * const enquirer = new Enquirer();\n   * enquirer.register('customType', require('./custom-prompt'));\n   * ```\n   * @name register()\n   * @param {String} `type`\n   * @param {Function|Prompt} `fn` `Prompt` class, or a function that returns a `Prompt` class.\n   * @return {Object} Returns the Enquirer instance\n   * @api public\n   */\n\n  register(type, fn) {\n    if (utils.isObject(type)) {\n      for (let key of Object.keys(type)) this.register(key, type[key]);\n      return this;\n    }\n    assert.equal(typeof fn, 'function', 'expected a function');\n    let name = type.toLowerCase();\n    if (fn.prototype instanceof this.Prompt) {\n      this.prompts[name] = fn;\n    } else {\n      this.prompts[name] = fn(this.Prompt, this);\n    }\n    return this;\n  }\n\n  /**\n   * Prompt function that takes a \"question\" object or array of question objects,\n   * and returns an object with responses from the user.\n   *\n   * ```js\n   * const Enquirer = require('enquirer');\n   * const enquirer = new Enquirer();\n   *\n   * const response = await enquirer.prompt({\n   *   type: 'input',\n   *   name: 'username',\n   *   message: 'What is your username?'\n   * });\n   * console.log(response);\n   * ```\n   * @name prompt()\n   * @param {Array|Object} `questions` Options objects for one or more prompts to run.\n   * @return {Promise} Promise that returns an \"answers\" object with the user's responses.\n   * @api public\n   */\n\n  async prompt(questions = []) {\n    for (let question of [].concat(questions)) {\n      try {\n        if (typeof question === 'function') question = await question.call(this);\n        await this.ask(utils.merge({}, this.options, question));\n      } catch (err) {\n        return Promise.reject(err);\n      }\n    }\n    return this.answers;\n  }\n\n  async ask(question) {\n    if (typeof question === 'function') {\n      question = await question.call(this);\n    }\n\n    let opts = utils.merge({}, this.options, question);\n    let { type, name } = question;\n    let { set, get } = utils;\n\n    if (typeof type === 'function') {\n      type = await type.call(this, question, this.answers);\n    }\n\n    if (!type) return this.answers[name];\n\n    assert(this.prompts[type], `Prompt \"${type}\" is not registered`);\n\n    let prompt = new this.prompts[type](opts);\n    let value = get(this.answers, name);\n\n    prompt.state.answers = this.answers;\n    prompt.enquirer = this;\n\n    if (name) {\n      prompt.on('submit', value => {\n        this.emit('answer', name, value, prompt);\n        set(this.answers, name, value);\n      });\n    }\n\n    // bubble events\n    let emit = prompt.emit.bind(prompt);\n    prompt.emit = (...args) => {\n      this.emit.call(this, ...args);\n      return emit(...args);\n    };\n\n    this.emit('prompt', prompt, this);\n\n    if (opts.autofill && value != null) {\n      prompt.value = prompt.input = value;\n\n      // if \"autofill=show\" render the prompt, otherwise stay \"silent\"\n      if (opts.autofill === 'show') {\n        await prompt.submit();\n      }\n    } else {\n      value = prompt.value = await prompt.run();\n    }\n\n    return value;\n  }\n\n  /**\n   * Use an enquirer plugin.\n   *\n   * ```js\n   * const Enquirer = require('enquirer');\n   * const enquirer = new Enquirer();\n   * const plugin = enquirer => {\n   *   // do stuff to enquire instance\n   * };\n   * enquirer.use(plugin);\n   * ```\n   * @name use()\n   * @param {Function} `plugin` Plugin function that takes an instance of Enquirer.\n   * @return {Object} Returns the Enquirer instance.\n   * @api public\n   */\n\n  use(plugin) {\n    plugin.call(this, this);\n    return this;\n  }\n\n  set Prompt(value) {\n    this._Prompt = value;\n  }\n  get Prompt() {\n    return this._Prompt || this.constructor.Prompt;\n  }\n\n  get prompts() {\n    return this.constructor.prompts;\n  }\n\n  static set Prompt(value) {\n    this._Prompt = value;\n  }\n  static get Prompt() {\n    return this._Prompt || require('./lib/prompt');\n  }\n\n  static get prompts() {\n    return require('./lib/prompts');\n  }\n\n  static get types() {\n    return require('./lib/types');\n  }\n\n  /**\n   * Prompt function that takes a \"question\" object or array of question objects,\n   * and returns an object with responses from the user.\n   *\n   * ```js\n   * const { prompt } = require('enquirer');\n   * const response = await prompt({\n   *   type: 'input',\n   *   name: 'username',\n   *   message: 'What is your username?'\n   * });\n   * console.log(response);\n   * ```\n   * @name Enquirer#prompt\n   * @param {Array|Object} `questions` Options objects for one or more prompts to run.\n   * @return {Promise} Promise that returns an \"answers\" object with the user's responses.\n   * @api public\n   */\n\n  static get prompt() {\n    const fn = (questions, ...rest) => {\n      let enquirer = new this(...rest);\n      let emit = enquirer.emit.bind(enquirer);\n      enquirer.emit = (...args) => {\n        fn.emit(...args);\n        return emit(...args);\n      };\n      return enquirer.prompt(questions);\n    };\n    utils.mixinEmitter(fn, new Events());\n    return fn;\n  }\n}\n\nutils.mixinEmitter(Enquirer, new Events());\nconst prompts = Enquirer.prompts;\n\nfor (let name of Object.keys(prompts)) {\n  let key = name.toLowerCase();\n\n  let run = options => new prompts[name](options).run();\n  Enquirer.prompt[key] = run;\n  Enquirer[key] = run;\n\n  if (!Enquirer[name]) {\n    Reflect.defineProperty(Enquirer, name, { get: () => prompts[name] });\n  }\n}\n\nconst exp = name => {\n  utils.defineExport(Enquirer, name, () => Enquirer.types[name]);\n};\n\nexp('ArrayPrompt');\nexp('AuthPrompt');\nexp('BooleanPrompt');\nexp('NumberPrompt');\nexp('StringPrompt');\n\nmodule.exports = Enquirer;\n","const shellRcPaths = [\n    `${process.env.HOME}/.zshrc`,\n    `${process.env.HOME}/.bashrc`,\n    `${process.env.HOME}/.bash_profile`,\n]\n\nmodule.exports = { shellRcPaths };","const colors = require(\"colors/safe\"),\n   config = require(\"../../config\"),\n   enquirer = require(\"enquirer\"),\n   fs = require(\"fs\"),\n   { shellRcPaths } = require(\"../../utils/shell.meta\");\n\n// setup an autocomplete to be used later 🤓\nconst shellRcSelectAutocomplete = new enquirer.AutoComplete({\n   name: \"shellPath\",\n   message: \"What is the path to your shell config?\",\n   stdout: process.stderr,\n   choices: shellRcPaths.map((shellPath) => {\n      return {\n         title: shellPath,\n         value: {\n            shellPath,\n            toString: () => shellPath,\n         },\n      };\n   }),\n});\n\nmodule.exports = function (cli, db, flags, next) {\n   if (flags.install === true) {\n      // Trigger the installation process of the shell command\n      shellRcSelectAutocomplete.run().then(({ shellPath }) => {\n         const rcFileExists = fs.existsSync(shellPath);\n         let bWrite = false;\n\n         try {\n            if (rcFileExists) {\n               const rcFileContents = fs.readFileSync(shellPath);\n\n               if (!rcFileContents) {\n                  throw new Error(\"Could not read the file contents\");\n               } else if (\n                  rcFileContents.includes(\n                     config.shellCommands.shellAliasGetterString\n                  )\n               ) {\n                  console.log(\n                     colors.bold.inverse(\" Seems to be installed already ✅ \")\n                  );\n               } else {\n                  bWrite = true;\n               }\n            } else {\n               bWrite = true;\n            }\n\n            if (bWrite) {\n               fs.appendFileSync(\n                  shellPath,\n                  `\\n\\n#project-butler:\\n${config.shellCommands.shellAliasGetterEvalString}\\n`\n               );\n               console.log(colors.bold.inverse(\"Well done. You are ready! ✅\"));\n            }\n         } catch (e) {\n            console.log(\n               colors.bold.inverse(\n                  \"Could not access your files. Please add the line manually to your shell config:\"\n               )\n            );\n            console.log(\"\");\n            console.log(\n               colors.bold(config.shellCommands.shellAliasGetterEvalString)\n            );\n            console.log(\"\");\n            console.log(e);\n         }\n      });\n   } else {\n      next();\n   }\n};\n","const getCWD = process.cwd,\n   enquirer = require(\"enquirer\"),\n   config = require(\"../../config\");\n\nmodule.exports = function (cli, db, flags) {\n   db.fetchAll().then((projectListResult) => {\n      if (!projectListResult || !Array.isArray(projectListResult.resultData)) {\n         throw new Error(\"Invalid Result\");\n      }\n\n      const projectsArray = projectListResult.resultData;\n\n      const longestDirectoryNameLength = projectsArray.reduce(\n         (longestInt, { directoryName }) => {\n            return longestInt > directoryName.length\n               ? longestInt\n               : directoryName.length;\n         },\n         0\n      );\n\n      new enquirer.AutoComplete({\n         name: \"project\",\n         message: \"Choose a project (type for autocompletion)\",\n         stdout: process.stderr,\n         choices: projectsArray.map(({ absPath, directoryName, aliases }) => {\n            const homeDirRx = new RegExp(\"^\" + config.homedir, \"i\");\n            return {\n               value: {\n                  absPath,\n                  directoryName,\n                  aliases,\n                  toString: function () {\n                     return absPath;\n                  },\n               },\n               // name: absPath,\n               message: `${directoryName.padEnd(\n                  longestDirectoryNameLength,\n                  \" \"\n               )} ${absPath.replace(homeDirRx, \"~\")}`,\n            };\n         }),\n      })\n         .run()\n         .then(({ aliases, absPath }) => {\n            if (!fs.existsSync(absPath)) {\n               console.log(\"--------------------\");\n               new enquirer.Confirm({\n                  message: \"ℹ️  The directory is gone! Delete it?  \",\n                  stdout: process.stderr,\n                  initial: \"Y\",\n               })\n                  .run()\n                  .then((boolDoDelete) => {\n                     if (!boolDoDelete) {\n                        console.log(`No worries I left it in the List!`);\n                     }\n                  })\n                  .catch(console.error);\n            } else {\n               console.log(\"Switching to the directory now\");\n               openProjectOrCallAction(aliases[0], path.resolve(getCWD()));\n            }\n         })\n         .catch(console.error);\n   });\n};\n","require(\"./utils/stdoutToStderrProxy\");\n// ! ^ we require this so that Stdout is redirected immediately after\n\n/**\n * Important:\n * This is an interface layer for an overlaying shell caller.\n * This is because node can only fork/spawn but cannot actually manipulate\n * the open shell.\n */\nconst { version: VERSION } = require(\"./package.json\");\n\nconst cli = require(\"commander\"),\n   ensureStorageExistence = require(\"./db/ensureStorageExistence\"),\n   getDatabaseManager = require(\"./db/getDatabaseManager\"),\n   // ------------------------------\n   setupCommand_addProject = require(\"./cli/addProject\"),\n   setupCommand_removeProject = require(\"./cli/removeProject\"),\n   setupCommand_openProjectOrCallCommand = require(\"./cli/openProjectOrCallCommand\"),\n   // ------------------------------\n   cli_returnShellScript = require(\"./cli/commandless/shellScript\"),\n   cli_installAliasInShellRc = require(\"./cli/commandless/installAliasInShellRc\"),\n   cli_catchAll = require(\"./cli/commandless/catchAll\");\n\n// gotta make sure we can write to the Database! Safety first!\nensureStorageExistence();\n\n// now connect to the Database and get a Manager instance where we can fetch and write\nconst db = getDatabaseManager();\n\n//----------------------------------------\ncli.version(VERSION, \"-v, --version\", \"output the current version\")\n   .option(\"-s, --shell-script\", \"Return the shell script\")\n   .option(\"-i, --install\", \"Tries to install the shell script\");\n\nsetupCommand_addProject(cli, db);\nsetupCommand_removeProject(cli, db);\nsetupCommand_openProjectOrCallCommand(cli, db);\n\n// parse the cli arguments\nconst parsedCliArgs = cli.parse(process.argv);\n\nif (!parsedCliArgs.args || parsedCliArgs.args.length == 0) {\n   // ! Each of the following functions will only run if the previous one returned Boolean(true)\n   // ! This makes them mutual exclusive and the catchAll only runs if the others did not apply\n\n   const mutualExclusiveCliEvaluators = [\n      cli_returnShellScript, // option -s --shell-script\n      cli_installAliasInShellRc, // option -i --install-alias\n      cli_catchAll, // if nothing was met this will execute\n   ];\n\n   // * We follow the same approach as \"express\" by waiting for the previous \"next()\" function\n   // * to be called. So we execute the next promise only if the previous one resolved!\n   let lastPromise = Promise.resolve();\n   mutualExclusiveCliEvaluators.forEach((cliEvaluator) => {\n      lastPromise = lastPromise.then(\n         () =>\n            new Promise((next) => {\n               cliEvaluator(cli, db, parsedCliArgs, next);\n            })\n      );\n   });\n}\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}